(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"+sTJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n.n(i),o=(n("75fB"),n("Z/8h")),a=n("VWFO"),s=n("jKG3"),u=n("TyAF"),c=n("Mpw+"),l=n("4dgq"),p=r.a.createElement,d=Object(u.c)((function(e){var t=c.a.intlStringFactory(["BookmarkBtn_done","BookmarkBtn_confirm","BookmarkBtn_question","BookmarkBtn_lesson"]),n=e.isChecked,i=e.toggleBookmark,u=e.className,d=void 0===u?"":u,f=e.type,b=void 0===f?"question":f,h=e.style;return p(r.a.Fragment,null,p("div",{className:"BookmarkBtn BookmarkBtn--"+(n?"checked":"unchecked")+" "+d,onClick:function(){return i()},style:h||{}}),p(o.a,{popupTitle:"lesson"===b?a.b.lessonBookmarkCompleted:a.c.questionBookmarkCompleted,title:p("b",null,t.BookmarkBtn_done),content:c.a.intl.formatMessage({id:"BookmarkBtn_get_bookmarked"},{type:"lesson"===b?t.BookmarkBtn_lesson:t.BookmarkBtn_question}),hasIcon:!0,iconType:"bookmark",iconPosition:"top",btnText:t.BookmarkBtn_confirm,btnType:"3d",isDark:"lesson"===b&&Object(s.a)(l.a.getInstance().currentUser.theme)}))}))},"/r/D":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n.n(i),o=(n("x0cI"),n("nLXl")),a=r.a.createElement,s=function(e){var t=e.answer,n=e.resolved,i=e.className,r="default";return n?r="resolved":t>0&&(r="unresolved"),a("span",{className:(void 0===i?"":i)+"__counts--each AnswerCount "+r},Object(o.a)({answer:t},"answer","AnswerCount_answer","AnswerCount_answer_plural"))}},"2X+C":function(e,t,n){"use strict";var i,r,o,a,s,u,c,l,p,d,f,b,h,m,O,v,_,S,g,y,w,E,k,I,N,C,j,L,R,x,T,z,P,Q,A,D,q,H,U,B,V,G,M=n("cpVT"),F=n("vJKn"),W=n.n(F),X=n("rg98"),K=n("4nv/"),Y=n("H+61"),J=n("UlJF"),Z=n("EaFg"),$=(n("ACih"),n("2vnA")),ee=n("TTIZ"),te=n("cBaE"),ne=n("rW1U"),ie=n("Kjp4"),re=n("20a2"),oe=n.n(re),ae=n("VWFO"),se=n("rzrn"),ue=n("l/yA"),ce=n("Mpw+"),le=n("1sAG"),pe=(i=function e(){Object(Y.a)(this,e),Object(K.a)(this,"isSubmitted",r,this),Object(K.a)(this,"isCorrectAnswer",o,this),Object(K.a)(this,"xpPoint",a,this),Object(K.a)(this,"setIsSubmitted",s,this),Object(K.a)(this,"setIsCorrectAnswer",u,this),Object(K.a)(this,"setXpPoint",c,this)},r=Object(Z.a)(i.prototype,"isSubmitted",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Object(Z.a)(i.prototype,"isCorrectAnswer",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=Object(Z.a)(i.prototype,"xpPoint",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(Z.a)(i.prototype,"setIsSubmitted",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSubmitted=t}}}),u=Object(Z.a)(i.prototype,"setIsCorrectAnswer",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isCorrectAnswer=t}}}),c=Object(Z.a)(i.prototype,"setXpPoint",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.xpPoint=t}}}),i),de=n("tUgX"),fe=n("xyGi"),be=n("kOu/"),he=n("wjrT"),me=n("K49R"),Oe=n("aak0"),ve=function(){var e=Object(X.a)(W.a.mark((function e(t){var n,i,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,e.next=3,ne.a.requestGraphql('{\n    studyNoteById(id: "'+t+'") {\n      '+Oe.a.SINGLE_LESSON_STUDYNOTE_ATTR()+"\n    }\n  }");case 3:return r=e.sent,null!==(n=r.data)&&void 0!==n&&n.studyNoteById&&(i=r.data.studyNoteById),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=n("2kfl"),Se=n("BXkF");function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(M.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=ce.a.intlStringFactory(["ClassroomStore_REPORT_ERROR","ClassroomStore_BOOKMARK_CREATE_ERROR","ClassroomStore_BOOKMARK_DELETE_ERROR","ClassroomStore_ENTER_LESSON_ERROR"]),Ee=(l=function(){function e(t){var n=this;Object(Y.a)(this,e),this.quizResultBannerStore=void 0,this.loadingStore=void 0,this.splitViewStore=void 0,Object(K.a)(this,"hasValidEnrollment",p,this),Object(K.a)(this,"isPreview",d,this),Object(K.a)(this,"isSingleTopic",f,this),Object(K.a)(this,"courseInfo",b,this),Object(K.a)(this,"isBookmarked",h,this),Object(K.a)(this,"isSideNavOpen",m,this),Object(K.a)(this,"selfCheckIsOpened",O,this),Object(K.a)(this,"currentInfo",v,this),Object(K.a)(this,"files",_,this),Object(K.a)(this,"nextLessonId",S,this),Object(K.a)(this,"previousLessonId",g,this),Object(K.a)(this,"lessonRating",y,this),Object(K.a)(this,"acquiredUserXpPoint",w,this),Object(K.a)(this,"setDefault",E,this),Object(K.a)(this,"checkEditorOpened",k,this),Object(K.a)(this,"initCurrentInfo",I,this),this.getCourseInfo=function(){return n.courseInfo},Object(K.a)(this,"initCourseInfo",N,this),Object(K.a)(this,"initPreview",C,this),Object(K.a)(this,"setSelfCheckOpened",j,this),Object(K.a)(this,"toggleSideNav",L,this),Object(K.a)(this,"checkSelfCheckOpened",R,this),Object(K.a)(this,"onClickBookmark",x,this),Object(K.a)(this,"toggleBookmark",T,this),Object(K.a)(this,"checkTopicVersion",z,this),Object(K.a)(this,"changeNumStars",P,this),Object(K.a)(this,"setPrevAndNextLesson",Q,this),Object(K.a)(this,"changeLessonPassed",A,this),Object(K.a)(this,"setLessonRating",D,this),Object(K.a)(this,"setAcquiredUserXpPoint",q,this),this.isActionUnavailable=function(){return!n.hasValidEnrollment||n.isPreview},this.getLessonNum=function(){var e,t=0,i=0,r=null===(e=n.currentInfo.chapter)||void 0===e?void 0:e.lessons;return null===r||void 0===r||r.map((function(e){Se.a.isLessonRenderable(e)&&(t++,e.id===n.currentInfo.id)&&(i=t)})),i>9?i:"0"+i},Object(K.a)(this,"createReport",H,this),Object(K.a)(this,"bookmarkLessonApi",U,this),Object(K.a)(this,"deleteBookmarkLessonApi",B,this),Object(K.a)(this,"checkSolvedInQuiz",V,this),this.checkQuizDoneByAttempts=function(e){return e.filter((function(e){return e.pass})).length===(n.currentInfo.quizQuestions?n.currentInfo.quizQuestions.filter((function(e){return e.type!==ee.e.DESCRIPTION})).length:0)},Object(K.a)(this,"clickGradeQuiz",G,this),this.quizResultBannerStore=t||new pe,this.loadingStore=new de.a,this.splitViewStore=new fe.a}return Object(J.a)(e,[{key:"isTrialLessonAndAccessibleUser",get:function(){var e;return Object(_e.c)()&&(null===(e=this.currentInfo)||void 0===e?void 0:e.trialLesson)}}]),e}(),p=Object(Z.a)(l.prototype,"hasValidEnrollment",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=Object(Z.a)(l.prototype,"isPreview",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=Object(Z.a)(l.prototype,"isSingleTopic",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=Object(Z.a)(l.prototype,"courseInfo",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),h=Object(Z.a)(l.prototype,"isBookmarked",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(Z.a)(l.prototype,"isSideNavOpen",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=Object(Z.a)(l.prototype,"selfCheckIsOpened",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=Object(Z.a)(l.prototype,"currentInfo",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(le.a)()}}),_=Object(Z.a)(l.prototype,"files",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=Object(Z.a)(l.prototype,"nextLessonId",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=Object(Z.a)(l.prototype,"previousLessonId",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=Object(Z.a)(l.prototype,"lessonRating",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=Object(Z.a)(l.prototype,"acquiredUserXpPoint",[$.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=Object(Z.a)(l.prototype,"setDefault",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.loadingStore.setIsLoading(!1),e.splitViewStore.setDefault(),e.hasValidEnrollment=!1,e.isPreview=!1,e.isSingleTopic=!0,e.courseInfo=void 0,e.isBookmarked=!1,e.isSideNavOpen=!1,e.selfCheckIsOpened=!1,e.currentInfo=Object(le.a)(),e.files=[],e.nextLessonId="",e.previousLessonId="",e.lessonRating=!1,e.acquiredUserXpPoint=void 0}}}),k=Object(Z.a)(l.prototype,"checkEditorOpened",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.splitViewStore,n=t.getIsSplitMode,i=t.setIsRightClosed;(0,t.setSplitModeByWidth)(),i(!n()||!e.currentInfo.editorOpened&&"EXERCISE"!==e.currentInfo.type)}}}),I=Object(Z.a)(l.prototype,"initCurrentInfo",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.setDefault(),t&&(e.currentInfo=t,e.hasValidEnrollment=n,e.isBookmarked=!!e.currentInfo.bookmark,e.setLessonRating(!!e.currentInfo.studyNote&&["COMPLETED_CONTENT","PASSED"].includes(e.currentInfo.studyNote.status)),e.setPrevAndNextLesson(),Object($.p)((function(){null!==e.currentInfo&&(!e.files.length&&e.currentInfo.files&&(e.files=e.currentInfo.files),e.currentInfo.rate||(e.currentInfo.rate={score:0}))})),e.checkEditorOpened(),e.checkSelfCheckOpened(),n||e.checkTopicVersion())}}}),N=Object(Z.a)(l.prototype,"initCourseInfo",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.courseInfo=t,e.isSingleTopic=!1,e.setPrevAndNextLesson()}}}),C=Object(Z.a)(l.prototype,"initPreview",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isPreview=!0,e.setLessonRating(!1)}}}),j=Object(Z.a)(l.prototype,"setSelfCheckOpened",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selfCheckIsOpened=t}}}),L=Object(Z.a)(l.prototype,"toggleSideNav",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.isSideNavOpen;e.isSideNavOpen=t}}}),Object(Z.a)(l.prototype,"isTrialLessonAndAccessibleUser",[$.g],Object.getOwnPropertyDescriptor(l.prototype,"isTrialLessonAndAccessibleUser"),l.prototype),R=Object(Z.a)(l.prototype,"checkSelfCheckOpened",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.currentInfo.type==ee.h.EXERCISE&&e.currentInfo.gradingType==ee.b.SELF&&e.currentInfo.guides){var t=0;e.currentInfo.guides.map((function(e){e.checked&&t++})),t>0?e.setSelfCheckOpened(!0):e.setSelfCheckOpened(!1)}}}}),x=Object(Z.a)(l.prototype,"onClickBookmark",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(X.a)(W.a.mark((function t(){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isTrialLessonAndAccessibleUser?se.a.getInstance().setCurrentPopup(ae.c.toUseThisFeature):e.isPreview||e.toggleBookmark();case 1:case"end":return t.stop()}}),t)})))}}),T=Object(Z.a)(l.prototype,"toggleBookmark",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(X.a)(W.a.mark((function t(){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isBookmarked?e.deleteBookmarkLessonApi():e.bookmarkLessonApi().then((function(){se.a.getInstance().setCurrentPopup(ae.b.lessonBookmarkCompleted)}));case 1:case"end":return t.stop()}}),t)})))}}),z=Object(Z.a)(l.prototype,"checkTopicVersion",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(X.a)(W.a.mark((function t(){var n,i,r,o;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=null===(n=e.currentInfo)||void 0===n||null===(i=n.topic)||void 0===i?void 0:i.slug)){t.next=12;break}return t.prev=2,t.next=5,ne.a.requestGraphql('{\n          topicByResourceKey(key: "'+r+'") {id slug title seqId}\n          '+ie.a.NEW_VERSION(r)+"\n          "+ie.a.OLD_VERSION(r)+"\n        }");case 5:o=t.sent,Object($.p)((function(){if(o.errors.length>0)Object(te.a)("error in checkTopicVersion : ",o);else{var t=o.data,n=t.topicByResourceKey,i=t.newVersionTopic,r=t.oldVersionTopic;if(!n&&(i||r)){var a,s,u=i?i.slug:r.slug,c=i?ae.c.newTopicLesson:ae.c.oldTopicLesson;oe.a.push(null!==(a=e.courseInfo)&&void 0!==a&&a.slug?"/courses/[c_slug]/topics/[t_slug]?popup="+c:"/topics/[t_slug]?popup="+c,null!==(s=e.courseInfo)&&void 0!==s&&s.slug?"/courses/"+e.courseInfo.slug+"/topics/"+u+"?popup="+c:"/topics/"+u+"?popup="+c)}}})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),Object(te.a)("error in checkTopicVersion : ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))}}),P=Object(Z.a)(l.prototype,"changeNumStars",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(X.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.currentInfo.rate.score=n;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Q=Object(Z.a)(l.prototype,"setPrevAndNextLesson",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n,i,r=null===(t=e.currentInfo.topic)||void 0===t?void 0:t.chapters;if(r){var o=[];r.map((function(t){Object(ue.a)(t)&&t.lessons.map((function(t){"number"===typeof(null===t||void 0===t?void 0:t.seqId)&&Se.a.isLessonRenderable(t)&&(e.isTrialLessonAndAccessibleUser?t.trialLesson&&o.push(t.seqId):o.push(t.seqId))}))}));var a=function(t){return t===e.currentInfo.seqId};e.nextLessonId=o.findIndex(a)+1>=o.length?"LAST":null===(n=o[o.findIndex(a)+1])||void 0===n?void 0:n.toString(),e.previousLessonId=0===o.findIndex(a)?"FIRST":null===(i=o[o.findIndex(a)-1])||void 0===i?void 0:i.toString()}}}}),A=Object(Z.a)(l.prototype,"changeLessonPassed",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(X.a)(W.a.mark((function t(n){var i;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isTrialLessonAndAccessibleUser){t.next=2;break}return t.abrupt("return");case 2:i=ye({},e.currentInfo.studyNote),n?"PASSED"!==i.status&&(i.status="PASSED",e.currentInfo.topic.enrollment.passedLessonCount+=1):(i.status="COMPLETED_CONTENT",e.currentInfo.topic.enrollment.passedLessonCount-=1),Object($.p)((function(){Object($.q)(e.currentInfo,"studyNote",i)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),D=Object(Z.a)(l.prototype,"setLessonRating",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(X.a)(W.a.mark((function t(n){var i,r,o,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.lessonRating=n,!n||"DEFAULT"!==(null===(i=e.currentInfo)||void 0===i||null===(r=i.studyNote)||void 0===r?void 0:r.status)){t.next=12;break}return t.prev=2,t.next=5,ne.a.requestGraphql('mutation {\n          completedContent( studyNoteId: "'+(null===(o=e.currentInfo)||void 0===o||null===(a=o.studyNote)||void 0===a?void 0:a.id)+'") {id}\n        }');case 5:t.sent.data&&Object($.p)((function(){e.currentInfo.studyNote.status="COMPLETED_CONTENT"})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),Object(te.a)("error setLessonRating in NCS:: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}}),q=Object(Z.a)(l.prototype,"setAcquiredUserXpPoint",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(X.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.currentInfo&&e.currentInfo.userXp?e.acquiredUserXpPoint=void 0:e.acquiredUserXpPoint=n;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),H=Object(Z.a)(l.prototype,"createReport",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=Object(X.a)(W.a.mark((function e(t,n,i){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.requestGraphql('\n        mutation {\n          createReport(lessonId: "'+t+'", content: '+JSON.stringify(Object(te.p)(n))+") {\n            id\n            content\n          }\n        }\n      ");case 3:r=e.sent,Object($.p)((function(){r.errors.length>0||!r.data.createReport?alert(we.ClassroomStore_REPORT_ERROR):i()})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(we.ClassroomStore_REPORT_ERROR);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,i){return e.apply(this,arguments)}}()}}),U=Object(Z.a)(l.prototype,"bookmarkLessonApi",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(X.a)(W.a.mark((function t(){var n,i;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.a.requestGraphql('\n      mutation {\n        bookmarkLesson(lessonId: "'+e.currentInfo.id+'")\n      }\n    ');case 2:if(i=t.sent,null===(n=i.data)||void 0===n||!n.bookmarkLesson){t.next=6;break}return Object($.p)((function(){e.isBookmarked=!0})),t.abrupt("return");case 6:alert(we.ClassroomStore_BOOKMARK_CREATE_ERROR);case 7:case"end":return t.stop()}}),t)})))}}),B=Object(Z.a)(l.prototype,"deleteBookmarkLessonApi",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(X.a)(W.a.mark((function t(){var n,i;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.a.requestGraphql('\n      mutation {\n        deleteBookmarkLesson(lessonId: "'+e.currentInfo.id+'")\n      }\n    ');case 2:if(i=t.sent,null===(n=i.data)||void 0===n||!n.deleteBookmarkLesson){t.next=6;break}return Object($.p)((function(){e.isBookmarked=!1})),t.abrupt("return");case 6:alert(we.ClassroomStore_BOOKMARK_DELETE_ERROR);case 7:case"end":return t.stop()}}),t)})))}}),V=Object(Z.a)(l.prototype,"checkSolvedInQuiz",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.currentInfo.quizQuestions)if(e.isTrialLessonAndAccessibleUser){var t=[];e.currentInfo.quizQuestions.filter((function(e){return e.type!==ee.e.DESCRIPTION})).map((function(e){return t.push(e.id)})),Object(he.c)(me.a.currentQuiz,JSON.stringify(t))}else!e.isPreview&&e.currentInfo.studyNote&&"DEFAULT"===e.currentInfo.studyNote.status&&e.currentInfo.studyNote.quizAttempts&&e.checkQuizDoneByAttempts(e.currentInfo.studyNote.quizAttempts)&&e.changeLessonPassed(!0)}}}),G=Object(Z.a)(l.prototype,"clickGradeQuiz",[$.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(X.a)(W.a.mark((function t(n,i){var r,o,a,s,u,c,l,p;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=void 0,!e.isTrialLessonAndAccessibleUser){t.next=8;break}return t.next=4,Object(be.d)({lessonId:e.currentInfo.id,quizId:n,attempt:i});case 4:(r=t.sent)&&(o=[],(a=Object(he.a)(me.a.currentQuiz))&&(o=JSON.parse(a)),o.splice(o.findIndex((function(e){return e===e})),1),Object(he.c)(me.a.currentQuiz,JSON.stringify(o)),0===o.length&&e.setLessonRating(!0)),t.next=16;break;case 8:return t.next=10,Object(be.c)({lessonId:e.currentInfo.id,enrollmentId:null!==(s=e.currentInfo.topic)&&void 0!==s&&null!==(u=s.enrollment)&&void 0!==u&&u.id?null===(c=e.currentInfo.topic)||void 0===c||null===(l=c.enrollment)||void 0===l?void 0:l.id:"",quizId:n,attempt:i});case 10:if(!(r=t.sent)||!e.currentInfo.studyNote){t.next=16;break}return t.next=14,ve(e.currentInfo.studyNote.id);case 14:(p=t.sent)&&(Object($.p)((function(){Object($.q)(e.currentInfo,"studyNote",p)})),null!==p&&void 0!==p&&p.quizAttempts&&e.checkQuizDoneByAttempts(p.quizAttempts)&&e.setLessonRating(!0));case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),l);t.a=Ee},"6zNa":function(e,t,n){},"75fB":function(e,t,n){},D46v:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("q1tI"),r=n.n(i),o=n("+sTJ"),a=n("Ta05"),s=n("TyAF"),u=(n("TGH7"),n("xxJ7")),c=n("O0km"),l=n("jKG3"),p=n("UIfX"),d=n("iblh"),f=n("4dgq"),b=r.a.createElement,h=Object(s.b)("classroomStore","sizeStore")(Object(s.c)((function(e){var t,n,s,h=e.sizeStore.windowWidth,m=e.classroomStore,O=m.onClickBookmark,v=m.currentInfo,_=m.courseInfo,S=m.isBookmarked,g=m.isTrialLessonAndAccessibleUser,y=m.isPreview,w=e.classroomStore.splitViewStore,E=w.getIsSplitMode,k=w.getLeftSizeInPercentage,I=w.getIsRightClosed,N=w.toggleIsRightClosed;Object(i.useEffect)((function(){var e;g&&d.a.record({target:"PAGE",action:"VIEW",title:"FreeTrialLesson",type:"",additionalData:{courseTitle:null===_||void 0===_?void 0:_.title,topicTitle:null===v||void 0===v||null===(e=v.topic)||void 0===e?void 0:e.title,lessonSeqId:v.seqId}})}),[null===v||void 0===v?void 0:v.seqId]);var C=Object(i.useMemo)((function(){var e,t;return Object(p.a)(v.language,null===(e=v.topic)||void 0===e||null===(t=e.enrollment)||void 0===t?void 0:t.id)}),[v.language,null===(t=v.topic)||void 0===t||null===(n=t.enrollment)||void 0===n?void 0:n.id]);return b(c.a,{splitViewStore:e.classroomStore.splitViewStore,className:"ClassroomContent",classNameLeft:"ClassroomContent__left\n        "+(h*k()/100<600?"S":h*k()/100<992?"M":"L")+"\n      ",classNameRight:"ClassroomContent__right "+(I()?"ClassroomContent__right--isClosed":""),disableRightNode:C,leftNode:b(r.a.Fragment,null,b(o.a,{type:"lesson",className:(E()&&I()?"ClassroomContent__fullBookmark":"")+"\n          ",isChecked:!y&&S,toggleBookmark:O}),b(a.a,null)),rightNode:b(r.a.Fragment,null,b("div",{className:"ClassroomContent__right--closeEditorBtn",onClick:N}),b(u.a,{isPreview:y})),isDarkMode:Object(l.a)((null===(s=f.a.getInstance().currentUser)||void 0===s?void 0:s.theme)||"LIGHT")})})))},D6xn:function(e,t,n){},FPlf:function(e,t,n){},GFtf:function(e,t,n){},ICqg:function(e,t,n){},L0Mw:function(e,t,n){},MD5h:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n.n(i),o=n("4HrR"),a=n("YFqc"),s=n.n(a),u=n("6NXq"),c=n("Mpw+"),l=n("OWg0"),p=n("upGi"),d=r.a.createElement,f=function(e){var t=c.a.intlStringFactory(["QuestionLessonHierarchy_normal_question","QuestionLessonHierarchy_empty_title","QuestionLessonHierarchy_no_category"]),n=e.data,i=e.length,a=e.linkAllowed,f=e.className,b=void 0===f?"Community":f,h=n.category,m=n.lesson,O=n.course,v=m?Object(l.c)(m.seqId,m&&O?null===O||void 0===O?void 0:O.slug:void 0):void 0;return h?d("div",{className:b+"QuestionHead__lessonHierarchy"},h==u.d.GENERAL&&d(o.a,{text:t.QuestionLessonHierarchy_normal_question,length:i,className:b+"QuestionHead__lessonHierarchy--text"}),h===u.d.CONTENT_RELATED?m?d(r.a.Fragment,null,d(o.a,{text:m.topic?m.topic.title:t.QuestionLessonHierarchy_empty_title,length:i,className:b+"QuestionHead__lessonHierarchy--text"}),d(p.a,null),d(o.a,{text:m.chapter?m.chapter.title:t.QuestionLessonHierarchy_empty_title,length:i,className:b+"QuestionHead__lessonHierarchy--text"}),d(p.a,null),a&&v?d(s.a,{href:v,prefetch:!1},d("a",null,d(o.a,{text:m.title,length:i,className:b+"QuestionHead__lessonHierarchy--text CommunityQuestionHead__lessonHierarchy--text--link"}))):d(o.a,{text:m.title,length:i,className:b+"QuestionHead__lessonHierarchy--text"})):d(o.a,{text:t.QuestionLessonHierarchy_empty_title,length:i,className:b+"QuestionHead__lessonHierarchy--text"}):d(r.a.Fragment,null),h===u.d.ANNOUNCEMENT&&d(r.a.Fragment,null)):d("div",{className:b+"QuestionHead__lessonHierarchy"},d(o.a,{text:t.QuestionLessonHierarchy_no_category,length:999,className:b+"QuestionHead__lessonHierarchy--text"}))}},N0Jn:function(e,t,n){},NDGH:function(e,t,n){},NEBB:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var i={question:30,showHint:-1,showSolution:-20},r={question:100,showHint:-1,showSolution:-60},o={course:2e3,topic:500}},O6t1:function(e,t,n){},PKFY:function(e,t,n){},"QH+a":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n.n(i),o=n("EXd0"),a=n("jKG3"),s=n("cBaE"),u=r.a.createElement,c=function(e){var t=e.content,n=e.writerRole,i=e.updatedAt,r=e.className,c=void 0===r?"":r;return u(o.a,{className:c,content:t,isPro:a.e.ROLE_ADMIN==n||a.e.ROLE_TA==n||Object(s.H)(i)})}},TGH7:function(e,t,n){},Ta05:function(e,t,n){"use strict";n.d(t,"a",(function(){return Wt}));var i,r,o,a,s,u,c,l,p,d,f,b,h,m,O,v,_,S,g,y,w,E,k,I,N,C,j,L,R,x,T,z,P,Q,A,D,q,H,U=n("yO8D"),B=n("z7pX"),V=n("q1tI"),G=n.n(V),M=n("TyAF"),F=n("VWFO"),W=(n("ICqg"),n("rzrn")),X=n("Z/8h"),K=n("jKG3"),Y=n("Mpw+"),J=n("4dgq"),Z=G.a.createElement,$=Object(M.c)((function(e){var t=Y.a.intlStringFactory(["PopupLessonReport_PLACEHOLDER","PopupLessonReport_REPORT","PopupLessonReport_TITLE"]),n=e.onClickSubmit,i=Object(V.useState)(""),r=i[0],o=i[1];return Z(X.a,{notClosedWithBtn1:!0,className:"PopupLessonReport",popupTitle:F.b.lessonReport,content:Z("div",{className:"PopupLessonReport__content"},Z("textarea",{className:"PopupLessonReport__content--textarea",value:r,onChange:function(e){return o(e.target.value)},placeholder:t.PopupLessonReport_PLACEHOLDER})),isEnterAvailable:!1,btnType:"3d",btnText:t.PopupLessonReport_REPORT,btnFunc:function(){""==r?W.a.getInstance().setSecondPopup(F.b.errorEmptyContentSecond):(o(""),n(r))},hasCloseBtn:!0,hasIcon:!0,iconType:"alert",iconPosition:"title",title:t.PopupLessonReport_TITLE,isDark:Object(K.a)(J.a.getInstance().currentUser.theme)})})),ee=n("YFqc"),te=n.n(ee),ne=n("vJKn"),ie=n.n(ne),re=n("rg98"),oe=n("dsHz"),ae=n("6NXq"),se=n("cBaE"),ue=n("0Q9O"),ce=(n("vSX7"),n("MD5h")),le=n("/r/D"),pe=n("l+d7"),de=n("nLXl"),fe=V.createElement,be=Object(M.b)("sizeStore")(Object(M.c)((function(e){var t=Y.a.intlStringFactory(["LessonQuestion_URL_COPIED_MESSAGE","LessonQuestion_WRITE","LessonQuestion_SHARE"]),n=e.data,i=e.headOnly,r=void 0===i||i,o=e.className,a=void 0===o?"":o,s=e.linkAllowed,u=e.addTag,c=e.sizeStore.windowWidth,l=new Date(n.createdAt),p=Object(ue.n)();return fe("div",{className:"LessonQuestionHead "+a+" "+(p&&n.status===ae.e.HIDDEN?"hidden":""),key:n.id},fe("div",{className:"LessonQuestionHead__header"},fe("div",{className:"LessonQuestionHead__header--text"},fe("span",{className:"LessonQuestionHead__header--hierarchy"},fe(ce.a,{length:c<768?5:30,data:n,linkAllowed:s,className:"Lesson"})),fe("div",{className:"LessonQuestionHead__title"},s?fe(te.a,{href:"/community/threads/"+n.seqId,prefetch:!1},fe("a",{className:"LessonQuestionHead__title--text"},fe("span",null,Object(se.z)(l)<259200&&!n.isResolved&&fe("span",{className:"LessonQuestionHead__title--new"},c<768?"N":"NEW"),n.title))):fe("span",{className:"LessonQuestionHead__title--text"},n.title),fe("div",{className:"LessonQuestionHead__header--avatar Mobile"},fe(oe.a,{user:n.writer,showRank:!1,isTextLengthController:!0,isRight:!0}))),fe("div",{className:"LessonQuestionHead__createdTime"},Y.a.intl.formatMessage({id:"LessonQuestion_WRITE"},{postedAt:Object(se.B)(l)}))),fe("div",{className:"LessonQuestionHead__header--avatar NonMobile"},fe(oe.a,{user:n.writer,showRank:!r,isTextLengthController:!0,isRight:!0}))),fe("div",{className:"LessonQuestionHead__footer"},fe("div",{className:"LessonQuestionHead__tags "+(r||(!n.tags||0!=n.tags.length)&&n.tags?"":"noTag")},n.tags&&n.tags.map((function(e){return fe("span",{className:"LessonQuestionHead__tags--each",key:e.id,onClick:function(){u&&u(e.tag)}},"#",e.tag)}))),r?fe("div",{className:"LessonQuestionHead__counts"},fe("span",{className:"LessonQuestionHead__counts--each like"},Object(de.a)({recommendCount:Object(se.q)(n.totalLikeCount?n.totalLikeCount:0)},"recommendCount","LessonQuestion_RECOMMEND","LessonQuestion_RECOMMEND_plural")),fe(le.a,{answer:n.answers?n.answers.length:0,resolved:!!n.acceptedAnswerId,className:"LessonQuestionHead"}),fe("span",{className:"LessonQuestionHead__counts--each view"},Object(de.a)({viewCount:Object(se.q)(n.viewCount?n.viewCount:0)},"viewCount","LessonQuestion_LOOK_UP","LessonQuestion_LOOK_UP_plural"))):fe("div",{className:"LessonQuestionHead__counts Thread CR__hidden--ML"},fe(le.a,{answer:n.answers?n.answers.length:0,resolved:!!n.acceptedAnswerId,className:"LessonQuestionHead"}),fe("span",{className:"LessonQuestionHead__counts--each threadView"},Object(de.a)({viewCount:Object(se.q)(n.viewCount?n.viewCount:0)},"viewCount","LessonQuestion_LOOK_UP","LessonQuestion_LOOK_UP_plural")),fe("span",{className:"LessonQuestionHead__counts--each share",onClick:function(){return pe.a.copyToClipboard(window.location.href,t.LessonQuestion_URL_COPIED_MESSAGE)}},t.LessonQuestion_SHARE))))}))),he=n("QH+a"),me=n("upGi"),Oe=n("XTsb"),ve=n("Xdtg"),_e=(n("XSVQ"),G.a.createElement),Se=function(e){var t,n=Y.a.intlStringFactory(["LessonRelatedQuestionEach_GO_TO_QUESTION","LessonRelatedQuestionEach_QUESTION_NOT_SOLVED","LessonRelatedQuestionEach_DO_YOU_KNOW_ANSWER","LessonRelatedQuestionEach_GO_TO_ANSWER","LessonRelatedQuestionEach_BEST_ANSWER","LessonRelatedQuestionEach_WRITE"]),i=e.data,r=e.isOpen,o=e.setQuestionData,a=e.toggleQuestion,s=Object(V.useState)({x:0,y:0,clicked:!1}),u=s[0],c=s[1],l=Object(K.a)(J.a.getInstance().currentUser.theme),p=Object(V.useMemo)((function(){if(i.answers&&0!==i.answers.length){if(i.acceptedAnswerId)return i.answers.find((function(e){return e.id===i.acceptedAnswerId}));var e=Object(B.a)(i.answers);return e.sort((function(e,t){return t.likeCount-e.likeCount})),e[0]}}),[i]),d=function(){var e=Object(re.a)(ie.a.mark((function e(t,n){var i,r,a=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>2&&void 0!==a[2]?a[2]:ae.c.LIKE,r=void 0,"create"!==t){e.next=6;break}return e.next=5,Object(Oe.d)(n,i);case 5:r=e.sent;case 6:if("update"!==t){e.next=10;break}return e.next=9,Object(Oe.h)(n,i);case 9:r=e.sent;case 10:if("delete"!==t){e.next=14;break}return e.next=13,Object(Oe.f)(n);case 13:r=e.sent;case 14:r&&o(r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(re.a)(ie.a.mark((function e(t,n,i){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.b)(t,n,i);case 2:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),b=function(){var e=Object(re.a)(ie.a.mark((function e(t,n){var i,r,a=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>2&&void 0!==a[2]?a[2]:ae.c.LIKE,r=void 0,"create"!==t){e.next=6;break}return e.next=5,Object(Oe.c)(n,i);case 5:r=e.sent;case 6:if("update"!==t){e.next=10;break}return e.next=9,Object(Oe.g)(n,i);case 9:r=e.sent;case 10:if("delete"!==t){e.next=14;break}return e.next=13,Object(Oe.e)(n);case 13:r=e.sent;case 14:r&&o(r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(re.a)(ie.a.mark((function e(t,n,i){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)(t,n,i);case 2:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();return _e("div",{onMouseDown:function(e){return function(e){c({x:e.pageX,y:e.pageY,clicked:!0})}(e)},onMouseUp:function(e){return function(e){if(u.clicked){var t=u.x,n=u.y;Math.sqrt(Math.pow(e.pageX-t,2)+Math.pow(e.pageY-n,2))<20&&a()}c({x:0,y:0,clicked:!1})}(e)},className:"LessonRelatedQuestionEach"},_e("div",{className:"LessonRelatedQuestionEach--q"},_e(be,{data:i,headOnly:!0,linkAllowed:!1,className:"LessonRelatedQuestionEach--qHead"}),_e("div",{className:"LessonRelatedQuestionEach--qBody "+(r?"":"disappear")},_e(he.a,{content:i.content,writerRole:i.writer.role?i.writer.role:"",updatedAt:i.contentUpdatedAt}),_e("div",{className:"LessonRelatedQuestionEach--qBody--linkRow"},_e(ve.a,{className:"LessonRelatedQuestionEach__vote--small",data:i,type:"question",clickCreate:function(e,t){return b("create",e,t)},clickUpdate:function(e,t){return b("update",e,t)},clickDelete:function(e){return b("delete",e)},createDislike:h,horizontalInMobile:!0,isDark:l,isSmall:!0}),_e(ve.a,{className:"LessonRelatedQuestionEach__vote--notSmall",data:i,type:"question",clickCreate:function(e,t){return b("create",e,t)},clickUpdate:function(e,t){return b("update",e,t)},clickDelete:function(e){return b("delete",e)},createDislike:h,horizontalInMobile:!0,isDark:l}),_e(te.a,{href:"/community/threads/"+i.seqId,prefetch:!1},_e("a",{target:"_blank"},_e("div",{className:"LessonRelatedQuestionEach--qBody--link"},_e("span",null,n.LessonRelatedQuestionEach_GO_TO_QUESTION),_e(me.a,null))))))),_e("div",{className:"LessonRelatedQuestionEach--a "+(r?"":"disappear")},p?_e("div",{className:"LessonRelatedQuestionEach--aUnempty"},_e(te.a,{href:"/community/threads/"+i.seqId,prefetch:!1},_e("a",{target:"_blank"},_e("h2",{className:"LessonRelatedQuestionEach--aUnempty__title"},n.LessonRelatedQuestionEach_BEST_ANSWER))),_e(he.a,{content:p.content,writerRole:(null===(t=p.writer)||void 0===t?void 0:t.role)||"",updatedAt:p.updatedAt}),_e("div",{className:"LessonRelatedQuestionEach--footer"},_e(ve.a,{className:"LessonRelatedQuestionEach__vote--small",data:p,type:"answer",clickCreate:function(e,t){return d("create",e,t)},clickUpdate:function(e,t){return d("update",e,t)},clickDelete:function(e){return d("delete",e)},createDislike:f,horizontalInMobile:!0,isDark:l,isSmall:!0}),_e(ve.a,{className:"LessonRelatedQuestionEach__vote--notSmall",data:p,type:"answer",clickCreate:function(e,t){return d("create",e,t)},clickUpdate:function(e,t){return d("update",e,t)},clickDelete:function(e){return d("delete",e)},createDislike:f,horizontalInMobile:!0,isDark:l}),_e("div",{className:"LessonRelatedQuestionEach--footer--avatarWrapper"},_e("div",{className:"LessonRelatedQuestionEach--footer--text"},_e(oe.a,{user:p.writer,showImage:!1}),_e("span",{className:"LessonRelatedQuestionEach--footer--time"},Object(se.B)(new Date(p.createdAt))+" "+n.LessonRelatedQuestionEach_WRITE)),_e(oe.a,{user:p.writer,showName:!1,showRank:!1})))):_e("div",{className:"LessonRelatedQuestionEach--aEmpty"},_e("div",{className:"LessonRelatedQuestionEach--aEmpty--text"},n.LessonRelatedQuestionEach_QUESTION_NOT_SOLVED,_e("span",null," ",n.LessonRelatedQuestionEach_DO_YOU_KNOW_ANSWER)),_e(te.a,{href:"/community/threads/"+i.seqId,prefetch:!1},_e("a",null,_e("div",{className:"LessonRelatedQuestionEach--aEmpty--link"},n.LessonRelatedQuestionEach_GO_TO_ANSWER))))))},ge=(n("NDGH"),n("2kfl")),ye=G.a.createElement,we=function(e){var t=Y.a.intlStringFactory(["LessonRelatedQuestionEmpty_LEAVE_QUESTION","LessonRelatedQuestionEmpty_QUESTION","LessonRelatedQuestionEmpty_QUESTION"]),n=e.lessonSeqId,i=e.isSingleTopic,r=e.courseSlug,o=function(e){return ye("button",{className:"LessonRelatedQuestionEmpty--btn",onClick:function(){e.showPopup&&W.a.getInstance().setCurrentPopup(F.c.toUseThisFeature)}},ye("img",{alt:"post icon",src:"/static/images/community/post.png",width:22,height:22}),t.LessonRelatedQuestionEmpty_QUESTION)};return ye("div",{className:"LessonRelatedQuestionEmpty"},ye("p",{className:"LessonRelatedQuestionEmpty--text"},t.LessonRelatedQuestionEmpty_LEAVE_QUESTION),Object(ge.c)()?ye(o,{showPopup:!0}):ye(te.a,{href:i?"/community/write/"+n:"/community/write/"+n+"?course="+r,prefetch:!1},ye("a",null,ye(o,null))))},Ee=(n("a2CE"),G.a.createElement),ke=Object(M.b)("popupStore","classroomStore")(Object(M.c)((function(e){var t=Y.a.intlStringFactory(["LessonRelatedQuestion_QUESTION","LessonRelatedQuestion_RELATED_QUESTION","LessonRelatedQuestion_SEE_MORE_QUESTION"]),n=e.relatedQuestionData,i=e.lessonSeqId,r=e.lessonId,o=e.classroomStore,a=o.createReport,s=o.isSingleTopic,u=o.courseInfo,c=Object(V.useState)(n?n.filter((function(e){return e.status==ae.e.PUBLISHED})):[]),l=c[0],p=c[1],d=Object(V.useState)(-1),f=d[0],b=d[1];Object(V.useEffect)((function(){b(-1),p(n?n.filter((function(e){return e.status==ae.e.PUBLISHED})):[])}),[i]);var h=Object(M.c)((function(){return Ee("button",{className:"LessonRelatedQuestion__btns--each LessonRelatedQuestion__btns--submit",onClick:function(){Object(ge.c)()&&W.a.getInstance().setCurrentPopup(F.c.toUseThisFeature)}},Ee("img",{alt:"post icon",src:"/static/images/community/post.png",width:22,height:22}),t.LessonRelatedQuestion_QUESTION)}));return Ee("div",{className:"LessonRelatedQuestion"},Ee($,{onClickSubmit:function(e){return a(r,e,(function(){return W.a.getInstance().setCurrentPopup(F.b.lessonReportCompleted)}))}}),Ee("div",{className:"LessonRelatedQuestion__title"},t.LessonRelatedQuestion_RELATED_QUESTION),l&&l.length>0?Ee("div",{className:"LessonRelatedQuestion__eachWrapper"},l.map((function(e,t){return Ee(Se,{key:t,data:e,isOpen:t===f,toggleQuestion:function(){return function(e){b(e===f?-1:e)}(t)},setQuestionData:function(e){return function(e,t){var n=Object(B.a)(l);n[e]=t,p(n)}(t,e)}})}))):Ee(we,{lessonSeqId:i,isSingleTopic:s,courseSlug:s?"":u.slug}),Ee("div",{className:"LessonRelatedQuestion__btns"},l&&l.length>0&&Ee(G.a.Fragment,null,Ee(te.a,{href:s?"/community?lesson="+i:"/community?lesson="+i+"&course="+u.slug,prefetch:!1},Ee("a",null,Ee("button",{className:"LessonRelatedQuestion__btns--each LessonRelatedQuestion__btns--cancel"},t.LessonRelatedQuestion_SEE_MORE_QUESTION))),Object(ge.c)()?Ee(h,null):Ee(te.a,{href:s?"/community/write/"+i:"/community/write/"+i+"?course="+u.slug,prefetch:!1},Ee("a",null,Ee(h,null))))))}))),Ie=n("20a2"),Ne=n("TTIZ"),Ce=n("H+61"),je=n("UlJF"),Le=n("7LId"),Re=n("VIvw"),xe=n("iHvq"),Te=n("4nv/"),ze=n("EaFg"),Pe=(n("ACih"),n("2vnA")),Qe=n("NEBB"),Ae=(i=function e(){Object(Ce.a)(this,e),Object(Te.a)(this,"studyNote",r,this),Object(Te.a)(this,"solved",o,this),Object(Te.a)(this,"point",a,this),Object(Te.a)(this,"init",s,this),Object(Te.a)(this,"reset",u,this),Object(Te.a)(this,"fetchPoint",c,this),Object(Te.a)(this,"setRetry",l,this),Object(Te.a)(this,"calcPoint",p,this)},r=Object(ze.a)(i.prototype,"studyNote",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=Object(ze.a)(i.prototype,"solved",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=Object(ze.a)(i.prototype,"point",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(ze.a)(i.prototype,"init",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(t){e.studyNote=t;var n=void 0!==e.studyNote.sawExplanation&&e.studyNote.sawExplanation,i=e.studyNote.sawHints?e.studyNote.sawHints.length:0;e.fetchPoint(n,i),e.solved=void 0!==t.status&&["COMPLETED_CONTENT","PASSED"].includes(t.status)}else e.point=Qe.a.question}}}),u=Object(ze.a)(i.prototype,"reset",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.studyNote={},e.solved=!1,e.point=0}}}),c=Object(ze.a)(i.prototype,"fetchPoint",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.point=Qe.a.question,t&&e.calcPoint(Qe.a.showSolution),e.calcPoint(Qe.a.showHint*n)}}}),l=Object(ze.a)(i.prototype,"setRetry",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.solved=!1}}}),p=Object(ze.a)(i.prototype,"calcPoint",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.point=e.point+t}}}),i),De=n("vDqi"),qe=n.n(De),He=n("aak0"),Ue=Y.a.intlStringFactory(["ContentSupporterStore_SHOWING_HINT_ERROR","ContentSupporterStore_SHOWING_SOLUTION_ERROR","ContentSupporterStore_SHOWING_QUIZ_SOLUTION_ERROR"]),Be=(d=function e(){var t=this;Object(Ce.a)(this,e),Object(Te.a)(this,"ownId",f,this),Object(Te.a)(this,"courseData",b,this),Object(Te.a)(this,"points",h,this),Object(Te.a)(this,"hints",m,this),Object(Te.a)(this,"explanation",O,this),Object(Te.a)(this,"sawHints",v,this),Object(Te.a)(this,"sawExplanation",_,this),Object(Te.a)(this,"studyNoteId",S,this),Object(Te.a)(this,"isExercise",g,this),Object(Te.a)(this,"hintsOpen",y,this),Object(Te.a)(this,"solutionOpen",w,this),Object(Te.a)(this,"fetchPoint",E,this),Object(Te.a)(this,"solved",k,this),Object(Te.a)(this,"init",I,this),Object(Te.a)(this,"resetStore",N,this),Object(Te.a)(this,"toggleHints",C,this),Object(Te.a)(this,"toggleSolution",j,this),Object(Te.a)(this,"setSolved",L,this),Object(Te.a)(this,"showSolution",R,this),Object(Te.a)(this,"seeExplanationByType",x,this),Object(Te.a)(this,"seeHintByType",T,this),Object(Te.a)(this,"getNextHintId",z,this),Object(Te.a)(this,"seeHintInTrial",P,this),Object(Te.a)(this,"seeExplanationInTrial",Q,this),Object(Te.a)(this,"seeExerciseHint",A,this),Object(Te.a)(this,"seeQuizHint",D,this),this.hasExplanationLimit=function(){var e,n,i;return t.courseData&&Object(se.nb)()&&"NONE"!==(null===(e=J.a.getInstance().currentUser)||void 0===e||null===(n=e.business)||void 0===n||null===(i=n.explanationLimit)||void 0===i?void 0:i.type)},this.getRemainingExplanationLimit=function(){var e;return null!==(e=t.courseData)&&void 0!==e&&e.courseEnrollment?t.courseData.courseEnrollment.remainingExplanationLimit:0},this.setPopupForExplanation=function(){t.isExercise&&t.hasExplanationLimit()&&0===t.getRemainingExplanationLimit()?W.a.getInstance().setCurrentPopup(F.b.explanationUnavailable+t.ownId):W.a.getInstance().setCurrentPopup("CSConfirm__solution__"+t.ownId)},Object(Te.a)(this,"seeExplanation",q,this),Object(Te.a)(this,"seeQuizExplanation",H,this)},f=Object(ze.a)(d.prototype,"ownId",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=Object(ze.a)(d.prototype,"courseData",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=Object(ze.a)(d.prototype,"points",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=Object(ze.a)(d.prototype,"hints",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=Object(ze.a)(d.prototype,"explanation",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=Object(ze.a)(d.prototype,"sawHints",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=Object(ze.a)(d.prototype,"sawExplanation",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Object(ze.a)(d.prototype,"studyNoteId",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=Object(ze.a)(d.prototype,"isExercise",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=Object(ze.a)(d.prototype,"hintsOpen",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=Object(ze.a)(d.prototype,"solutionOpen",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=Object(ze.a)(d.prototype,"fetchPoint",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),k=Object(ze.a)(d.prototype,"solved",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(ze.a)(d.prototype,"init",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,i,r,o,a,s,u,c,l,p){var d=r;e.resetStore(),e.ownId=t,e.points=n,e.hints=i,e.explanation=d,e.sawHints=[],e.hints.map((function(t){o.includes(t.id)&&e.sawHints.push(t.id)})),e.studyNoteId=a,e.isExercise=s,e.sawExplanation=u,e.fetchPoint=l,e.solved=c,e.courseData=p}}}),N=Object(ze.a)(d.prototype,"resetStore",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.ownId="",e.points={},e.hints=[],e.explanation="",e.sawHints=[],e.sawExplanation=!1,e.studyNoteId="",e.isExercise=!1,e.hintsOpen=!1,e.solutionOpen=!1,e.fetchPoint=function(){},e.solved=!1,e.courseData=null}}}),C=Object(ze.a)(d.prototype,"toggleHints",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.hintsOpen;e.hintsOpen=t,e.solutionOpen=!1}}}),j=Object(ze.a)(d.prototype,"toggleSolution",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.solutionOpen;e.solutionOpen=t,e.hintsOpen=!1}}}),L=Object(ze.a)(d.prototype,"setSolved",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.solved=t}}}),R=Object(ze.a)(d.prototype,"showSolution",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.hintsOpen=!1,e.solutionOpen=!0}}}),x=Object(ze.a)(d.prototype,"seeExplanationByType",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?e.seeExplanationInTrial():e.isExercise?e.seeExplanation():e.seeQuizExplanation()}}}),T=Object(ze.a)(d.prototype,"seeHintByType",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?e.seeHintInTrial():e.isExercise?e.seeExerciseHint():e.seeQuizHint()}}}),z=Object(ze.a)(d.prototype,"getNextHintId",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){for(var t=0;t<e.hints.length;t++)if(!e.sawHints.includes(e.hints[t].id))return e.hints[t].id}}}),P=Object(ze.a)(d.prototype,"seeHintInTrial",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.getNextHintId();e.solutionOpen=!1,e.hintsOpen=!0,e.sawHints.push(t),e.fetchPoint(e.sawExplanation,e.sawHints.length)}}}),Q=Object(ze.a)(d.prototype,"seeExplanationInTrial",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.solutionOpen=!0,e.hintsOpen=!1,e.sawExplanation=!0,e.fetchPoint(e.sawExplanation,e.sawHints.length)}}}),A=Object(ze.a)(d.prototype,"seeExerciseHint",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(re.a)(ie.a.mark((function t(){var n,i;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getNextHintId(),t.prev=1,t.next=4,qe()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(se.y)("cat")?"Bearer "+Object(se.y)("cat"):""},data:'\n        mutation {\n          seeExerciseHint(studyNoteId: "'+e.studyNoteId+'", hintId: "'+n+'") {\n            '+He.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"});case 4:i=t.sent,Object(Pe.p)((function(){i.data.errors.length>0||!i.data.data.seeExerciseHint?(Object(se.a)("error in seeExerciseHint : ",i),alert(Ue.ContentSupporterStore_SHOWING_HINT_ERROR)):(e.solutionOpen=!1,e.hintsOpen=!0,e.sawHints.push(n),e.fetchPoint(e.sawExplanation,e.sawHints.length))})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(se.a)("error in seeExerciseHint : ",t.t0),alert(Ue.ContentSupporterStore_SHOWING_HINT_ERROR);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))}}),D=Object(ze.a)(d.prototype,"seeQuizHint",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(re.a)(ie.a.mark((function t(){var n,i;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getNextHintId(),t.prev=1,t.next=4,qe()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(se.y)("cat")?"Bearer "+Object(se.y)("cat"):""},data:'\n        mutation {\n          seeQuizHint(studyNoteId: "'+e.studyNoteId+'", hintId: "'+n+'", quizId: "'+e.ownId+'") {\n            '+He.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"});case 4:i=t.sent,Object(Pe.p)((function(){i.data.errors.length>0||!i.data.data.seeQuizHint?(Object(se.a)("error in seeQuizHint : ",i),alert(Ue.ContentSupporterStore_SHOWING_HINT_ERROR)):(e.solutionOpen=!1,e.hintsOpen=!0,e.sawHints.push(n),e.fetchPoint(e.sawExplanation,e.sawHints.length))})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(se.a)("error in seeQuizHint : ",t.t0),alert(Ue.ContentSupporterStore_SHOWING_HINT_ERROR);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))}}),q=Object(ze.a)(d.prototype,"seeExplanation",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(re.a)(ie.a.mark((function t(){var n,i,r;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qe()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(se.y)("cat")?"Bearer "+Object(se.y)("cat"):""},data:'\n        mutation {\n          seeExplanation(\n            studyNoteId: "'+e.studyNoteId+'",\n            lessonId: "'+e.ownId+'",\n            '+(null!==(n=e.courseData)&&void 0!==n&&null!==(i=n.courseEnrollment)&&void 0!==i&&i.id?'courseEnrollmentId: "'+e.courseData.courseEnrollment.id+'"':"")+"\n          ) {\n            "+He.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"});case 3:r=t.sent,Object(Pe.p)((function(){r.data.errors.length>0||!r.data.data.seeExplanation?(Object(se.a)("error in seeExplanation : ",r),alert(Ue.ContentSupporterStore_SHOWING_SOLUTION_ERROR)):(e.solutionOpen=!0,e.hintsOpen=!1,e.sawExplanation=!0,e.fetchPoint(e.sawExplanation,e.sawHints.length))})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),Object(se.a)("error in seeExplanation : ",t.t0),alert(Ue.ContentSupporterStore_SHOWING_SOLUTION_ERROR);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))}}),H=Object(ze.a)(d.prototype,"seeQuizExplanation",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(re.a)(ie.a.mark((function t(){var n;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qe()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(se.y)("cat")?"Bearer "+Object(se.y)("cat"):""},data:'\n        mutation {\n          seeQuizExplanation(studyNoteId: "'+e.studyNoteId+'", quizId: "'+e.ownId+'") {\n            '+He.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"});case 3:n=t.sent,Object(Pe.p)((function(){n.data.errors.length>0||!n.data.data.seeQuizExplanation?(Object(se.a)("error in seeQuizExplanation : ",n),alert(Ue.ContentSupporterStore_SHOWING_QUIZ_SOLUTION_ERROR)):(e.solutionOpen=!0,e.hintsOpen=!1,e.sawExplanation=!0,e.fetchPoint(e.sawExplanation,e.sawHints.length))})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),Object(se.a)("error in seeQuizExplanation : ",t.t0),alert(Ue.ContentSupporterStore_SHOWING_QUIZ_SOLUTION_ERROR);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))}}),d),Ve=(n("FPlf"),n("pG1P"),n("kriW")),Ge=G.a.createElement,Me=Object(M.c)((function(e){var t=e.contentSupporterStore,n=e.ownId,i=e.isTrialLesson,r=Y.a.intlStringFactory(["CSConfirmPopup_NEED_HINT","CSConfirmPopup_YES","CSConfirmPopup_NO","CSConfirmPopup_NEED_SOLUTION","CSConfirmPopup_SOLUTION_LIMIT_ALERT","CSConfirmPopup_REMAINING_EXPLANATION_LIMIT","CSConfirmPopup_CAN_NOT_SEE_SOLUTION","CSConfirmPopup_ALL_SOLUTION_CHANCE_USED"]),o=t.points,a=t.seeExplanationByType,s=t.seeHintByType,u=t.hasExplanationLimit,c=t.isExercise,l=t.getRemainingExplanationLimit;return Ge(G.a.Fragment,null,Ge(X.a,{className:"CSConfirmPopup",popupTitle:"CSConfirm__hint__"+n,hasBtn2:!0,title:Ge("div",{className:"CSConfirmPopup__title"},r.CSConfirmPopup_NEED_HINT),content:Ge("div",{className:"CSConfirmPopup__text"},Ge(Ve.a,{id:"CSConfirmPopup_MINUS_HINT_POINT",values:{hintPoint:Ge("b",null,-1*o.showHint,"XP")}})),btnFunc:function(){return s(i)},btnText:r.CSConfirmPopup_YES,btn2Text:r.CSConfirmPopup_NO,btnType:"3d",isDark:Object(K.a)(J.a.getInstance().currentUser.theme)}),Ge(X.a,{className:"CSConfirmPopup",popupTitle:"CSConfirm__solution__"+n,hasBtn2:!0,title:Ge("div",{className:"CSConfirmPopup__title"},r.CSConfirmPopup_NEED_SOLUTION,c&&u()&&" ("+l()+r.CSConfirmPopup_REMAINING_EXPLANATION_LIMIT+")"),content:Ge("div",{className:"CSConfirmPopup__text"},u()&&c?Ge(G.a.Fragment,null,r.CSConfirmPopup_SOLUTION_LIMIT_ALERT):Ge(Ve.a,{id:"CSConfirmPopup_MINUS_HINT_POINT",values:{hintPoint:Ge("b",null,-1*o.showSolution,"XP")}})),btnFunc:function(){return a(i)},btnText:r.CSConfirmPopup_YES,btn2Text:r.CSConfirmPopup_NO,btnType:"3d",isDark:Object(K.a)(J.a.getInstance().currentUser.theme)}),Ge(X.a,{popupTitle:""+F.b.explanationUnavailable+n,title:r.CSConfirmPopup_CAN_NOT_SEE_SOLUTION,content:r.CSConfirmPopup_ALL_SOLUTION_CHANCE_USED,hasIcon:!0,iconType:"alert",iconPosition:"top",isSmall:!0,isDark:Object(K.a)(J.a.getInstance().currentUser.theme)}))})),Fe=(n("PKFY"),n("EXd0")),We=V.createElement,Xe=function(e){var t=Y.a.intlStringFactory(["HintViewer_HINT"]),n=Object(V.useState)(0),i=n[0],r=n[1];return Object(V.useEffect)((function(){r(e.hintsUsed-1)}),[e.hintsUsed]),We("div",{className:"HintViewer--container"},We("div",{className:"HintViewer--list"},e.hintList.map((function(n,o){if(o<e.hintsUsed)return We("button",{key:o,className:o===i?"selected":"",onClick:function(){r(o)}},We("span",null,t.HintViewer_HINT),o+1)}))),We("div",{className:"HintViewer--content"},e.hintList.map((function(e,t){if(t===i)return We("div",{key:t},We(Fe.a,{isPro:!0,content:e.content||""}))}))))},Ke=n("QMV7"),Ye=V.createElement;function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(xe.a)(e);if(t){var r=Object(xe.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(Re.a)(this,n)}}var Ze=function(e){Object(Le.a)(n,e);var t=Je(n);function n(e){var i,r;if(Object(Ce.a)(this,n),(r=t.call(this,e)).contentSupporterStore=void 0,r.classroomStore=void 0,r.contentSupporterRef=void 0,r.contentSupporterRef=V.createRef(),!e.classroomStore)return Object(Re.a)(r);var o=e.ownId,a=e.points,s=e.hints,u=e.solution,c=e.isExercise,l=void 0!==c&&c,p=e.studyNoteId,d=e.sawHints,f=e.sawSolution,b=e.fetchPoint,h=e.solved;return r.contentSupporterStore=new Be,r.contentSupporterStore.init(o,a,s,u,d,p,l,f,h,b,null===(i=e.classroomStore)||void 0===i?void 0:i.courseInfo),r}return Object(je.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.ownId!==this.contentSupporterStore.ownId||this.props.studyNoteId!==this.contentSupporterStore.studyNoteId){var t=this.props,n=t.ownId,i=t.points,r=t.hints,o=t.solution,a=t.isExercise,s=void 0!==a&&a,u=t.studyNoteId,c=t.sawHints,l=t.sawSolution,p=t.fetchPoint,d=t.solved,f=t.classroomStore;this.contentSupporterStore.init(n,i,r,o,c,u,s,l,d,p,null===f||void 0===f?void 0:f.courseInfo)}if(this.props.solved!==this.contentSupporterStore.solved)if(this.contentSupporterStore.setSolved(this.props.solved),this.contentSupporterStore.toggleHints(!1),this.props.solved){this.contentSupporterStore.toggleSolution(!0);this.props.isExercise&&(Ke.a.getInstance().isTabletOrMobileSize&&e.props.classroomStore.splitViewStore.setIsRightClosed(!0),setTimeout((function(){var t;return null===(t=e.contentSupporterRef.current)||void 0===t?void 0:t.scrollIntoView()}),100))}else this.contentSupporterStore.toggleSolution(!1)}},{key:"componentWillUnmount",value:function(){this.contentSupporterStore.resetStore()}},{key:"render",value:function(){var e,t=this,n=Y.a.intlStringFactory(["ContentSupporter_HINT","ContentSupporter_SEE_SOLUTION","ContentSupporter_EXAM_SOLUTION","ContentSupporter_QUIZ_SOLUTION"]),i=this.contentSupporterStore,r=i.ownId,o=i.points,a=i.hintsOpen,s=i.solutionOpen,u=i.toggleSolution,c=i.toggleHints,l=i.sawExplanation,p=i.sawHints,d=i.explanation,f=i.solved,b=i.hints,h=i.setPopupForExplanation,m=this.props,O=m.isExercise,v=void 0!==O&&O,_=m.isPassed,S=m.children,g=this.props.popupStore.setCurrentPopup,y=null===(e=this.props.classroomStore)||void 0===e?void 0:e.isTrialLessonAndAccessibleUser;return Ye("div",{className:"ContentSupporter "+(v?"exercise":"quiz")},b&&b.length>0&&Ye("div",{className:"ContentSupporter__hintAndSolutionWrapper"},Ye("div",{className:"ContentSupporter__hintWrapper"},Ye("div",{className:"ContentSupporter__hintContainerStatus "+(a?"":"close"),onClick:function(){return c(!1)}}),Ye("div",{className:"ContentSupporter__showHintBtn",onClick:function(){!y&&t.props.classroomStore&&t.props.classroomStore.isActionUnavailable()?g(F.b.invalidEnrollment):(0===p.length||p.length<b.length&&a)&&!_?g("CSConfirm__hint__"+r):c()}},Ye("div",{className:"ContentSupporter__warningIcon ContentSupporter__warningIcon--step"+(p.length<2?p.length:2)},Ye("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 53 53"},Ye("g",null,Ye("g",null,Ye("circle",{className:"ContentSupporter__warningIcon__background",cx:"26.5",cy:"26.5",r:"26.5"}),Ye("path",{className:"ContentSupporter__warningIcon__exclamation",d:"M23.77,11.25h5.46L28.64,32.8h-4.2ZM24,36.83h5v4.92H24Z"}))))),Ye("span",{className:"ContentSupporter__hintStatus"},n.ContentSupporter_HINT,Ye("span",null,_?b.length:p.length,"/",b.length)),Ye("br",null)))),!v&&b&&b.length>0&&a&&Ye(Xe,{hintList:b,hintsUsed:f?b.length:p.length}),S,d&&Ye("button",{className:"\n                ContentSupporter__showSolutionBtn\n                ContentSupporter__showSolutionBtn"+(v?"--exercise":"--quiz")+"\n                "+(_||l?"ContentSupporter__showSolutionBtn--passed":"")+"\n              ",onClick:function(){!y&&t.props.classroomStore&&t.props.classroomStore.isActionUnavailable()?g(F.b.invalidEnrollment):l||_?u():h()}},_||l?Ye("span",null," ",n.ContentSupporter_SEE_SOLUTION," "):Ye("span",null,n.ContentSupporter_SEE_SOLUTION,Ye("br",null)," (",o.showSolution,"XP)")),d&&s&&Ye("div",{className:"ContentSupporter__solution",ref:this.contentSupporterRef},f&&Ye(V.Fragment,null),Ye("div",{className:"ContentSupporter__containerHeader"},v?n.ContentSupporter_EXAM_SOLUTION:n.ContentSupporter_QUIZ_SOLUTION,Ye("img",{className:"ContentSupporter__closeSolution",onClick:function(){return u(!1)},alt:"close solution tab",src:"/static/images/icons/x.png"})),Ye("div",{className:"ContentSupporter__containerContent"},Ye(U.a,{isPro:!0,content:d||""}))),v&&b&&b.length>0&&a&&Ye(Xe,{hintList:b,hintsUsed:f?b.length:p.length}),Ye(Me,{contentSupporterStore:this.contentSupporterStore,ownId:r,isTrialLesson:y}))}}]),n}(V.Component),$e=Object(M.b)("popupStore","classroomStore")(Object(M.c)(Ze)),et=(n("N0Jn"),n("eds+"),n("rW1U")),tt=n("WJ1q"),nt=n("rig7"),it=G.a.createElement,rt=Object(M.b)("userStore")(Object(M.c)((function(e){var t=Y.a.intlStringFactory(["ExerciseViewerSelfCheck_SELF_CHECK","ExerciseViewerSelfCheck_CHECK_ITEMS"]),n=e.lessonId,i=e.enrollmentId,r=e.guides,o=e.studyNote,a=e.setLessonRating,s=Object(V.useState)(null!==o&&void 0!==o&&o.selfCheckedGuides?o.selfCheckedGuides:[]),u=s[0],c=s[1],l=Object(V.useState)(null),p=l[0],d=l[1];Object(V.useEffect)((function(){void 0!==o&&null!==o&&o.selfCheckedGuides&&o.selfCheckedGuides.length===r.length&&void 0!==o.status&&!["COMPLETED_CONTENT","PASSED"].includes(o.status)&&a(!0)}),[]);var f=function(){var e=Object(re.a)(ie.a.mark((function e(t,o){var s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.a.requestGraphql("\n        mutation {\n          "+(t?"submitGuideCheck":"cancelGuideCheck")+'(input: {\n            lessonId: "'+n+'"\n            enrollmentId: "'+i+'"\n            guideId: "'+o+'"\n          }) {\n            '+He.a.SINGLE_LESSON_STUDYNOTE_ATTR()+"\n          }\n        }\n      ");case 3:(s=e.sent).errors.length>0||t&&null==s.data.submitGuideCheck||!t&&null==s.data.cancelGuideCheck?Object(se.a)("error in createCourse : ",s):t?(c(s.data.submitGuideCheck.selfCheckedGuides),s.data.submitGuideCheck.selfCheckedGuides.length==r.length&&(a(!0),d(!0),Object(se.a)(s))):c(s.data.cancelGuideCheck.selfCheckedGuides),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(se.a)("error in toggleGuideApi : ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return it(G.a.Fragment,null,it("div",{className:"ExerciseViewerSelfCheck",id:"ExerciseViewerSelfCheck"},it("div",{className:"ExerciseViewerSelfCheck__txt"},it("div",{className:"ExerciseViewerSelfCheck__txt--title"},it("img",{alt:"purple check icon",src:"/static/images/classroom/check-purple.png"}),t.ExerciseViewerSelfCheck_SELF_CHECK),it("div",{className:"ExerciseViewerSelfCheck__txt--content"},t.ExerciseViewerSelfCheck_CHECK_ITEMS)),it("div",{className:"ExerciseViewerSelfCheck__box"},r.map((function(t,n){return it("div",{key:n,className:"ExerciseViewerSelfCheck__box--each "+(u&&u.includes(t.id)?"checked":""),onClick:function(){return e=t.id,void(u&&u.includes(e)?f(!1,e):f(!0,e));var e}},it("div",{className:"ExerciseViewerSelfCheck__box--each--left"},it(tt.a,{state:u&&u.includes(t.id),message:"",updateCheckboxValue:function(){},checkboxColorSet:{borderStroke:"transparent",backgroundFill:Object(K.a)(e.userStore.currentUser.theme)?"#797b89":"#eeeef1",checkFill:"#7c00ff",selectedFill:"#f1d9ff"}})),it("div",{className:"ExerciseViewerSelfCheck__box--each--right"},it(U.a,{content:t.content})))})))),null!==p&&it(nt.a,{isPass:p,setOff:function(){return d(null)},darkMode:Object(K.a)(J.a.getInstance().currentUser.theme)}))}))),ot=V.createElement;function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(xe.a)(e);if(t){var r=Object(xe.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(Re.a)(this,n)}}var st,ut,ct,lt,pt,dt,ft,bt,ht,mt,Ot,vt,_t,St,gt,yt,wt,Et,kt,It,Nt,Ct=Y.a.intlStringFactory(["ExerciseViewer_NO_GUIDE_IN_SELF_CHECK","ExerciseViewer_EXERCISE"]),jt=function(e){Object(Le.a)(n,e);var t=at(n);function n(e){var i;Object(Ce.a)(this,n),(i=t.call(this,e)).exerciseStore=void 0;var r=e.classroomStore.currentInfo;return i.exerciseStore=new Ae,i.exerciseStore.init(r.studyNote),r.gradingType!==Ne.b.SELF||void 0!==r.guides&&null!==r.guides&&0!==r.guides.length||alert(Ct.ExerciseViewer_NO_GUIDE_IN_SELF_CHECK),i}return Object(je.a)(n,[{key:"componentDidUpdate",value:function(){var e,t=this.props.classroomStore.currentInfo;!t.trialLesson&&t.studyNote&&t.studyNote.id!==(null===(e=this.exerciseStore.studyNote)||void 0===e?void 0:e.id)&&this.exerciseStore.init(this.props.classroomStore.currentInfo.studyNote)}},{key:"componentWillUnmount",value:function(){this.exerciseStore.reset()}},{key:"render",value:function(){var e,t=this.exerciseStore,n=t.point,i=t.solved,r=t.studyNote,o=t.fetchPoint,a=this.props.classroomStore,s=a.currentInfo,u=a.selfCheckIsOpened,c=a.setLessonRating;return ot("div",{className:"ExerciseViewer",id:"ExerciseViewer"},ot("div",{className:"ExerciseViewer__header"},ot("div",{className:"ExerciseViewer__title"},Ct.ExerciseViewer_EXERCISE),i||ot("div",{className:"ExerciseViewer__point"},n,"XP")),ot(U.a,{isPro:!0,content:s.content,footnotes:s.footnotes,className:"ExerciseViewer__content"}),s.gradingType===Ne.b.SELF&&s.guides&&s.guides.length>0&&u&&ot(rt,{enrollmentId:null===(e=s.topic.enrollment)||void 0===e?void 0:e.id,lessonId:s.id,guides:s.guides,studyNote:s.studyNote,setLessonRating:c}),ot($e,{solved:i,fetchPoint:o,isExercise:!0,ownId:s.id,studyNoteId:r.id,points:Qe.a,isPassed:i,solution:s.explanation,hints:s.hints?s.hints:[],sawSolution:r.sawExplanation,sawHints:r.sawHints?r.sawHints:[]}))}}]),n}(V.Component),Lt=Object(M.b)("classroomStore")(Object(M.c)(jt)),Rt=(n("D6xn"),n("hsDi")),xt=n("GKl5"),Tt=Y.a.intlStringFactory(["QuizViewerStore_ERROR_IN_SCORING_QUIZ","QuizViewerStore_ERROR_IN_GET_QUIZ_RESULT"]),zt=(st=function e(t,n){var i=this;Object(Ce.a)(this,e),this.quizStore=void 0,Object(Te.a)(this,"quizAttempt",ut,this),Object(Te.a)(this,"myAnswer",ct,this),Object(Te.a)(this,"isSolved",lt,this),Object(Te.a)(this,"isSolvedBefore",pt,this),Object(Te.a)(this,"isSubmitted",dt,this),Object(Te.a)(this,"availablePoint",ft,this),this.getQuizAttempt=function(){return i.quizAttempt},Object(Te.a)(this,"setQuizAttempt",bt,this),Object(Te.a)(this,"setQuizAttemptByKeyValue",ht,this),this.getMyAnswer=function(){return i.myAnswer},Object(Te.a)(this,"setMyAnswer",mt,this),this.getIsSolved=function(){return i.isSolved},Object(Te.a)(this,"setIsSolved",Ot,this),this.getIsSolvedBefore=function(){return i.isSolvedBefore},Object(Te.a)(this,"setIsSolvedBefore",vt,this),this.getIsSubmitted=function(){return i.isSubmitted},Object(Te.a)(this,"setIsSubmitted",_t,this),this.getAvailablePoint=function(){return i.availablePoint},Object(Te.a)(this,"setAvailablePoint",St,this),Object(Te.a)(this,"init",gt,this),Object(Te.a)(this,"reset",yt,this),Object(Te.a)(this,"fetchPoint",wt,this),Object(Te.a)(this,"onChangeTextAnswer",Et,this),Object(Te.a)(this,"onClickChoice",kt,this),Object(Te.a)(this,"setRetry",It,this),Object(Te.a)(this,"afterGradeByResult",Nt,this),this.quizStore=new Rt.a,this.init(t,n)},ut=Object(ze.a)(st.prototype,"quizAttempt",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(xt.h)()}}),ct=Object(ze.a)(st.prototype,"myAnswer",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=Object(ze.a)(st.prototype,"isSolved",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pt=Object(ze.a)(st.prototype,"isSolvedBefore",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dt=Object(ze.a)(st.prototype,"isSubmitted",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ft=Object(ze.a)(st.prototype,"availablePoint",[Pe.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bt=Object(ze.a)(st.prototype,"setQuizAttempt",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.quizAttempt=t}}}),ht=Object(ze.a)(st.prototype,"setQuizAttemptByKeyValue",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){Object(Pe.q)(e.quizAttempt,t,n)}}}),mt=Object(ze.a)(st.prototype,"setMyAnswer",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.myAnswer=t}}}),Ot=Object(ze.a)(st.prototype,"setIsSolved",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSolved=t}}}),vt=Object(ze.a)(st.prototype,"setIsSolvedBefore",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSolvedBefore=t}}}),_t=Object(ze.a)(st.prototype,"setIsSubmitted",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSubmitted=t}}}),St=Object(ze.a)(st.prototype,"setAvailablePoint",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.availablePoint=t}}}),gt=Object(ze.a)(st.prototype,"init",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.setIsSolvedBefore(!!n.pass),e.setIsSolved(!!n.pass),e.quizStore.setQuizData(t),e.setQuizAttempt(n),e.fetchPoint(!(!n||!n.sawExplanation),n&&n.sawHints?n.sawHints.length:0)}}}),yt=Object(ze.a)(st.prototype,"reset",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.quizStore.setQuizData(Object(xt.i)()),e.quizAttempt=Object(xt.h)(),e.setMyAnswer([]),e.setIsSolved(!1),e.setIsSolvedBefore(!1),e.setIsSubmitted(!1),e.setAvailablePoint(0)}}}),wt=Object(ze.a)(st.prototype,"fetchPoint",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var i=Qe.b.question;t&&(i+=Qe.b.showSolution),i+=Qe.b.showHint*n,e.setAvailablePoint(i)}}}),Et=Object(ze.a)(st.prototype,"onChangeTextAnswer",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setIsSubmitted(!1);var n=[];t&&(n=t.includes(",")?1===e.quizStore.getQuizData().textAnswers.length&&1===e.quizStore.getQuizData().textAnswers[0].length?[t]:t.split(","):[t]),e.setMyAnswer(n)}}}),kt=Object(ze.a)(st.prototype,"onClickChoice",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setIsSubmitted(!1);var n=e.getMyAnswer().slice();e.getMyAnswer().includes(t)?n=e.getMyAnswer().filter((function(e){return e!==t})):e.quizStore.getQuizData().answers&&1===e.quizStore.getQuizData().answers.length?n=[t]:n.push(t),e.setMyAnswer(n.sort())}}}),It=Object(ze.a)(st.prototype,"setRetry",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setMyAnswer([]),e.setIsSolved(!1),e.setIsSubmitted(!1)}}}),Nt=Object(ze.a)(st.prototype,"afterGradeByResult",[Pe.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){void 0===t?alert(Tt.QuizViewerStore_ERROR_IN_SCORING_QUIZ):(e.setIsSubmitted(!0),t?(e.setIsSolved(!0),e.setQuizAttemptByKeyValue("pass",!0)):e.setIsSolved(!1))}}}),st),Pt=n("+7Px"),Qt=(n("L0Mw"),n("TNd2")),At=n("Rhuy"),Dt=(n("O6t1"),G.a.createElement),qt=Object(M.c)((function(e){var t=e.content,n=e.className,i=void 0===n?"":n,r=Object(K.a)(J.a.getInstance().currentUser.theme),o=t.replace(/<a/gi,'<img alt="download data" src = "/static/images/classroom/download-data-'+(r?"dark":"light")+'.svg"/><a');return Dt(U.a,{isPro:!0,content:o,className:"QuizViewerDescription "+(i||"")})})),Ht=V.createElement;function Ut(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(xe.a)(e);if(t){var r=Object(xe.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(Re.a)(this,n)}}var Bt=function(e){Object(Le.a)(n,e);var t=Ut(n);function n(e){var i;return Object(Ce.a)(this,n),(i=t.call(this,e)).quizViewerStore=void 0,i.quizViewerStore=new zt(e.quizQuestion,e.quizAttempt),i}return Object(je.a)(n,[{key:"componentDidUpdate",value:function(){this.quizViewerStore.quizStore.getQuizData().id!==this.props.quizQuestion.id&&this.quizViewerStore.init(this.props.quizQuestion,this.props.quizAttempt)}},{key:"componentWillUnmount",value:function(){this.quizViewerStore.reset()}},{key:"render",value:function(){var e,t=Y.a.intlStringFactory(["QuizViewer_INPUT_VALUE_ALERT","QuizViewer_QUESTION","QuizViewer_CHECK_ANSWER","QuizViewer_WRONG_ANSWER_MESSAGE"]),n=this.props,i=n.quizNumber,r=n.readOnly,o=n.clickGradeBtn,a=n.quizResultBannerStore,s=n.studyNodeId,u=this.quizViewerStore,c=u.getIsSolved,l=u.getIsSolvedBefore,p=u.getMyAnswer,d=u.getQuizAttempt,f=u.getAvailablePoint,b=u.getIsSubmitted,h=u.quizStore,m=u.setRetry,O=u.setIsSolvedBefore,v=u.fetchPoint,_=u.onChangeTextAnswer,S=u.onClickChoice,g=u.afterGradeByResult,y=function(){var e=Object(re.a)(ie.a.mark((function e(){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}W.a.getInstance().setCurrentPopup(F.b.invalidEnrollment),e.next=18;break;case 4:if(!c()){e.next=9;break}m(),O(!0),e.next=18;break;case 9:if(p()!==[]){e.next=13;break}alert(t.QuizViewer_INPUT_VALUE_ALERT),e.next=18;break;case 13:if(!o){e.next=18;break}return e.next=16,o(h.getQuizData().id,p());case 16:n=e.sent,g(n);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Ht(M.a,{quizViewerStore:this.quizViewerStore},Ht("div",{className:"QuizViewer"},h.getQuizData().type===Ne.e.DESCRIPTION&&Ht(qt,{content:h.getQuizData().content}),h.getQuizData().type!==Ne.e.DESCRIPTION&&Ht(V.Fragment,null,Ht("div",{className:"QuizViewer__question"},Ht("div",{className:"QuizViewer__num"},t.QuizViewer_QUESTION+" "+i,Ht("div",{className:"QuizViewer__point"},Ht("span",null,f(),"XP"))),Ht(U.a,{content:(e=function(e){var t=d().pass?"":" ",n=e.lastIndexOf("</p>");return n>0?e.substring(0,n)+t+e.substring(n,e.length):e+t}(h.getQuizData().content),e.replace(/\uc798\ubabb/gi,"<u><b>\uc798\ubabb</b></u>").replace(/\uc54a\uc740/gi,"<u><b>\uc54a\uc740</b></u>").replace(/\uc633\uc740/gi,"<u><b>\uc633\uc740</b></u>")),isPro:!0})),Ht("div",{className:"QuizViewer__supporter"},Ht($e,{solved:c(),isExercise:!1,ownId:h.getQuizData().id,studyNoteId:s||"isActionUnavailable",points:Qe.b,isPassed:d().pass,solution:h.getQuizData().explanation,hints:h.getQuizData().hints?h.getQuizData().hints:[],sawSolution:d().sawExplanation,sawHints:d().sawHints?d().sawHints:[],fetchPoint:v},Ht("div",{className:"QuizViewer__ui"},h.getQuizData().type===Ne.e.TEXT&&Ht(Qt.a,{xpPoint:f(),defaultAnswerArray:h.getQuizData().textAnswers[0],onChangeTextAnswer:_,myAnswer:p(),isSubmitted:b(),isSolvedBefore:l(),isSolved:c(),handleSubmitBtn:y,quizResultBannerStore:a}),h.getQuizData().type===Ne.e.MULTIPLE&&Ht(Pt.a,{xpPoint:f(),myAnswer:p(),onClickChoice:S,isSubmitted:b(),isSolvedBefore:l(),isSolved:c(),handleSubmitBtn:y,quizQuestion:h.getQuizData(),quizResultBannerStore:a}),Ht("div",{className:"QuizViewer__bottomContainer"},Ht(At.a,{className:c()?"QuizViewer__submit--hide":"QuizViewer__submit",disabled:!p().length,onClickBtn:y,text:c()?"":t.QuizViewer_CHECK_ANSWER}),b()&&!c()&&Ht("p",{className:"QuizViewer__wrongAnswerMessage CR__hidden--S"},t.QuizViewer_WRONG_ANSWER_MESSAGE))))))))}}]),n}(V.Component),Vt=Object(M.b)("classroomStore")(Object(M.c)(Bt)),Gt=(n("GFtf"),G.a.createElement),Mt=Object(M.c)((function(e){var t=e.quizQuestions,n=e.quizAttempts,i=e.clickGradeBtn,r=e.useEffectFunction,o=e.readOnly,a=void 0!==o&&o,s=e.hideContentSupporter,u=void 0!==s&&s,c=e.studyNodeId,l=e.quizResultBannerStore,p=1;return Object(V.useEffect)((function(){r&&r()}),[]),Gt("div",{className:"QuizesViewer"},t&&t.map((function(e,t){return Gt("div",{key:t,className:"QuizesViewer__eachQuiz"},0!==t&&Gt("div",{className:"QuizesViewer__dividerLine"}),Gt(Vt,{clickGradeBtn:i,quizQuestion:e,quizAttempt:(r=e.id,n&&n.find((function(e){return e.id==r}))||Object(xt.h)()),quizNumber:e.type!==Ne.e.DESCRIPTION?p++:0,readOnly:a,hideContentSupporter:u,quizResultBannerStore:l,studyNodeId:c}));var r})))})),Ft=G.a.createElement,Wt=Object(M.b)("classroomStore")(Object(M.c)((function(e){var t=Y.a.intlStringFactory(["LessonViewer_REPORT_ERROR"]),n=Object(Ie.useRouter)().query,i=n.c_slug,r=n.l_id,o=e.isFinal,a=void 0!==o&&o,s=e.className,u=void 0===s?"":s,c=e.classroomStore,l=c.currentInfo,p=c.isPreview,d=c.loadingStore,f=c.clickGradeQuiz,b=c.checkSolvedInQuiz,h=c.isActionUnavailable,m=c.isTrialLessonAndAccessibleUser,O=c.quizResultBannerStore;return Object(V.useEffect)((function(){setTimeout((function(){var e=document.getElementsByClassName("LessonViewer")[0];e&&(e.scrollTop=0)}),50);var e=document.querySelectorAll(".html-css-code");e&&e.length&&Object(se.S)(e)}),[i,r]),d.isLoading?Ft(G.a.Fragment,null):Ft("div",{className:"LessonViewer\n        "+u+"\n        LessonViewer__"+l.type,id:"LessonViewer"},Ft("div",{className:"LessonViewer__contents"},function(){var e;switch(l.type){case Ne.h.QUIZ:return Ft(Mt,{quizQuestions:l.quizQuestions?l.quizQuestions:[],quizAttempts:null===(e=l.studyNote)||void 0===e?void 0:e.quizAttempts,clickGradeBtn:f,useEffectFunction:b,readOnly:!m&&h(),studyNodeId:null!==l&&void 0!==l&&l.studyNote?l.studyNote.id:void 0,quizResultBannerStore:O});case Ne.h.EXERCISE:return Ft(Lt,null);default:return Ft(U.a,{isPro:!0,content:l.content,footnotes:l.footnotes})}}(),!a&&!p&&l.seqId&&Ft(ke,{relatedQuestionData:l.relatedQuestions,lessonSeqId:l.seqId,lessonId:l.id})),Ft("div",{className:"LessonViewer__report--wrapper"},Ft("button",{className:"LessonViewer__report--button",onClick:function(){return W.a.getInstance().setCurrentPopup(F.b.lessonReport)}},t.LessonViewer_REPORT_ERROR)))})))},XSVQ:function(e,t,n){},XTsb:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var i=n("vJKn"),r=n.n(i),o=n("rg98"),a=n("rW1U"),s=n("dmks"),u=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    createLike(questionId: "'+t+'", likeType: "'+n+'") '+s.a.SINGLE_QUESTION_ATTR()+"\n  }");case 2:return o=e.sent,e.abrupt("return",null!==o&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.createLike?o.data.createLike:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    createLikeAnswer(answerId: "'+t+'", likeType: "'+n+'") '+s.a.SINGLE_QUESTION_ATTR()+"\n  }");case 2:return o=e.sent,e.abrupt("return",null!==o&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.createLikeAnswer?o.data.createLikeAnswer:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    updateLike(questionId: "'+t+'", likeType: "'+n+'") '+s.a.SINGLE_QUESTION_ATTR()+"\n  }");case 2:return o=e.sent,e.abrupt("return",null!==o&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.updateLike?o.data.updateLike:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    updateLikeAnswer(answerId: "'+t+'", likeType: "'+n+'") '+s.a.SINGLE_QUESTION_ATTR()+"\n  }");case 2:return o=e.sent,e.abrupt("return",null!==o&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.updateLikeAnswer?o.data.updateLikeAnswer:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    deleteLike(questionId: "'+t+'") '+s.a.SINGLE_QUESTION_ATTR()+"\n  }");case 2:return i=e.sent,e.abrupt("return",null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.deleteLike?i.data.deleteLike:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    deleteLikeAnswer(answerId: "'+t+'") '+s.a.SINGLE_QUESTION_ATTR()+"\n  }");case 2:return i=e.sent,e.abrupt("return",null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.deleteLikeAnswer?i.data.deleteLikeAnswer:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(r.a.mark((function e(t,n,i){var o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    createDisLike(\n      questionId: "'+t+'",\n      category: "'+n+'",\n      content: '+JSON.stringify(i)+"\n    ) { id }\n  }");case 2:return s=e.sent,e.abrupt("return",null!==s&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.createDisLike?s.data.createDisLike.id:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(r.a.mark((function e(t,n,i){var o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.requestGraphql('mutation {\n    createDisLikeAnswer(\n      answerId: "'+t+'",\n      category: "'+n+'",\n      content: '+JSON.stringify(i)+"\n    ) { id }\n  }");case 2:return s=e.sent,e.abrupt("return",null!==s&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.createDisLikeAnswer?s.data.createDisLikeAnswer.id:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()},Xdtg:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("q1tI"),r=n.n(i),o=n("TyAF"),a=n("6NXq"),s=(n("i+OR"),n("Z/8h")),u=n("Mpw+"),c=n("rzrn"),l=r.a.createElement,p=Object(o.c)((function(e){var t=u.a.intlStringFactory(["CommunityPopupDislike_question","CommunityPopupDislike_answer","CommunityPopupDislike_submit","CommunityPopupDislike_dislike_title","CommunityPopupDislike_spolier","CommunityPopupDislike_profanity","CommunityPopupDislike_extra","CommunityPopupDislike_placeholder"]),n=e.popupTitle,r=e.type,o=e.createDislike,p=e.deleteLike,d=Object(i.useState)(""),f=d[0],b=d[1],h=Object(i.useState)(""),m=h[0],O=h[1],v=r===a.a.question?t.CommunityPopupDislike_question:t.CommunityPopupDislike_answer;return l(s.a,{className:"CommunityPopupDislike "+(f?"":"CommunityPopupDislike__unClicked"),popupTitle:n,isBackClickAvailable:!1,isEscAvailable:!1,isEnterAvailable:!1,hasCloseBtn:!0,btnFunc:function(){f&&(o(f,m),b(""),c.a.getInstance().closePopup())},btnText:t.CommunityPopupDislike_submit,btn2Func:function(){p(),b(""),c.a.getInstance().closePopup()},notClosedWithBtn1:!0,content:l("div",{className:"CommunityPopupDislike__content"},l("div",{className:"CommunityPopupDislike__title"},t.CommunityPopupDislike_dislike_title),l("div",{className:"CommunityPopupDislike__options"},l("div",{className:"CommunityPopupDislike__options--part"},l("div",{className:"CommunityPopupDislike__options--each"},l("div",{className:"CommunityPopupDislike__options--eachBtn "+(f===a.b.ALREADY_EXISTS?"clicked":""),onClick:function(){return b(a.b.ALREADY_EXISTS)}}),l("span",{onClick:function(){return b(a.b.ALREADY_EXISTS)}},u.a.intl.formatMessage({id:"CommunityPopupDislike_already_exist"},{content:v}))),l("div",{className:"CommunityPopupDislike__options--each"},l("div",{className:"CommunityPopupDislike__options--eachBtn "+(f===a.b.SPOILER?"clicked":""),onClick:function(){return b(a.b.SPOILER)}}),l("span",{onClick:function(){return b(a.b.SPOILER)}},t.CommunityPopupDislike_spolier)),l("div",{className:"CommunityPopupDislike__options--each"},l("div",{className:"CommunityPopupDislike__options--eachBtn "+(f===a.b.TOO_COMPLEX?"clicked":""),onClick:function(){return b(a.b.TOO_COMPLEX)}}),l("span",{onClick:function(){return b(a.b.TOO_COMPLEX)}},u.a.intl.formatMessage({id:"CommunityPopupDislike_too_complex"},{content:v})))),l("div",{className:"CommunityPopupDislike__options--part"},l("div",{className:"CommunityPopupDislike__options--each"},l("div",{className:"CommunityPopupDislike__options--eachBtn "+(f===a.b.UNKIND?"clicked":""),onClick:function(){return b(a.b.UNKIND)}}),l("span",{onClick:function(){return b(a.b.UNKIND)}},u.a.intl.formatMessage({id:"CommunityPopupDislike_unkind"},{content:v}))),l("div",{className:"CommunityPopupDislike__options--each"},l("div",{className:"CommunityPopupDislike__options--eachBtn "+(f===a.b.PROFANITY?"clicked":""),onClick:function(){return b(a.b.PROFANITY)}}),l("span",{onClick:function(){return b(a.b.PROFANITY)}},t.CommunityPopupDislike_profanity)),l("div",{className:"CommunityPopupDislike__options--each extra"},l("div",{className:"CommunityPopupDislike__options--eachBtn "+(f===a.b.EXTRA?"clicked":""),onClick:function(){return b(a.b.EXTRA)}}),l("span",{onClick:function(){return b(a.b.EXTRA)}},t.CommunityPopupDislike_extra))),f===a.b.EXTRA&&l("textarea",{onClick:function(){return b(a.b.EXTRA)},className:"CommunityPopupDislike__options--textarea",value:m,onChange:f===a.b.EXTRA?function(e){return O(e.target.value)}:function(){},placeholder:t.CommunityPopupDislike_placeholder})))})})),d=n("VWFO"),f=n("cBaE"),b=n("vJKn"),h=n.n(b),m=n("rg98"),O=(n("6zNa"),n("0Q9O")),v=n("rW1U"),_=n("KOpk"),S=n("dmks"),g=r.a.createElement,y=function(e){var t=u.a.intlStringFactory(["LikeCounter_manager"]),n=e.setQData,o=e.questionId,a=e.answerId,s=Object(i.useState)(null),l=s[0],p=s[1],b=Object(i.useState)(l),y=b[0],w=b[1];Object(i.useEffect)((function(){null==l&&Object(O.n)()&&E()}),[]);var E=function(){Object(O.n)()&&(a?N():I())},k=function(){l!=y&&(a?j():C())},I=function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.requestGraphql('\n        {\n          questionUpCount(questionId: "'+o+'")\n        }\n      ');case 3:(t=e.sent).errors.length>0?Object(f.a)("error in questionUpCount : ",t):(p(t.data.questionUpCount),w(t.data.questionUpCount)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(f.a)("error in questionUpCount : ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.requestGraphql('\n        {\n          answerUpCount(questionId: "'+o+'", answerId: "'+a+'")\n        }\n      ');case 3:(t=e.sent).errors.length>0?Object(f.a)("error in answerUpCount : ",t):(p(t.data.answerUpCount),w(t.data.answerUpCount)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(f.a)("error in answerUpCount : ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.requestGraphql('\n        mutation {\n          questionLikeCountUp(questionId: "'+o+'", likeCountUp: '+y+")\n            "+S.a.SINGLE_QUESTION_ATTR()+"\n        }\n      ");case 3:(t=e.sent).errors.length>0?(Object(f.a)("error in questionLikeCountUp : ",t),w(l)):(p(y),n(t.data.questionLikeCountUp),c.a.getInstance().setCurrentPopup(d.c.changed)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(f.a)("error in questionLikeCountUp : ",e.t0),w(l);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.requestGraphql('\n        mutation {\n          answerLikeCountUp(questionId: "'+o+'", answerId: "'+a+'", likeCountUp: '+y+")\n            "+S.a.SINGLE_QUESTION_ATTR()+"\n        }\n      ");case 3:(t=e.sent).errors.length>0?(Object(f.a)("error in answerLikeCountUp : ",t),w(l)):(p(y),n(t.data.answerLikeCountUp),c.a.getInstance().setCurrentPopup(d.c.changed)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(f.a)("error in answerLikeCountUp : ",e.t0),w(l);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(O.n)()?g("div",{className:"LikeCounter "+(a?"LikeCounter__answer":"")},g("div",{className:"LikeCounter__textPart"},t.LikeCounter_manager),g("div",{className:"LikeCounter__inputPart"},g("input",{value:y||0,onChange:function(e){return function(e){var t=e;if((t=t.replace(_.a.NOT_NUMBER,""))>999)return alert("\ucd94\uac00 \uc88b\uc544\uc694\ub294 1000 \uc774\uc0c1\uc774 \ub420 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4");w(t)}(e.target.value)},onKeyDown:function(e){return function(e){13===e.keyCode&&k()}(e)},onBlur:function(){return k()}}))):g(r.a.Fragment,null)},w=(n("x619"),n("nLXl")),E=n("4dgq"),k=r.a.createElement,I=Object(o.c)((function(e){var t=u.a.intlStringFactory(["CommunityEachBodyVote_like","CommunityEachBodyVote_like_plural","CommunityEachBodyVote_dislike"]),n=e.className,i=void 0===n?"":n,o=e.data,s=e.type,l=e.clickCreate,b=e.clickUpdate,h=e.clickDelete,m=e.createDislike,O=e.questionId,v=e.setQuestionData,_=e.horizontalInMobile,S=void 0!==_&&_,g=e.isDark,I=void 0!==g&&g,N=e.isSmall,C=void 0!==N&&N,j=function(e,t){return e.stopPropagation(),E.a.getInstance().logged?Object(f.cb)("like")?void(o.like?o.like.likeType===t?h(o.id):(b(o.id,t),t===a.c.DISLIKE&&c.a.getInstance().setCurrentPopup("dislike__"+s+"__"+o.id)):(l(o.id,t),t===a.c.DISLIKE&&c.a.getInstance().setCurrentPopup("dislike__"+s+"__"+o.id))):c.a.getInstance().setCurrentPopup(d.c.toSubscribeCommunity):c.a.getInstance().setCurrentPopup(d.c.toUseThisFeature)};return k(r.a.Fragment,null,k("div",{className:"CommunityVote "+i},v&&O?k(y,"question"===s?{setQData:v,questionId:O}:{setQData:v,questionId:O,answerId:o.id}):k(r.a.Fragment,null),k("div",{className:"CommunityVote__wrapper "+(S?"CommunityVote__wrapper--isHorizontalInMobile":"")},k("span",{className:"CommunityVote--btnWrapper "+(C?"CommunityVote--btnWrapper--isSmall":"")+" "+(o.like&&o.like.likeType===a.c.LIKE?I?"CommunityVote--btnWrapper--isDarkLiked":"CommunityVote--btnWrapper--isLiked":""),onClick:function(e){return j(e,a.c.LIKE)},onMouseDown:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()}},k("img",{src:"/static/images/community/like"+(o.like&&o.like.likeType===a.c.LIKE?"-clicked":"")+(C?"--small":"")+".svg",className:"CommunityVote--btn"})),k("span",{className:"CommunityVote--text "+(S?C?"CommunityVote--text--isSmall":"CommunityVote--text--isHorizontalInMobile":"")+" "+(o.like&&o.like.likeType===a.c.LIKE?I?"CommunityVote--text--isDarkLiked":"CommunityVote--text--isLiked":"")},Object(w.a)({like:o.likeCount},"like","CommunityEachBodyVote_like","CommunityEachBodyVote_like_plural"))),k("div",{className:"CommunityVote__wrapper "+(S?"CommunityVote__wrapper--isHorizontalInMobile":"")},k("span",{className:"CommunityVote--btnWrapper "+(C?"CommunityVote--btnWrapper--isSmall":"")+" "+(o.like&&o.like.likeType===a.c.DISLIKE?"CommunityVote--btnWrapper--isUnliked":""),onClick:function(e){return j(e,a.c.DISLIKE)},onMouseDown:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()}},k("img",{src:"/static/images/community/unlike"+(o.like&&o.like.likeType===a.c.DISLIKE?"-clicked":"")+(C?"--small":"")+".svg",className:"CommunityVote--btn"})),k("span",{className:"CommunityVote--text "+(S?"CR__hidden--SML":"CR__hidden--ML")},t.CommunityEachBodyVote_dislike))),k(p,{popupTitle:"dislike__"+s+"__"+o.id,type:s,createDislike:function(e,t){return m(o.id,e,t)},deleteLike:function(){return h(o.id)}}))}))},a2CE:function(e,t,n){},"eds+":function(e,t,n){},hsDi:function(e,t,n){"use strict";var i,r,o,a,s=n("4nv/"),u=n("H+61"),c=n("EaFg"),l=(n("ACih"),n("2vnA")),p=n("LvDl"),d=n("GKl5"),f=(i=function e(){var t=this;Object(u.a)(this,e),Object(s.a)(this,"quizData",r,this),this.getQuizData=function(){return t.quizData},Object(s.a)(this,"setQuizData",o,this),Object(s.a)(this,"setQuizDataByKey",a,this)},r=Object(c.a)(i.prototype,"quizData",[l.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(d.i)()}}),o=Object(c.a)(i.prototype,"setQuizData",[l.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.quizData=t}}}),a=Object(c.a)(i.prototype,"setQuizDataByKey",[l.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){Object(p.set)(e.quizData,t,n)}}}),i);t.a=f},"i+OR":function(e,t,n){},kriW:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),o=n("2OET"),a=n("N3fz");function s(e){var t=function(){var e=r.useContext(o.a);return Object(a.c)(e),e}(),n=t.formatMessage,i=t.textComponent,s=void 0===i?r.Fragment:i,u=e.id,c=e.description,l=e.defaultMessage,p=e.values,d=e.children,f=e.tagName,b=void 0===f?s:f,h=n({id:u,description:c,defaultMessage:l},p,{ignoreTag:e.ignoreTag});return Array.isArray(h)||(h=[h]),"function"===typeof d?d(h):b?r.createElement(b,null,r.Children.toArray(h)):r.createElement(r.Fragment,null,h)}s.displayName="FormattedMessage";var u=r.memo(s,(function(e,t){var n=e.values,r=Object(i.c)(e,["values"]),o=t.values,s=Object(i.c)(t,["values"]);return Object(a.d)(o,n)&&Object(a.d)(r,s)}));u.displayName="MemoizedFormattedMessage";t.a=u},"l/yA":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("YLwY"),r=function(e){return Boolean(e.status===i.b.Released)}},pG1P:function(e,t,n){},vSX7:function(e,t,n){},x0cI:function(e,t,n){},x619:function(e,t,n){}}]);