(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{"+7Px":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=n.n(r),o=n("yO8D"),a=n("TyAF"),l=(n("+xNN"),n("Mpw+")),s=i.a.createElement,u=Object(a.c)((function(e){var t=l.a.intlStringFactory(["QuizViewerMultiple_CORRECT_ANSWER_MESSAGE","QuizViewerMultiple_GET_XP_MESSAGE","QuizViewerMultiple_DO_REVIEW"]),n=e.xpPoint,i=e.myAnswer,a=void 0===i?"":i,u=e.onClickChoice,c=e.isSubmitted,d=void 0!==c&&c,p=e.isSolvedBefore,f=e.isSolved,m=void 0!==f&&f,h=e.quizQuestion,b=e.handleSubmitBtn,E=e.isReadOnly,g=void 0!==E&&E,_=e.quizResultBannerStore,v=Object(r.useState)(1/0),O=v[0],y=v[1];Object(r.useEffect)((function(){if(_){var e=_.setIsSubmitted,t=_.setIsCorrectAnswer,r=_.setXpPoint;e(d),t(m),r(p?0:n)}S()}),[m,d,p]);var C=Object(r.useMemo)((function(){return m?d?"--correctAnswerAnimation":"--correctAnswerStatic":d?"--wrongAnswerAnimation":""}),[m,d]),I=function(e){return m&&h.answers.includes(e)||a.includes(e)},S=function(){var e=1/0;h.choices.map((function(t,n){I(String.fromCharCode(n+65))&&(e=Math.min(e,n))})),y(e)};return s("div",{className:"QuizViewerMultiple"},h.choices&&h.choices.map((function(e,r){return s("div",{key:"choice-"+r,className:"QuizViewerMultiple__choice",onClick:function(){return e=String.fromCharCode(r+65),void(!u||m||g||u(e));var e}},s("div",{className:I(String.fromCharCode(r+65))?"QuizViewerMultiple__cover "+(C?"QuizViewerMultiple__cover"+C:""):"QuizViewerMultiple__cover"},s("div",{className:"QuizViewerMultiple__index "+(I(String.fromCharCode(r+65))?"QuizViewerMultiple__index--checked":"")},I(String.fromCharCode(r+65))?s("img",{alt:"check only",src:"/static/images/icons/check-only.svg",style:{height:"1.8rem",width:"1.8rem"}}):r+1),s("div",{className:"QuizViewerMultiple__text "+(I(String.fromCharCode(r+65))?m?"QuizViewerMultiple__text--solved":"QuizViewerMultiple__text--checked":"")},s(o.a,{content:e,isPro:!0}),I(String.fromCharCode(r+65))&&m&&r==O&&s("p",{className:"QuizViewerMultiple__correctAnswerMessage "+("--correctAnswerAnimation"===C?"QuizViewerMultiple__correctAnswerMessag"+C:"")},s("span",{className:"CR__hidden--S"},t.QuizViewerMultiple_CORRECT_ANSWER_MESSAGE,s("span",{className:"QuizViewerMultiple__correctAnswerMessage__point"},p?"":" "+n+t.QuizViewerMultiple_GET_XP_MESSAGE)),s("button",{className:"QuizViewerMultiple__review",disabled:!a.length&&!m,onClick:b},t.QuizViewerMultiple_DO_REVIEW)))))})))}))},"+f9f":function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return R}));var r,i,o,a,l,s,u,c,d,p,f,m,h,b,E,g=n("z7pX"),_=n("+Css"),v=n("7LId"),O=n("VIvw"),y=n("iHvq"),C=n("4nv/"),I=n("H+61"),S=n("EaFg"),F=(n("ACih"),n("2vnA"));function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(O.a)(this,n)}}var w=(r=function e(t,n,r){var s=this;Object(I.a)(this,e),Object(C.a)(this,"itemData",i,this),Object(C.a)(this,"parentId",o,this),Object(C.a)(this,"level",a,this),Object(C.a)(this,"changeItemName",l,this),Object(F.p)((function(){s.parentId=n,s.itemData=t,s.level=r}))},i=Object(S.a)(r.prototype,"itemData",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=Object(S.a)(r.prototype,"parentId",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=Object(S.a)(r.prototype,"level",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=Object(S.a)(r.prototype,"changeItemName",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.itemData.name=t;var n=e.itemData.filePath.split("/");n[n.length-1]=t,e.itemData.filePath=n.join("/")}}}),r),x=(s=function(e){Object(v.a)(n,e);var t=T(n);function n(e,r,i,o){var a;return Object(I.a)(this,n),a=t.call(this,e,r,i),Object(C.a)(a,"isOpen",u,Object(_.a)(a)),Object(C.a)(a,"childrenIds",c,Object(_.a)(a)),Object(C.a)(a,"changeOpen",d,Object(_.a)(a)),Object(C.a)(a,"setOpen",p,Object(_.a)(a)),Object(F.p)((function(){a.isOpen=o;var t=[];e.children&&e.children.map((function(e){t=[].concat(Object(g.a)(t),[e.id])})),a.childrenIds=Object(g.a)(t),a.itemData.children=[]})),a}return n}(w),u=Object(S.a)(s.prototype,"isOpen",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(S.a)(s.prototype,"childrenIds",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=Object(S.a)(s.prototype,"changeOpen",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),p=Object(S.a)(s.prototype,"setOpen",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isOpen=t}}}),s),j=(f=function(e){Object(v.a)(n,e);var t=T(n);function n(e,r,i){var o;return Object(I.a)(this,n),o=t.call(this,e,r,i),Object(C.a)(o,"readonly",m,Object(_.a)(o)),Object(C.a)(o,"contentChange",h,Object(_.a)(o)),Object(F.p)((function(){o.readonly="READONLY"===e.type})),o}return n}(w),m=Object(S.a)(f.prototype,"readonly",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=Object(S.a)(f.prototype,"contentChange",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.itemData.content=t}}}),f),R=(b=function(e){Object(v.a)(n,e);var t=T(n);function n(e,r,i,o){var a;return Object(I.a)(this,n),a=t.call(this,e,r,i),Object(C.a)(a,"link",E,Object(_.a)(a)),Object(F.p)((function(){a.link=e.assetId?e.filePath:"https://bakey-api.codeit.kr/files/"+o+e.filePath})),a}return n}(w),E=Object(S.a)(b.prototype,"link",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b)},"+xNN":function(e,t,n){},"/8C+":function(e,t,n){},"2W6z":function(e,t,n){"use strict";var r=function(){};e.exports=r},"2qu3":function(e,t,n){"use strict";var r=n("oI91"),i=n("/GRZ"),o=n("i2R6");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.__esModule=!0,t.default=void 0;var c,d=(c=n("q1tI"))&&c.__esModule?c:{default:c},p=n("8L3h"),f=n("jwwS");var m=[],h=[],b=!1;function E(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function g(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=E(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function _(e,t){return d.default.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function v(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:_,webpack:null,modules:null},t),r=null;function i(){if(!r){var t=new O(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!b&&"function"===typeof n.webpack){var o=n.webpack();h.push((function(e){var t,n=s(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return i()}}catch(a){n.e(a)}finally{n.f()}}))}var a=function(e,t){i();var o=d.default.useContext(f.LoadableContext),a=(0,p.useSubscription)(r);return d.default.useImperativeHandle(t,(function(){return{retry:r.retry}}),[]),o&&Array.isArray(n.modules)&&n.modules.forEach((function(e){o(e)})),d.default.useMemo((function(){return a.loading||a.error?d.default.createElement(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?n.render(a.loaded,e):null}),[e,a])};return a.preload=function(){return i()},a.displayName="LoadableComponent",d.default.forwardRef(a)}var O=function(){function e(t,n){i(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return o(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=l(l({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function y(e){return v(E,e)}function C(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return C(e,t)}))}y.Map=function(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return v(g,e)},y.preloadAll=function(){return new Promise((function(e,t){C(m).then(e,t)}))},y.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return b=!0,t()};C(h,e).then(n,n)}))},window.__NEXT_PRELOADREADY=y.preloadReady;var I=y;t.default=I},"2rMq":function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},"2zs7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n("2rMq");var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=a},"3G6F":function(e,t,n){},"5tSB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}));var r=n("KOpk"),i=function(e){return!!e&&!new RegExp(r.c.NOT_SPECIAL_SYMBOL,"gi").test(e)},o=function(e){return!!e&&new RegExp(r.c.VALID_EMAIL,"gi").test(e)},a=function(e){return RegExp("\\.png$|\\.gif$|\\.jpg$|\\.jpeg$|\\.bmp$|\\.tif$|\\.tiff$").test(e)},l=function(e){return RegExp("\\.py$|\\.java$|\\.html$|\\.css$|\\.js$|\\.sql$|\\.csv$|\\.tsb$|\\.txt$|\\.json$|\\.jsx$|\\.http$|\\.svg$").test(e)},s=function(e){return RegExp("/$").test(e)},u=function(e){if(""!==e&&"/"!==e)return e.replace(r.a.FILE_NAME_WITH_SLASH,"")||"/"},c=function(e){var t;return(null===(t=e.match(/\//gi))||void 0===t?void 0:t.length)||0},d=function(e){return e.match(r.a.FILE_NAME_WITHOUT_SLASH)?e.match(r.a.FILE_NAME_WITHOUT_SLASH)[0]:""}},"9rZX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("qFS3"),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},Cwz0:function(e,t,n){},E4Z0:function(e,t,n){var r,i,o;i=[t],void 0===(o="function"===typeof(r=function(e){"use strict";var t,n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};!function(e){e[e.EOS=0]="EOS",e[e.Text=1]="Text",e[e.Incomplete=2]="Incomplete",e[e.ESC=3]="ESC",e[e.Unknown=4]="Unknown",e[e.SGR=5]="SGR",e[e.OSCURL=6]="OSCURL"}(t||(t={}));var r=function(){function e(){this.VERSION="4.0.4",this.setup_palettes(),this._use_classes=!1,this._escape_for_html=!0,this.bold=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(e.prototype,"use_classes",{get:function(){return this._use_classes},set:function(e){this._use_classes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"escape_for_html",{get:function(){return this._escape_for_html},set:function(e){this._escape_for_html=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(e){this._url_whitelist=e},enumerable:!0,configurable:!0}),e.prototype.setup_palettes=function(){var e=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach((function(t){t.forEach((function(t){e.palette_256.push(t)}))}));for(var t=[0,95,135,175,215,255],n=0;n<6;++n)for(var r=0;r<6;++r)for(var i=0;i<6;++i){var o={rgb:[t[n],t[r],t[i]],class_name:"truecolor"};this.palette_256.push(o)}for(var a=8,l=0;l<24;++l,a+=10){var s={rgb:[a,a,a],class_name:"truecolor"};this.palette_256.push(s)}},e.prototype.escape_txt_for_html=function(e){return e.replace(/[&<>]/gm,(function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":void 0}))},e.prototype.append_buffer=function(e){var t=this._buffer+e;this._buffer=t},e.prototype.get_next_packet=function(){var e={kind:t.EOS,text:"",url:""},r=this._buffer.length;if(0==r)return e;var a=this._buffer.indexOf("\x1b");if(-1==a)return e.kind=t.Text,e.text=this._buffer,this._buffer="",e;if(a>0)return e.kind=t.Text,e.text=this._buffer.slice(0,a),this._buffer=this._buffer.slice(a),e;if(0==a){if(1==r)return e.kind=t.Incomplete,e;var l=this._buffer.charAt(1);if("["!=l&&"]"!=l)return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;if("["==l){if(this._csi_regex||(this._csi_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \x1b[                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \x1b[                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-\x1f:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]))),null===(c=this._buffer.match(this._csi_regex)))return e.kind=t.Incomplete,e;if(c[4])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;""!=c[1]||"m"!=c[3]?e.kind=t.Unknown:e.kind=t.SGR,e.text=c[2];var s=c[0].length;return this._buffer=this._buffer.slice(s),e}if("]"==l){if(r<4)return e.kind=t.Incomplete,e;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_st||(this._osc_st=o(n(["\n                        (?:                         # legal sequence\n                          (\x1b\\)                    # ESC                           |                           # alternate\n                          (\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-\x06]                 # anything illegal\n                          |                           # alternate\n                          [\b-\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\x1c-\x1f]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var u=this._osc_st.exec(this._buffer);if(null===u)return e.kind=t.Incomplete,e;if(u[3])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;var c,d=this._osc_st.exec(this._buffer);return null===d?(e.kind=t.Incomplete,e):d[3]?(e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e):(this._osc_regex||(this._osc_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                        \x1b]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                        ([!-~]+)              # TEXT capture\n                        \x1b]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x21-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]))),null===(c=this._buffer.match(this._osc_regex))?(e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e):(e.kind=t.OSCURL,e.url=c[1],e.text=c[2],s=c[0].length,this._buffer=this._buffer.slice(s),e))}}},e.prototype.ansi_to_html=function(e){this.append_buffer(e);for(var n=[];;){var r=this.get_next_packet();if(r.kind==t.EOS||r.kind==t.Incomplete)break;r.kind!=t.ESC&&r.kind!=t.Unknown&&(r.kind==t.Text?n.push(this.transform_to_html(this.with_state(r))):r.kind==t.SGR?this.process_ansi(r):r.kind==t.OSCURL&&n.push(this.process_hyperlink(r)))}return n.join("")},e.prototype.with_state=function(e){return{bold:this.bold,fg:this.fg,bg:this.bg,text:e.text}},e.prototype.process_ansi=function(e){for(var t=e.text.split(";");t.length>0;){var n=t.shift(),r=parseInt(n,10);if(isNaN(r)||0===r)this.fg=this.bg=null,this.bold=!1;else if(1===r)this.bold=!0;else if(22===r)this.bold=!1;else if(39===r)this.fg=null;else if(49===r)this.bg=null;else if(r>=30&&r<38)this.fg=this.ansi_colors[0][r-30];else if(r>=40&&r<48)this.bg=this.ansi_colors[0][r-40];else if(r>=90&&r<98)this.fg=this.ansi_colors[1][r-90];else if(r>=100&&r<108)this.bg=this.ansi_colors[1][r-100];else if((38===r||48===r)&&t.length>0){var i=38===r,o=t.shift();if("5"===o&&t.length>0){var a=parseInt(t.shift(),10);a>=0&&a<=255&&(i?this.fg=this.palette_256[a]:this.bg=this.palette_256[a])}if("2"===o&&t.length>2){var l=parseInt(t.shift(),10),s=parseInt(t.shift(),10),u=parseInt(t.shift(),10);if(l>=0&&l<=255&&s>=0&&s<=255&&u>=0&&u<=255){var c={rgb:[l,s,u],class_name:"truecolor"};i?this.fg=c:this.bg=c}}}}},e.prototype.transform_to_html=function(e){var t=e.text;if(0===t.length)return t;if(this._escape_for_html&&(t=this.escape_txt_for_html(t)),!e.bold&&null===e.fg&&null===e.bg)return t;var n=[],r=[],i=e.fg,o=e.bg;e.bold&&n.push("font-weight:bold"),this._use_classes?(i&&("truecolor"!==i.class_name?r.push(i.class_name+"-fg"):n.push("color:rgb("+i.rgb.join(",")+")")),o&&("truecolor"!==o.class_name?r.push(o.class_name+"-bg"):n.push("background-color:rgb("+o.rgb.join(",")+")"))):(i&&n.push("color:rgb("+i.rgb.join(",")+")"),o&&n.push("background-color:rgb("+o.rgb+")"));var a="",l="";return r.length&&(a=' class="'+r.join(" ")+'"'),n.length&&(l=' style="'+n.join(";")+'"'),"<span"+l+a+">"+t+"</span>"},e.prototype.process_hyperlink=function(e){var t=e.url.split(":");return t.length<1?"":this._url_whitelist[t[0]]?'<a href="'+this.escape_txt_for_html(e.url)+'">'+this.escape_txt_for_html(e.text)+"</a>":""},e}();function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=e.raw[0].replace(r,"");return new RegExp(i)}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=e.raw[0].replace(r,"");return new RegExp(i,"g")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r})?r.apply(t,i):r)||(e.exports=o)},EzZl:function(e,t,n){},FA8J:function(e,t,n){},Fz3V:function(e,t,n){"use strict";var r=n("aRb8");n.d(t,"a",(function(){return r.a}))},HSPy:function(e,t,n){},IEBa:function(e,t,n){},"J/A8":function(e,t,n){},JNvJ:function(e,t,n){},JcDS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=(n("3G6F"),r.createElement);function o(e){var t=e.onSelect,n=e.textList,r=e.darkMode;return i("div",{className:"DropdownContent"+(r?" dark":"")},n.map((function(e,n){return i("button",{key:n,className:"DropdownContent__item",onClick:function(n){n.stopPropagation(),t(e)}},e)})))}o.defaultProps={darkMode:!1};var a=o},O0km:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("q1tI"),i=n.n(r),o=n("TyAF"),a=n("Mpw+"),l=n("ZicW"),s=(n("/8C+"),i.a.createElement),u=Object(o.c)((function(e){var t=e.className,n=void 0===t?"":t,r=e.isSplitMode,o=e.isRightClosed,a=e.isDragging,l=e.pressButton,u=e.releaseButton;return r?s("div",{className:"SplitViewHandler "+n,onTouchStart:l,onTouchEnd:u,onMouseDown:l,onMouseUp:u},s("button",{className:"SplitViewHandler__button "+(o?"SplitViewHandler__button--right":"SplitViewHandler__button--center")},s("img",{style:o?{transform:"rotate(180deg)"}:{},src:"/static/images/icons/page-"+(a?"drag":"onOff")+".svg"}))):s(i.a.Fragment,null)})),c=(n("YE8N"),i.a.createElement),d=Object(o.b)("sizeStore")(Object(o.c)((function(e){var t=a.a.intlStringFactory(["common__loading"]),n=e.className,i=void 0===n?"":n,o=e.classNameLeft,s=void 0===o?"":o,d=e.classNameRight,p=void 0===d?"":d,f=e.classNameHandler,m=void 0===f?"":f,h=e.leftNode,b=e.rightNode,E=e.disableRightNode,g=void 0!==E&&E,_=e.disableSettingSplitModeBySize,v=void 0!==_&&_,O=e.disableCalculateLeftSizeClass,y=void 0!==O&&O,C=e.isDarkMode,I=void 0!==C&&C,S=e.sizeStore,F=S.windowWidth,T=S.windowSizes,w=S.numberedWindowSizes,x=e.splitViewStore,j=x.leftStyle,R=x.rightStyle,L=x.isRightClosed,N=x.setIsRightClosed,P=x.getIsSplitMode,D=x.setIsSplitMode,k=x.getIsDragging,M=x.pressDragButton,A=x.releaseDragButton,z=x.getLeftSizeInPercentage,U=function(){g?(D(!1),N(!0)):w&&!v&&D(w>3)};return Object(r.useEffect)((function(){U()}),[]),Object(r.useEffect)((function(){U()}),[w,"object",g]),T?c("div",{className:"SplitView "+i},c("div",{className:"SplitView__left "+s+" \n          "+(y?"":F*z()/100<600?"S":F*z()/100<992?"M":"L"),style:j},h,!g&&c(u,{className:m,isSplitMode:P(),isRightClosed:L,isDragging:k(),pressButton:M,releaseButton:A})),!g&&c("div",{className:"SplitView__right "+p,style:R},b)):c(l.a,{title:t.common__loading,darkMode:I})})))},P7DB:function(e,t,n){},PKug:function(e,t,n){},QEso:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),l=b(n("17x9")),s=h(n("VKEO")),u=b(n("S1to")),c=h(n("Ye7m")),d=h(n("fbhf")),p=n("2zs7"),f=b(p),m=b(n("UIKY"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}n("WkvU");var E={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=0,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.remove(document.body,o),i&&d.remove(document.getElementsByTagName("html")[0],i),r&&g>0&&0===(g-=1)&&c.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(s.returnFocus(n.props.preventScroll),s.teardownScopedFocus()):s.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),m.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(s.setupScopedFocus(n.node),s.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:E[e],afterOpen:E[e]+"--after-open",beforeClose:E[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&d.add(document.body,i),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(g+=1,c.hide(t)),m.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=e.children,l=n?{}:o.content,s=i?{}:o.overlay;if(this.shouldBeClosed())return null;var u={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},s,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},c=r({id:t,ref:this.setContentRef,style:r({},l,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(c,a);return this.props.overlayElement(u,d)}}]),t}(a.Component);_.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.oneOfType([l.default.instanceOf(f.default),l.default.instanceOf(p.SafeHTMLCollection),l.default.instanceOf(p.SafeNodeList),l.default.arrayOf(l.default.instanceOf(f.default))]),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func,testId:l.default.string},t.default=_,e.exports=t.default},S1to:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],l=n[n.length-1];if(e===document.activeElement){if(!i)return;r=l}l!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=l);if(r)return t.preventDefault(),void r.focus();var s=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==s||"Chrome"==s[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=n.indexOf(document.activeElement);u>-1&&(u+=i?-1:1);if("undefined"===typeof(r=n[u]))return t.preventDefault(),void(r=i?l:a).focus();t.preventDefault(),r.focus()};var r,i=n("ZDLa"),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},TNd2:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("TyAF"),a=(n("hCJy"),n("Mpw+")),l=i.a.createElement,s=Object(o.c)((function(e){var t=a.a.intlStringFactory(["QuizViewerText_INPUT_ANSWER_CORRECTLY","QuizViewerText_CORRECT_ANSWER_MESSAGE","QuizViewerText_GET_XP_MESSAGE","QuizViewerText_DO_REVIEW"]),n=e.xpPoint,i=e.placeholder,o=void 0===i?t.QuizViewerText_INPUT_ANSWER_CORRECTLY:i,s=e.defaultAnswerArray,u=e.onChangeTextAnswer,c=e.myAnswer,d=e.isSolvedBefore,p=void 0!==d&&d,f=e.isSolved,m=void 0!==f&&f,h=e.isSubmitted,b=void 0!==h&&h,E=e.handleSubmitBtn,g=void 0===E?function(){}:E,_=e.quizResultBannerStore;Object(r.useEffect)((function(){if(_){var e=_.setIsSubmitted,t=_.setIsCorrectAnswer,r=_.setXpPoint;e(b),t(m),r(p?0:n)}}),[m,b,p]);var v=function(){var e="";return s.map((function(t){e+=t+" "})),e};return l("div",{className:"QuizViewerText"},m?l("div",{className:"QuizViewerText__input "+(m&&b?"QuizViewerText__input--correctAnswerAnimation":"QuizViewerText__input--solved")},l("span",null,v()),l("p",{className:"QuizViewerText__correctAnswerMessage\n              "+(m&&b?"QuizViewerText__correctAnswerMessage--correctAnswerAnimation":"")},l("span",{className:"CR__hidden--S"},t.QuizViewerText_CORRECT_ANSWER_MESSAGE+(p?"":" "+n+t.QuizViewerText_GET_XP_MESSAGE)),l("button",{className:"QuizViewerText__review",disabled:!c.length&&!m,onClick:g},t.QuizViewerText_DO_REVIEW))):l("input",{className:"QuizViewerText__input "+(!m&&b?"QuizViewerText__input--wrongAnswerAnimation":""),placeholder:m?v():o,autoComplete:"off",type:"text",onChange:function(e){return u(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?g():{}},readOnly:m,value:c}))}))},UIKY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},UIfX:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var r=n("YLwY"),i=function(e){return[r.g.Django,r.g.HtmlCss,r.g.React].includes(e)},o=function(e){return[r.g.Django,r.g.PythonTrm,r.g.React,r.g.Express].includes(e)},a=function(e,t){var n=e===r.g.Null,i=o(e)&&!t;return Boolean(n||i)},l={default:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult"},get PYTHON(){return l.default},get JAVA(){return l.default},get JAVASCRIPT(){return l.default},get NULL(){return l.default},HTML_CSS:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult"},JUPYTER_DS:{consoleList:["jupyter"],initialConsoleType:"jupyter",afterExecutionConsoleType:"jupyter"},SQL:{consoleList:["sqlTable","schema"],initialConsoleType:"sqlTable",afterExecutionConsoleType:"sqlTable"},DJANGO:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal"},PYTHON_TRM:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult"},REACT:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal"},EXPRESS:{consoleList:["terminal","executionResult"],initialConsoleType:"terminal",afterExecutionConsoleType:"executionResult"}}},VCL8:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,l=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?l="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(l="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==l){var s=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==l?"\n  "+l:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},VKEO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=u,t.handleFocus=c,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){l=e,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){l=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var r,i=n("ZDLa"),o=(r=i)&&r.__esModule?r:{default:r};var a=[],l=null,s=!1;function u(){s=!0}function c(){if(s){if(s=!1,!l)return;setTimeout((function(){l.contains(document.activeElement)||((0,o.default)(l)[0]||l).focus()}),0)}}},Vvt1:function(e,t,n){e.exports=n("a6RD")},WW0X:function(e,t,n){},WkvU:function(e,t,n){"use strict";var r,i=n("UIKY"),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,l=void 0,s=[];function u(){0!==s.length&&s[s.length-1].focusContent()}o.default.subscribe((function(e,t){a&&l||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",u),(l=a.cloneNode()).addEventListener("focus",u)),(s=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==l&&document.body.appendChild(l)):(a.parentElement&&a.parentElement.removeChild(a),l.parentElement&&l.parentElement.removeChild(l))}))},YE8N:function(e,t,n){},Ye7m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=s,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);s(n,t),t=n}return l=t||l},t.validateElement=u,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=u(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=u(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){l=null},t.resetForTesting=function(){l=null};var r,i=n("2W6z"),o=(r=i)&&r.__esModule?r:{default:r},a=n("2zs7");var l=null;function s(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){var t=e||l;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},ZDLa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},a6RD:function(e,t,n){"use strict";var r=n("oI91");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.__esModule=!0,t.noSSR=s,t.default=function(e,t){var n=a.default,r={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?r.loader=function(){return e}:"function"===typeof e?r.loader=e:"object"===typeof e&&(r=o(o({},r),e));if(r=o(o({},r),t),"object"===typeof e&&!(e instanceof Promise)&&(e.render&&(r.render=function(t,n){return e.render(n,t)}),e.modules)){n=a.default.Map;var i={},l=e.modules();Object.keys(l).forEach((function(e){var t=l[e];"function"!==typeof t.then?i[e]=t:i[e]=function(){return t.then((function(e){return e.default||e}))}})),r.loader=i}r.loadableGenerated&&delete(r=o(o({},r),r.loadableGenerated)).loadableGenerated;if("boolean"===typeof r.ssr){if(!r.ssr)return delete r.ssr,s(n,r);delete r.ssr}return n(r)};l(n("q1tI"));var a=l(n("2qu3"));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return delete t.webpack,delete t.modules,e(t)}},aEeg:function(e,t,n){},aRb8:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("TyAF"),a=n("IujW"),l=n.n(a),s=n("2/mD"),u=(n("Cwz0"),i.a.createElement);t.a=Object(o.b)("popupStore")(Object(o.c)((function(e){var t=e.popupTitle,n=e.content,r=e.title,i=e.component,o=e.onClose,a=e.className,c=void 0===a?"":a,d=e.popupStore.closePopup;return u(s.a,{popupTitle:t,backClickFunc:o,escFunc:o,className:c},u("div",{className:"PopupWithComponent"},u("h1",{className:"PopupWithComponent__title"},r),n&&u("div",{className:"PopupWithComponent__content"},u(l.a,{source:n})),i,u("button",{className:"PopupWithComponent__closeBtn",onClick:d},u("img",{alt:"close",src:"/static/images/popup/closeBtn.png",width:40,height:40}))))})))},elDu:function(e,t,n){},fbhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},i={};t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},feAP:function(e,t,n){},gh8m:function(e,t,n){},hCJy:function(e,t,n){},"hON/":function(e,t,n){},jiin:function(e,t,n){},jwwS:function(e,t,n){"use strict";var r;t.__esModule=!0,t.LoadableContext=void 0;var i=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext(null);t.LoadableContext=i},jxvJ:function(e,t,n){},"kOu/":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n("vJKn"),i=n.n(r),o=n("rg98"),a=n("rW1U"),l=n("sF6c"),s=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,o,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.lessonId,o=t.enrollmentId,s=t.quizId,u=t.attempt,e.next=3,a.a.requestGraphql('\n    mutation {\n      gradeQuiz(input: {\n        lessonId: "'+r+'",\n        enrollmentId: "'+o+'",\n        quizId: "'+s+'",\n        attempt: '+JSON.stringify(Object(l.c)(u))+"\n      })\n    }\n  ");case 3:return c=e.sent,e.abrupt("return",Boolean(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.gradeQuiz));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,o,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.lessonId,o=t.quizId,s=t.attempt,e.next=3,a.a.requestGraphql('\n    mutation {\n      nonMemberGradeQuiz(input: {\n        lessonId: "'+r+'",\n        quizId: "'+o+'",\n        attempt: '+JSON.stringify(Object(l.c)(s))+"\n      })\n    }\n  ");case 3:return u=e.sent,e.abrupt("return",Boolean(null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.nonMemberGradeQuiz));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e,t){var n=[];return""!==e&&(n=e.includes(",")?1===t.length&&1===t[0].length?[e]:e.split(","):[e]),n},d=function(e,t,n){var r=e;return r.includes(t)?r=r.filter((function(e){return e!==t})):n&&1===n.length?r=[t]:r.push(t),r}},"l+d7":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("vJKn"),i=n.n(r),o=n("rg98"),a=n("H+61"),l=n("vDqi"),s=n.n(l),u=n("rzrn"),c=n("Mpw+").a.intlStringFactory(["ApplicationToolKit_COPY_TO_CLIPBOARD"]),d=function e(){Object(a.a)(this,e)};d.copyToClipboard=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.ApplicationToolKit_COPY_TO_CLIPBOARD,n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),t&&u.a.getInstance().setShortPopupSecond(t)},d.downloadFileFromUrl=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,o,a,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"",(r=document.createElement("a")).style.display="none",r.href=t,!n){e.next=11;break}return e.next=7,s()({method:"GET",url:t,responseType:"blob"});case 7:o=e.sent,a=window.URL.createObjectURL(new Blob([o.data])),r.href=a,r.setAttribute("download",n);case 11:document.body.appendChild(r),r.click(),document.body.removeChild(r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pSBW:function(e,t,n){},qFS3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=m(o),l=m(n("i8i4")),s=m(n("17x9")),u=m(n("QEso")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("Ye7m")),d=n("2zs7"),p=m(d),f=n("VCL8");function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var E=t.portalClassName="ReactModalPortal",g=t.bodyOpenClassName="ReactModal__Body--open",_=d.canUseDOM&&void 0!==l.default.createPortal,v=function(){return _?l.default.createPortal:l.default.unstable_renderSubtreeIntoContainer};function O(e){return e()}var y=function(e){function t(){var e,n,i;h(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=i=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.removePortal=function(){!_&&l.default.unmountComponentAtNode(i.node);var e=O(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=v()(i,a.default.createElement(u.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},b(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(_||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,O(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:O(e.parentSelector),nextParent:O(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,l=n.nextParent;l!==a&&(a.removeChild(this.node),l.appendChild(this.node)),(e.isOpen||i)&&!_&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&_?(!this.node&&_&&(this.node=document.createElement("div")),v()(a.default.createElement(u.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(o.Component);y.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(p.default),s.default.instanceOf(d.SafeHTMLCollection),s.default.instanceOf(d.SafeNodeList),s.default.arrayOf(s.default.instanceOf(p.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},y.defaultProps={isOpen:!1,portalClassName:E,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},y.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(y),t.default=y},rig7:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=(n("z2w+"),n("i8i4")),o=n.n(i),a=n("Mpw+"),l=n("cBaE"),s=r.createElement;function u(e){var t=a.a.intlStringFactory(["CommonResult_correct","CommonResult_wrong"]),n=e.setOff,i=e.isPass,u=e.successText,c=e.failText,d=e.darkMode,p=r.useMemo((function(){return"/static/images/classroom/grade--"+(i?"pass":"fail")+".svg"}),[i]);r.useEffect((function(){setTimeout((function(){n()}),1500)}),[]);var f=r.useMemo((function(){return u||t.CommonResult_correct}),[u]),m=r.useMemo((function(){return c||t.CommonResult_wrong}),[c]),h=r.useMemo((function(){return l.F?document.getElementById("modal-root"):null}),["object"]),b=s("div",{className:"CommonResult "+(d?"Dark":"")},s("div",{className:"CommonResult__content"},s("img",{alt:"result content",src:p,className:"CommonResult__content__image "+(i?"pass":"fail")}),s("h2",{className:"CommonResult__content__title"},i?f:m)));return h?o.a.createPortal(b,h):null}},rvTz:function(e,t,n){},sF6c:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("z7pX"),i=function(e){if(!e)return[];var t=[];return e.map((function(e){t.push(e.trim())})),t},o=function(e){return Object(r.a)(e).sort((function(){return Math.random()-.5}))},a=function(e){return Array.from(Array(e).keys())}},sztL:function(e,t,n){},tUgX:function(e,t,n){"use strict";var r,i,o,a,l,s,u=n("4nv/"),c=n("H+61"),d=n("EaFg"),p=(n("ACih"),n("2vnA")),f=n("Mpw+").a.intlStringFactory(["common__loading"]),m=(r=function e(){Object(c.a)(this,e),Object(u.a)(this,"isLoading",i,this),Object(u.a)(this,"loadingMsg",o,this),Object(u.a)(this,"setLoadingMsg",a,this),Object(u.a)(this,"setIsLoading",l,this),Object(u.a)(this,"setIsLoadingWithMessage",s,this)},i=Object(d.a)(r.prototype,"isLoading",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Object(d.a)(r.prototype,"loadingMsg",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.common__loading}}),a=Object(d.a)(r.prototype,"setLoadingMsg",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.loadingMsg=t}}}),l=Object(d.a)(r.prototype,"setIsLoading",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isLoading=t}}}),s=Object(d.a)(r.prototype,"setIsLoadingWithMessage",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.common__loading;e.setIsLoading(t),e.setLoadingMsg(n)}}}),r);t.a=m},ulKH:function(e,t,n){},wboI:function(e,t,n){"use strict";var r=n("cpVT"),i=n("z7pX"),o=n("vJKn"),a=n.n(o),l=n("rg98"),s=n("4nv/"),u=n("H+61"),c=n("UlJF"),d=(n("ACih"),n("EaFg")),p=n("2vnA"),f=n("+f9f"),m=n("cBaE");var h,b,E,g,_,v,O,y,C,I,S,F,T,w,x,j,R,L,N,P,D,k,M,A,z,U,B,W,q,V,H,G,J,Q,K,X,Y,$,Z,ee,te,ne,re,ie,oe,ae,le,se,ue,ce,de,pe,fe,me,he,be,Ee,ge,_e,ve,Oe,ye,Ce,Ie,Se,Fe,Te,we,xe,je,Re,Le,Ne,Pe,De,ke,Me,Ae=n("303J"),ze=n("vDqi"),Ue=n.n(ze),Be=n("rzrn"),We=n("TTIZ"),qe=n("VWFO"),Ve=n("Mpw+"),He=n("rW1U"),Ge=n("1sAG"),Je=n("jKG3"),Qe=n("e13s"),Ke=n("KMcX"),Xe=n("5tSB"),Ye=n("UIfX"),$e=n("2kfl"),Ze=n("GKl5"),et=n("tUgX"),tt=n("YLwY"),nt=n("KOpk"),rt=n("4dgq"),it=n("QMV7"),ot=Ve.a.intlStringFactory(["CodeEditorStore_WAITING","CodeEditorStore_EXECUTION_ERROR","CodeEditorStore_COMPLETE_SELF_CHECK","CodeEditorStore_SCORING_ERROR","CodeEditorStore_SAVING","CodeEditorStore_CHECK_BROWSER_SETTING","CodeEditorStore_EXECUTION_TIME_ERROR","CodeEditorStore_duplicated","CodeEditorStore_DELETE_FILE_ERROR","CodeEditorStore_CREATE_FILE_ERROR","CodeEditorStore_CREATE_FOLDER_ERROR","CodeEditorStore_MOVE_FILE_ERROR","CodeEditorStore_NO_PATH","CodeEditorStore_ERROR_IN_WEBTERMINAL_URL","CodeEditorStore_ERROR_IN_INIT_WEBTERMINAL","CodeEditorStore_ENROLLMENT_NEEDED","CodeEditorStore_ERROR_IN_GET_FILE_TREE","CodeEditorStore_ERROR_IN_WRITE_TERMINAL_TEXT_FILE","CodeEditorStore_ERROR_IN_UPLOAD_FILE","CodeEditorStore_LOADING_TERMINAL","CodeEditorStore_FILE","CodeEditorStore_NOT_AVAILABLE_IN_EDITMODE","CodeEditorStore_SAVED","CodeEditorStore_DUPLICATED","CodeEditorStore_WRONG_DIRECTORY","CodeEditorStore_DUPLICATED_NAME","CodeEditorStore_DUPLICATED_NAME","CodeEditorStore_EXTENTION_REQUIRED","CodeEditorStore_DUPLICATED","CodeEditorStore_DUPLICATED_DIRECTORY","CodeEditorStore_FAIL_TO_RESET_PROJECT","CodeEditorStore_ERROR_IN_RESET_PROJECT"]),at=(h=function(){function e(t){var n=this;Object(u.a)(this,e),this.loadingStore=void 0,this.classroomStore=void 0,this.fileUploadProgressStore=void 0,this.terminalFileManager=void 0,this.terminalFileReader=void 0,this.terminalExplorerReader=void 0,this.terminalFileWriter=void 0,this.terminalInitializer=void 0,Object(s.a)(this,"originalFiles",b,this),Object(s.a)(this,"language",E,this),Object(s.a)(this,"items",g,this),Object(s.a)(this,"openedEditorItemFilePath",_,this),Object(s.a)(this,"currentFileExplorerItemFilePath",v,this),Object(s.a)(this,"defaultOpenFilePath",O,this),Object(s.a)(this,"defaultRunFilePath",y,this),Object(s.a)(this,"currentLesson",C,this),Object(s.a)(this,"consoleResult",I,this),Object(s.a)(this,"alert",S,this),Object(s.a)(this,"explorerOpen",F,this),Object(s.a)(this,"consoleHeight",T,this),Object(s.a)(this,"modalState",w,this),Object(s.a)(this,"schemaLoading",x,this),Object(s.a)(this,"schemaError",j,this),Object(s.a)(this,"schemaResult",R,this),Object(s.a)(this,"uploadFile",L,this),Object(s.a)(this,"rawTerminalFilePathList",N,this),Object(s.a)(this,"webTerminalSrc",P,this),Object(s.a)(this,"terminalExecutionLink",D,this),Object(s.a)(this,"isEditorMode",k,this),Object(s.a)(this,"isReadyToRenderWebTerminal",M,this),Object(s.a)(this,"setOpenedEditorItemFilePath",A,this),Object(s.a)(this,"setConsoleResult",z,this),Object(s.a)(this,"setLanguage",U,this),this.scrollToSelf=function(){if(n.classroomStore){it.a.getInstance().isTabletOrMobileSize&&n.classroomStore.splitViewStore.toggleIsRightClosed();try{setTimeout((function(){var e=document.getElementById("LessonViewer"),t=document.getElementById("ExerciseViewerSelfCheck");t&&e&&(e.scrollTo(0,t.offsetTop-50),t.classList.add("outline__purple"),setTimeout((function(){t.classList.remove("outline__purple")}),1e3))}),50)}catch(e){throw new Error(e)}}},this.getFilesForSubmit=function(){var e=Object(m.p)(Object(Ae.a)(n.convertFiles(n.items))).replace(/\s*type:\s*"([^"]+)"/gi,"type: $1").replace(/\s*assetId:\s*{}/gi,"assetId: null").replace(/\s*content:\s*{}/gi,"content: null").replace(/\s*children:\s*{}/gi,"children: null").replace(/\s*id:\s*"[A-Z0-9]{0,8}",/g,"");return n.isTerminalRequired?e.replace(/id:\s*"([^"]+)",/gi,""):e},this.getFilesForDownload=function(){return Object(m.p)(Object(Ae.a)(n.convertFiles(n.items))).replace(/\s*type:\s*"([^"]+)"/gi,"type: $1").replace(/\s*assetId:\s*{}/gi,"assetId: null").replace(/\s*content:\s*{}/gi,"content: null").replace(/\s*children:\s*{}/gi,"children: null")},this.getFilesForUpdate=function(){return Object(m.p)(Object(Ae.a)(n.convertFiles(n.items))).replace(/\s*type:\s*"([^"]+)"/gi,"type: $1").replace(/\s*assetId:\s*{}/gi,"assetId: null").replace(/\s*content:\s*{}/gi,"content: null").replace(/\s*children:\s*{}/gi,"children: null").replace(/\s*id:\s*"[A-Z0-9]{0,8}",/g,"")},this.convertRootPathToEmptyString=function(e){return"/"===e?"":e},Object(s.a)(this,"updateOpenEditorItemFilePath",B,this),Object(s.a)(this,"setIsReadyToRenderWebTerminal",W,this),Object(s.a)(this,"initializeFileExplorer",q,this),Object(s.a)(this,"initByLesson",V,this),Object(s.a)(this,"initByFileAndLanguage",H,this),Object(s.a)(this,"openParentFolders",G,this),this.getEditorItemByKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"filePath";return n.items.find((function(n){return n.itemData[t]===e}))},Object(s.a)(this,"initDefaultOpenFile",J,this),Object(s.a)(this,"setCurrentLessonAndUpdateLanguage",Q,this),Object(s.a)(this,"initLessonFiles",K,this),Object(s.a)(this,"overwriteLessonFilesWithUserFiles",X,this),Object(s.a)(this,"setDefaultOpenFilePath",Y,this),Object(s.a)(this,"setDefaultRunFilePath",$,this),Object(s.a)(this,"resetPage",Z,this),Object(s.a)(this,"spreadFiles",ee,this),Object(s.a)(this,"setCurrentFileExplorerItemFilePath",te,this),Object(s.a)(this,"convertFiles",ne,this),this.getItemByFilePath=function(e){return n.items.find((function(t){return t.itemData.filePath===e}))},Object(s.a)(this,"filterItemsToFilePath",re,this),Object(s.a)(this,"initSchema",ie,this),Object(s.a)(this,"submit",oe,this),Object(s.a)(this,"submitWithoutSaving",ae,this),Object(s.a)(this,"grade",le,this),Object(s.a)(this,"nonMemberGrade",se,this),Object(s.a)(this,"reset",ue,this),Object(s.a)(this,"save",ce,this),Object(s.a)(this,"getDownloadUrl",de,this),Object(s.a)(this,"setConsole",pe,this),Object(s.a)(this,"setAlert",fe,this),Object(s.a)(this,"closeAlert",me,this),Object(s.a)(this,"handleMouseMove",he,this),Object(s.a)(this,"handleMouseUp",be,this),Object(s.a)(this,"handleMouseDown",Ee,this),Object(s.a)(this,"setScreenBeforeRun",ge,this),Object(s.a)(this,"setConsoleHeight",_e,this),Object(s.a)(this,"changeExplorerOpen",ve,this),Object(s.a)(this,"closeExplorer",Oe,this),Object(s.a)(this,"setModal",ye,this),this.hasDuplicatedFilePath=function(e){return Boolean(n.items.find((function(t){return t.itemData.filePath===e})))},Object(s.a)(this,"addFileInFileExplorer",Ce,this),Object(s.a)(this,"addFolderInFileExplorer",Ie,this),Object(s.a)(this,"addAssets",Se,this),Object(s.a)(this,"isValidNameOnChange",Fe,this),Object(s.a)(this,"updateFilePath",Te,this),this.isActionUnavailable=function(){return n.classroomStore&&n.classroomStore.isActionUnavailable()},this.getTerminalUrl=Object(l.a)(a.a.mark((function e(){var t,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.requestGraphql("{\n      getTerminalUrl(\n        bakeyFileRequest: {\n          language: "+n.language+'\n          enrollmentId: "'+(null===(t=n.currentLesson.topic)||void 0===t||null===(r=t.enrollment)||void 0===r?void 0:r.id)+'"\n          seqId: '+n.currentLesson.seqId+"\n        }\n      )\n    }");case 2:i=e.sent,Object(p.p)((function(){var e;null!==(e=i.data)&&void 0!==e&&e.getTerminalUrl?n.webTerminalSrc=i.data.getTerminalUrl:Be.a.getInstance().setAlertPopup(ot.CodeEditorStore_ERROR_IN_WEBTERMINAL_URL,"alert",!1,Object(Je.a)(rt.a.getInstance().currentUser.theme))}));case 4:case"end":return e.stop()}}),e)}))),Object(s.a)(this,"useTool",we,this),Object(s.a)(this,"removeTool",xe,this),this.readTerminalFileTree=Object(l.a)(a.a.mark((function e(){var t,r,i,o,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>0&&void 0!==l[0]&&l[0],e.next=3,null===(t=n.terminalExplorerReader)||void 0===t?void 0:t.getFileList();case 3:if(i=e.sent){e.next=7;break}return alert(ot.CodeEditorStore_ERROR_IN_GET_FILE_TREE),e.abrupt("return");case 7:o=JSON.stringify(n.rawTerminalFilePathList)!==JSON.stringify(i),Object(p.p)((function(){o&&(n.rawTerminalFilePathList=i,i&&n.setEditorItemListByFilePathList(i)),r?n.initDefaultOpenFile(n.currentLesson.defaultOpenFilePath):n.currentFileExplorerItemFilePath&&n.setCurrentFileExplorerItemFilePath(n.currentFileExplorerItemFilePath)}));case 9:case"end":return e.stop()}}),e)}))),Object(s.a)(this,"setEditorItemListByFilePathList",je,this),this.writeTerminalTextFile=Object(l.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.openedEditorItem){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,null===(t=n.terminalFileWriter)||void 0===t?void 0:t.writeTextFile(n.openedEditorItem.itemData.filePath,JSON.stringify(n.openedEditorItem.itemData.content||""));case 4:if(!e.sent){e.next=9;break}return e.abrupt("return",!0);case 9:return Be.a.getInstance().setAlertPopup(ot.CodeEditorStore_ERROR_IN_WRITE_TERMINAL_TEXT_FILE),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)}))),this.createFileInTerminal=function(){var e=Object(l.a)(a.a.mark((function e(t){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.convertRootPathToEmptyString(n.currentFolderPathInFileExplorer)+"/"+t,!n.hasDuplicatedFilePath(i)){e.next=3;break}return e.abrupt("return",Be.a.getInstance().setShortPopupSecond(ot.CodeEditorStore_DUPLICATED));case 3:return e.next=5,null===(r=n.terminalFileManager)||void 0===r?void 0:r.createFile(i);case 5:if(!e.sent){e.next=10;break}return n.addFileInFileExplorer(i,t,"EDITABLE"),Be.a.getInstance().closePopup(),e.abrupt("return");case 10:alert(ot.CodeEditorStore_CREATE_FILE_ERROR);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createDirectoryInTerminal=function(){var e=Object(l.a)(a.a.mark((function e(t){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.convertRootPathToEmptyString(n.currentFolderPathInFileExplorer)+"/"+t,e.next=3,null===(r=n.terminalFileManager)||void 0===r?void 0:r.createDirectory(i);case 3:if(!e.sent){e.next=8;break}return n.addFolderInFileExplorer(i,t),Be.a.getInstance().closePopup(),e.abrupt("return");case 8:alert(ot.CodeEditorStore_CREATE_FOLDER_ERROR);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createRootDirectoryInTerminal=Object(l.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=n.terminalFileManager)||void 0===t?void 0:t.createDirectory("/");case 2:case"end":return e.stop()}}),e)}))),this.moveFileOrDirectoryInTerminal=function(){var e=Object(l.a)(a.a.mark((function e(t){var r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=n.terminalFileManager)||void 0===r?void 0:r.moveFileOrDirectory(null===(i=n.currentFileExplorerItem)||void 0===i?void 0:i.itemData.id,t);case 2:if(o=e.sent,Be.a.getInstance().closePopup(),"success"!==o){e.next=7;break}return n.readTerminalFileTree(),e.abrupt("return");case 7:if("error"!==o){e.next=10;break}return Be.a.getInstance().setAlertPopup(ot.CodeEditorStore_MOVE_FILE_ERROR,"alert",!0,Object(Je.a)(rt.a.getInstance().currentUser.theme)),e.abrupt("return");case 10:if("noPath"!==o){e.next=13;break}return Be.a.getInstance().setAlertPopup(ot.CodeEditorStore_NO_PATH,"alert",!0,Object(Je.a)(rt.a.getInstance().currentUser.theme)),e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renameFileOrDirectory=function(){var e=Object(l.a)(a.a.mark((function e(t,r,i){var o,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==r.itemData.name){e.next=2;break}return e.abrupt("return",!1);case 2:if(o=Object(Xe.e)(r.itemData.filePath)){e.next=6;break}return Be.a.getInstance().setShortPopup(ot.CodeEditorStore_WRONG_DIRECTORY),e.abrupt("return",!1);case 6:if(l=o+"/"+t,!n.hasDuplicatedFilePath(l)){e.next=10;break}return Be.a.getInstance().setShortPopup(ot.CodeEditorStore_DUPLICATED_NAME),e.abrupt("return",!1);case 10:if(n.isValidNameOnChange(t,r)){e.next=13;break}return Be.a.getInstance().setShortPopup(ot.CodeEditorStore_DUPLICATED_NAME),e.abrupt("return",!1);case 13:if(!(n.terminalFileManager&&i)){e.next=21;break}return e.next=17,n.terminalFileManager.renameFileOrDirectory(t,r.itemData.filePath);case 17:e.sent&&r.changeItemName(t),e.next=23;break;case 21:r.changeItemName(t),r instanceof f.d&&n.updateFilePath();case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Object(s.a)(this,"deleteFileOrDirectory",Re,this),Object(s.a)(this,"uploadFileOrDirectory",Le,this),Object(s.a)(this,"setTerminalExecutionLink",Ne,this),this.resetProject=Object(l.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=n.terminalFileManager)||void 0===t||!t.resetProject){e.next=5;break}return e.next=3,n.terminalFileManager.resetProject();case 3:!e.sent&&Be.a.getInstance().setAlertPopup(ot.CodeEditorStore_FAIL_TO_RESET_PROJECT,"alert",!0,!0,ot.CodeEditorStore_ERROR_IN_RESET_PROJECT);case 5:case"end":return e.stop()}}),e)}))),Object(s.a)(this,"openFileAdderPopup",Pe,this),Object(s.a)(this,"openFolderAdderPopup",De,this),Object(s.a)(this,"createFileRequest",ke,this),Object(s.a)(this,"createFolderRequest",Me,this),this.loadingStore=new et.a,t&&this.initializeProps(t)}return Object(c.a)(e,[{key:"initializeProps",value:function(e){Object.assign(this,e)}},{key:"isFileStructureEditable",get:function(){return this.isEditorMode||!this.isFileStructureLocked}},{key:"isFileStructureLocked",get:function(){return Boolean("undefined"===typeof this.currentLesson.fileStructureLock||this.currentLesson.fileStructureLock)}},{key:"currentFolderPathInFileExplorer",get:function(){return(this.currentFileExplorerItem instanceof f.d?this.currentFileExplorerItemFilePath:Object(Xe.e)(this.currentFileExplorerItemFilePath||""))||""}},{key:"currentFileExplorerItem",get:function(){return this.getEditorItemByKey(this.currentFileExplorerItemFilePath)}},{key:"openedEditorItem",get:function(){return this.getEditorItemByKey(this.openedEditorItemFilePath)}},{key:"currentOpenFolders",get:function(){return this.items.reduce((function(e,t){return t instanceof f.d&&t.isOpen&&e.push(t.itemData.filePath),e}),[])}},{key:"rootFolderName",get:function(){var e;switch(this.language){case tt.g.Django:return"django";case tt.g.PythonTrm:return"python";case tt.g.React:return"react";default:return(null===(e=this.currentLesson)||void 0===e?void 0:e.title)||ot.CodeEditorStore_FILE}}},{key:"isTerminalRequired",get:function(){return Object(Ye.d)(this.language)}}]),e}(),Object(d.a)(h.prototype,"initializeProps",[p.f],Object.getOwnPropertyDescriptor(h.prototype,"initializeProps"),h.prototype),b=Object(d.a)(h.prototype,"originalFiles",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=Object(d.a)(h.prototype,"language",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tt.g.Python}}),g=Object(d.a)(h.prototype,"items",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=Object(d.a)(h.prototype,"openedEditorItemFilePath",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=Object(d.a)(h.prototype,"currentFileExplorerItemFilePath",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=Object(d.a)(h.prototype,"defaultOpenFilePath",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=Object(d.a)(h.prototype,"defaultRunFilePath",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Object(d.a)(h.prototype,"currentLesson",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(Ge.a)()}}),I=Object(d.a)(h.prototype,"consoleResult",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=Object(d.a)(h.prototype,"alert",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{alert:!1,success:!1}}}),F=Object(d.a)(h.prototype,"explorerOpen",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=Object(d.a)(h.prototype,"consoleHeight",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),w=Object(d.a)(h.prototype,"modalState",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{file:!1,folder:!1,attach:!1}}}),x=Object(d.a)(h.prototype,"schemaLoading",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=Object(d.a)(h.prototype,"schemaError",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=Object(d.a)(h.prototype,"schemaResult",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=Object(d.a)(h.prototype,"uploadFile",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=Object(d.a)(h.prototype,"rawTerminalFilePathList",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=Object(d.a)(h.prototype,"webTerminalSrc",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=Object(d.a)(h.prototype,"terminalExecutionLink",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=Object(d.a)(h.prototype,"isEditorMode",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=Object(d.a)(h.prototype,"isReadyToRenderWebTerminal",[p.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(d.a)(h.prototype,"setOpenedEditorItemFilePath",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.openedEditorItemFilePath=t}}}),z=Object(d.a)(h.prototype,"setConsoleResult",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.consoleResult=t}}}),U=Object(d.a)(h.prototype,"setLanguage",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.language=t}}}),Object(d.a)(h.prototype,"isFileStructureEditable",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"isFileStructureEditable"),h.prototype),Object(d.a)(h.prototype,"isFileStructureLocked",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"isFileStructureLocked"),h.prototype),Object(d.a)(h.prototype,"currentFolderPathInFileExplorer",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"currentFolderPathInFileExplorer"),h.prototype),Object(d.a)(h.prototype,"currentFileExplorerItem",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"currentFileExplorerItem"),h.prototype),B=Object(d.a)(h.prototype,"updateOpenEditorItemFilePath",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(!e.getEditorItemByKey(e.openedEditorItemFilePath)){var t=e.items.find((function(e){return"FOLDER"!==e.itemData.type}));t&&e.setCurrentFileExplorerItemFilePath(t.itemData.filePath)}}}}),Object(d.a)(h.prototype,"openedEditorItem",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"openedEditorItem"),h.prototype),Object(d.a)(h.prototype,"currentOpenFolders",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"currentOpenFolders"),h.prototype),Object(d.a)(h.prototype,"rootFolderName",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"rootFolderName"),h.prototype),W=Object(d.a)(h.prototype,"setIsReadyToRenderWebTerminal",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isReadyToRenderWebTerminal=t}}}),q=Object(d.a)(h.prototype,"initializeFileExplorer",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(l.a)(a.a.mark((function t(n){var r,i,o,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.terminalExplorerReader){t.next=7;break}return t.next=3,e.terminalExplorerReader.getFileList();case 3:r=t.sent,Object(p.p)((function(){e.rawTerminalFilePathList=r,e.setEditorItemListByFilePathList(r)})),t.next=10;break;case 7:e.initLessonFiles((null===n||void 0===n?void 0:n.files)||[]),(l=null===n||void 0===n||null===(i=n.studyNote)||void 0===i||null===(o=i.codeExecution)||void 0===o?void 0:o.files)&&(null!==n&&void 0!==n&&n.fileStructureLock?e.overwriteLessonFilesWithUserFiles(l):e.initLessonFiles(l));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),V=Object(d.a)(h.prototype,"initByLesson",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(l.a)(a.a.mark((function t(n){var r,i,o,l,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.resetPage(),e.loadingStore.setIsLoading(!0),e.setCurrentLessonAndUpdateLanguage(n),!e.terminalInitializer){t.next=15;break}return n.editorOpened&&e.loadingStore.setIsLoadingWithMessage(!0,ot.CodeEditorStore_LOADING_TERMINAL),t.next=7,e.terminalInitializer.initializeTerminal();case 7:if(t.sent){t.next=12;break}return Be.a.getInstance().setAlertPopup(ot.CodeEditorStore_ERROR_IN_INIT_WEBTERMINAL,"alert",!1,Object(Je.a)(rt.a.getInstance().currentUser.theme)),e.loadingStore.setIsLoading(!1),t.abrupt("return");case 12:return t.next=14,e.getTerminalUrl();case 14:e.setIsReadyToRenderWebTerminal(!0);case 15:return!e.isTerminalRequired||null!==(r=n.topic)&&void 0!==r&&null!==(i=r.enrollment)&&void 0!==i&&i.id||Object(m.eb)()||Be.a.getInstance().setAlertPopup(ot.CodeEditorStore_ENROLLMENT_NEEDED,"alert",!1,Object(Je.a)(rt.a.getInstance().currentUser.theme)),t.next=18,e.initializeFileExplorer(n);case 18:e.initDefaultOpenFile(n.defaultOpenFilePath),n.defaultRunFilePath&&e.setDefaultRunFilePath(n.defaultRunFilePath),e.classroomStore&&100!==e.classroomStore.splitViewStore.getLeftSizeInPercentage()&&e.classroomStore.splitViewStore.getLeftSizeInPercentage()>60&&(e.explorerOpen=!1),u=null===(o=Ye.b[e.language])||void 0===o||null===(l=o.consoleList)||void 0===l?void 0:l.includes("terminal"),u&&!(null!==(s=e.classroomStore)&&void 0!==s&&s.splitViewStore.isRightClosed)?setTimeout((function(){e.loadingStore.setIsLoading(!1)}),5e3):e.loadingStore.setIsLoading(!1);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),H=Object(d.a)(h.prototype,"initByFileAndLanguage",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.resetPage(),e.loadingStore.setIsLoading(!1),e.initLessonFiles(t),e.setLanguage(n);var r=e.items.find((function(e){return 0===e.level&&e instanceof f.b&&!e.readonly}));r&&e.setCurrentFileExplorerItemFilePath(r.itemData.filePath)}}}),G=Object(d.a)(h.prototype,"openParentFolders",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.items,r=Object(Xe.e)(t.itemData.filePath);if(r){var i=n.find((function(e){return e.itemData.filePath===r}));if(i)return i.isOpen=!0,e.openParentFolders(i,n)}}}}),J=Object(d.a)(h.prototype,"initDefaultOpenFile",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(t){e.getEditorItemByKey(t)&&(e.setDefaultOpenFilePath(t),e.setCurrentFileExplorerItemFilePath(t))}else{var n=e.items.find((function(e){return e instanceof f.b&&!e.readonly}));n&&e.setCurrentFileExplorerItemFilePath(n.itemData.filePath)}}}}),Object(d.a)(h.prototype,"isTerminalRequired",[p.g],Object.getOwnPropertyDescriptor(h.prototype,"isTerminalRequired"),h.prototype),Q=Object(d.a)(h.prototype,"setCurrentLessonAndUpdateLanguage",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentLesson=t,e.setLanguage(t.language||tt.g.Python)}}}),K=Object(d.a)(h.prototype,"initLessonFiles",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.originalFiles=Object(i.a)(t),e.items=e.spreadFiles(t)}}}),X=Object(d.a)(h.prototype,"overwriteLessonFilesWithUserFiles",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.spreadFiles(t),r=e.items.map((function(e){return n.find((function(t){return t.itemData.filePath===e.itemData.filePath}))||e}));e.items=r}}}),Y=Object(d.a)(h.prototype,"setDefaultOpenFilePath",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t&&(e.defaultOpenFilePath=t)}}}),$=Object(d.a)(h.prototype,"setDefaultRunFilePath",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t&&(e.defaultRunFilePath=t)}}}),Z=Object(d.a)(h.prototype,"resetPage",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.openedEditorItemFilePath=void 0,e.currentFileExplorerItemFilePath=void 0,e.setConsoleResult(""),e.alert={alert:!1,success:!1},e.explorerOpen=!0,e.consoleHeight=25,e.schemaError=!1,e.schemaLoading=!0,e.schemaResult=[]}}}),ee=Object(d.a)(h.prototype,"spreadFiles",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=[];return function t(r,i,o){r.map((function(r){"FOLDER"===r.type&&r.children?(t(r.children,r.id,o+1),n.push(new f.d(r,i,o,e.currentOpenFolders.includes(r.filePath)))):"READONLY"===r.type||"EDITABLE"===r.type?n.push(new f.b(r,i,o)):"DOWNLOADABLE"===r.type||"IMAGE"===r.type?n.push(new f.a(r,i,o,""+e.currentLesson.seqId)):"INVISIBLE"===r.type&&n.push(new f.c(r,i,o))}))}([{id:"/",name:e.rootFolderName,filePath:"/",type:"FOLDER",children:JSON.parse(JSON.stringify(t))}],"",0),n}}}),te=Object(d.a)(h.prototype,"setCurrentFileExplorerItemFilePath",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(l.a)(a.a.mark((function t(n){var r,i,o,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentFileExplorerItemFilePath=n,r=e.getEditorItemByKey(n)){t.next=4;break}return t.abrupt("return");case 4:if(e.openParentFolders(r),r instanceof f.d||e.setOpenedEditorItemFilePath(n),!e.isTerminalRequired){t.next=22;break}if(!["DOWNLOADABLE","IMAGE"].includes(r.itemData.type)){t.next=14;break}return t.next=10,null===(i=e.terminalFileReader)||void 0===i?void 0:i.getResourceFileUrl(n,r.itemData.name);case 10:"error"!==(o=t.sent)&&Object(p.p)((function(){e.items.forEach((function(e){e.itemData.filePath===n&&(e.link=o||"")}))})),t.next=22;break;case 14:if(r instanceof f.d){t.next=22;break}if(t.t0="INVISIBLE"!==r.itemData.type,!t.t0){t.next=20;break}return t.next=19,null===(s=e.terminalFileReader)||void 0===s?void 0:s.getTextFile(n);case 19:t.t0=t.sent;case 20:"error"!==(u=t.t0)&&Object(p.p)((function(){e.items.map(function(){var e=Object(l.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.itemData.filePath!==n){e.next=3;break}return t.itemData.content=u||"",e.abrupt("return",t);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ne=Object(d.a)(h.prototype,"convertFiles",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){var t=[],n=JSON.parse(JSON.stringify(e)).filter((function(e){return"/"!==e.itemData.id}));return n.sort((function(e,t){return t.level-e.level})).forEach((function(e){if("EDITABLE"!==e.itemData.type&&"READONLY"!==e.itemData.type||(e.itemData.content=Object(m.l)(e.itemData.content),"py"===e.itemData.name.split(".")[e.itemData.name.split(".").length-1]&&(e.itemData.content=function(e,t){for(var n="",r=0;r<t;r++){var i=new RegExp("^(\\t|\\s\\t|\\s\\s\\t|\\s\\s\\s\\t)".replace("^(","^("+n+")("),"gm");e=e.replace(i,"$1    "),n+="\\s\\s\\s\\s"}return e}(e.itemData.content,10))),"INVISIBLE"===e.itemData.type&&(e.itemData.type="EDITABLE"),"/"!==e.parentId){var r=n.find((function(t){return t.itemData.id===e.parentId}));void 0!==r&&r.itemData.children.push(e.itemData)}else t.push(e.itemData)})),t}}}),re=Object(d.a)(h.prototype,"filterItemsToFilePath",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t){return e.filter((function(e){return e.itemData.filePath!==t}))}}}),ie=Object(d.a)(h.prototype,"initSchema",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ue()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(m.y)("cat")?"Bearer "+Object(m.y)("cat"):""},data:'\n      mutation {\n        initialTable(studyNoteId: "'+(null===(n=e.currentLesson.studyNote)||void 0===n?void 0:n.id)+'")\n      }\n      '}).then(Object(p.f)((function(t){e.schemaLoading=!1,'"NULL\\n"'!==JSON.stringify(t.data.data.initialTable)?!t.data.errors.length&&t.data.data.initialTable?e.schemaResult=JSON.parse(t.data.data.initialTable):e.schemaError=!0:e.schemaError=!1}))).catch(Object(p.f)((function(t){Object(m.a)(t),e.schemaLoading=!1,e.schemaError=!0})));case 2:case"end":return t.stop()}}),t)})))}}),oe=Object(d.a)(h.prototype,"submit",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=e.currentFileExplorerItem)&&void 0!==n&&n.itemData){t.next=2;break}return t.abrupt("return");case 2:if(!Object($e.c)()||!e.currentLesson.trialLesson){t.next=6;break}e.submitWithoutSaving(),t.next=19;break;case 6:if(!e.isActionUnavailable()){t.next=10;break}Be.a.getInstance().setCurrentPopup(qe.b.invalidEnrollment),t.next=19;break;case 10:if(e.currentLesson.runnableType!==We.f.NOT_RUNNABLE){t.next=14;break}return t.abrupt("return");case 14:return e.setScreenBeforeRun(),e.setConsoleResult(ot.CodeEditorStore_WAITING),t.next=18,Ue()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(m.y)("cat")?"Bearer "+Object(m.y)("cat"):""},data:'\n          mutation {\n            submitFile(\n              studyNoteId: "'+e.currentLesson.studyNote.id+'"\n              input: {\n                files: '+(e.isTerminalRequired?"[]":e.getFilesForSubmit())+"\n              }\n              "+(null!==e.terminalExecutionLink?'instanceIp: "'+e.terminalExecutionLink+'"':"")+"\n            ) {\n              codeExecution {\n                result {\n                  "+Object(Ze.k)()+"\n                }\n              }\n            }\n          }"}).then((function(t){if(!t.data.errors.length&&t.data.data.submitFile){var n=t.data.data.submitFile.codeExecution.result;e.setConsole(n)}else Object(p.p)((function(){e.setConsoleResult(ot.CodeEditorStore_EXECUTION_ERROR)}))})).catch((function(t){Object(m.a)(t),Object(p.p)((function(){e.setConsoleResult(ot.CodeEditorStore_EXECUTION_ERROR)}))}));case 18:e.terminalExplorerReader&&e.readTerminalFileTree();case 19:case"end":return t.stop()}}),t)})))}}),ae=Object(d.a)(h.prototype,"submitWithoutSaving",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setScreenBeforeRun(),e.setConsoleResult(ot.CodeEditorStore_WAITING),t.next=4,Ue()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(m.y)("cat")?"Bearer "+Object(m.y)("cat"):""},data:'\n        mutation {\n          submitWithoutSaving(\n            lessonId: "'+e.currentLesson.id+'"\n            input: {\n              files: '+e.getFilesForSubmit()+"\n            }\n          ) {\n            result {\n              "+Object(Ze.k)()+"\n            }\n          }\n        }"}).then((function(t){if(!t.data.errors.length&&t.data.data.submitWithoutSaving){var n=t.data.data.submitWithoutSaving.result;e.setConsole(n)}else Object(p.p)((function(){e.setConsoleResult(ot.CodeEditorStore_EXECUTION_ERROR)}))})).catch((function(t){Object(m.a)(t),Object(p.p)((function(){e.setConsoleResult(ot.CodeEditorStore_EXECUTION_ERROR)}))}));case 4:case"end":return t.stop()}}),t)})))}}),le=Object(d.a)(h.prototype,"grade",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(a.a.mark((function t(){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object($e.c)()||!e.currentLesson.trialLesson){t.next=4;break}e.nonMemberGrade(),t.next=32;break;case 4:if(!e.isActionUnavailable()){t.next=8;break}Be.a.getInstance().setCurrentPopup(qe.b.invalidEnrollment),t.next=32;break;case 8:if(e.classroomStore){t.next=12;break}return t.abrupt("return");case 12:if(e.setScreenBeforeRun(),n=e.currentLesson,r=n.gradingType,i=n.runnableType,r!==We.b.SELF){t.next=28;break}if(e.consoleResult=ot.CodeEditorStore_COMPLETE_SELF_CHECK,e.classroomStore.setSelfCheckOpened(!0),e.scrollToSelf(),i===We.f.NOT_RUNNABLE||Object(Ye.c)(e.language)){t.next=24;break}return t.next=21,e.submit();case 21:Object(p.p)((function(){e.consoleResult+="\n"+ot.CodeEditorStore_COMPLETE_SELF_CHECK})),t.next=26;break;case 24:return t.next=26,e.save();case 26:t.next=32;break;case 28:return e.consoleResult=ot.CodeEditorStore_WAITING,t.next=31,Ue()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(m.y)("cat")?"Bearer "+Object(m.y)("cat"):""},data:'\n            mutation {\n              gradeFile(\n                studyNoteId: "'+e.currentLesson.studyNote.id+'"\n                input: {\n                  files: '+(e.isTerminalRequired?"[]":e.getFilesForSubmit())+"\n                }\n                "+(null!==e.terminalExecutionLink?'instanceIp: "'+e.terminalExecutionLink+'"':"")+"\n              ){\n                codeExecution {\n                  pass\n                  result {\n                    "+Object(Ze.k)()+"\n                  }\n                }\n              }\n            }"}).then((function(t){if(!t.data.errors.length&&t.data.data.gradeFile){var n=t.data.data.gradeFile.codeExecution,r=n.result,i=n.pass;e.setConsole(r),e.setAlert(i),i&&e.classroomStore.setLessonRating(!0)}else Object(p.p)((function(){e.consoleResult=ot.CodeEditorStore_EXECUTION_ERROR}))})).catch((function(t){Object(m.a)(t),Object(p.p)((function(){e.consoleResult=ot.CodeEditorStore_SCORING_ERROR}))}));case 31:e.terminalExplorerReader&&e.readTerminalFileTree();case 32:case"end":return t.stop()}}),t)})))}}),se=Object(d.a)(h.prototype,"nonMemberGrade",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(a.a.mark((function t(){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setScreenBeforeRun(),n=e.currentLesson,r=n.gradingType,i=n.runnableType,e.classroomStore){t.next=4;break}return t.abrupt("return");case 4:if(r!==We.b.SELF||i===We.f.NOT_RUNNABLE){t.next=15;break}if(e.consoleResult=ot.CodeEditorStore_COMPLETE_SELF_CHECK,e.classroomStore.setSelfCheckOpened(!0),e.scrollToSelf(),Object(Ye.c)(e.language)){t.next=12;break}return t.next=11,e.submit();case 11:Object(p.p)((function(){e.consoleResult+="\n"+ot.CodeEditorStore_COMPLETE_SELF_CHECK}));case 12:return t.abrupt("return");case 15:if(r!==We.b.SELF||i!==We.f.NOT_RUNNABLE){t.next=20;break}return e.classroomStore.setSelfCheckOpened(!0),e.scrollToSelf(),e.consoleResult=ot.CodeEditorStore_COMPLETE_SELF_CHECK,t.abrupt("return");case 20:return e.consoleResult=ot.CodeEditorStore_WAITING,t.next=23,Ue()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(m.y)("cat")?"Bearer "+Object(m.y)("cat"):""},data:'\n        mutation {\n          nonMemberGradeFile(\n            lessonId: "'+e.currentLesson.id+'"\n            input: {\n              files: '+e.getFilesForSubmit()+"\n            }\n          ) {\n              pass\n              result {\n                "+Object(Ze.k)()+"\n              }\n            }\n          }"}).then((function(t){if(!t.data.errors.length&&t.data.data.nonMemberGradeFile){var n=t.data.data.nonMemberGradeFile,r=n.result,i=n.pass;e.setConsole(r),e.setAlert(i),i&&e.classroomStore.setLessonRating(!0)}else Object(p.p)((function(){e.consoleResult=ot.CodeEditorStore_EXECUTION_ERROR}))})).catch((function(t){Object(m.a)(t),Object(p.p)((function(){e.consoleResult=ot.CodeEditorStore_SCORING_ERROR}))}));case 23:case"end":return t.stop()}}),t)})))}}),ue=Object(d.a)(h.prototype,"reset",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isTerminalRequired?Be.a.getInstance().setCurrentPopup("resetFiles"):e.items=e.spreadFiles(e.currentLesson.files&&e.currentLesson.files.length>0?e.currentLesson.files:e.originalFiles?Object(i.a)(e.originalFiles):[])}}}),ce=Object(d.a)(h.prototype,"save",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(a.a.mark((function t(){var n,r,i,o=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]&&o[0],!e.isEditorMode){t.next=3;break}return t.abrupt("return",Be.a.getInstance().setShortPopup(ot.CodeEditorStore_NOT_AVAILABLE_IN_EDITMODE));case 3:if(!e.isTerminalRequired){t.next=9;break}return t.next=6,e.writeTerminalTextFile();case 6:return t.sent&&Be.a.getInstance().setShortPopup(ot.CodeEditorStore_SAVED),t.abrupt("return");case 9:if(!e.isActionUnavailable()){t.next=13;break}Be.a.getInstance().setCurrentPopup(qe.b.invalidEnrollment),t.next=19;break;case 13:return n||e.loadingStore.setIsLoadingWithMessage(!0,ot.CodeEditorStore_SAVING),t.next=16,He.a.requestGraphql('mutation {\n        submitFile(\n          studyNoteId: "'+e.currentLesson.studyNote.id+'"\n          input: {\n            files: '+e.getFilesForSubmit()+"\n          }\n        ) {\n          id\n        }\n      }");case 16:i=t.sent,e.loadingStore.setIsLoading(!1),null!==(r=i.data)&&void 0!==r&&r.submitFile?n||Be.a.getInstance().setCurrentPopupShort("savePopup"):n||Be.a.getInstance().setCurrentPopupShort("notSavePopup");case 19:case"end":return t.stop()}}),t)})))}}),de=Object(d.a)(h.prototype,"getDownloadUrl",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(a.a.mark((function t(){var n,r,i,o,l,s,u,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isActionUnavailable()){t.next=3;break}return Be.a.getInstance().setCurrentPopup(qe.b.invalidEnrollment),t.abrupt("return",void 0);case 3:if(!e.isTerminalRequired){t.next=13;break}if(!e.isEditorMode){t.next=9;break}return t.next=7,He.a.requestGraphql('\n          mutation {\n            createSrcProjectUrl(\n              lessonId: "'+e.currentLesson.id+'"\n            )\n          }\n        ');case 7:return s=t.sent,t.abrupt("return",null===(l=s.data)||void 0===l?void 0:l.createSrcProjectUrl);case 9:return t.next=11,He.a.requestGraphql('\n        mutation {\n          zipTerminalProject(\n            bakeyFileRequest: {\n              root: "user"\n              directory: "/"\n              language: '+e.language+'\n              enrollmentId: "'+(null===(r=e.currentLesson.topic)||void 0===r||null===(i=r.enrollment)||void 0===i?void 0:i.id)+'"\n              seqId: '+e.currentLesson.seqId+"\n            }\n          )\n        }\n      ");case 11:return u=t.sent,t.abrupt("return",null===(o=u.data)||void 0===o?void 0:o.zipTerminalProject);case 13:return t.next=15,He.a.requestGraphql('\n      mutation {\n        downloadProject(\n          studyNoteId: "'+e.currentLesson.studyNote.id+'",\n          input: {\n            files: '+e.getFilesForDownload()+"\n          }\n        )\n      }\n    ");case 15:return c=t.sent,t.abrupt("return",null===(n=c.data)||void 0===n?void 0:n.downloadProject);case 17:case"end":return t.stop()}}),t)})))}}),pe=Object(d.a)(h.prototype,"setConsole",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.printed,r=t.status,i=t.errorLog,o=t.renderedUrl;if(o){if(e.isTerminalRequired){var a=new Qe.a;a.set("port",Object(Ke.a)(o).port,{domain:".codeit.kr",path:"/"}),a.set("bakey",Object(Ke.a)(o).bakey,{domain:".codeit.kr",path:"/"})}return window.open(o,"_blank",e.isTerminalRequired?"":"width=1000,height=800"),void(e.consoleResult=ot.CodeEditorStore_CHECK_BROWSER_SETTING)}"timeout"!==r?"[]"!==n&&n||!i||e.language===tt.g.JupyterDs?"[]"!==n&&n?e.language===tt.g.JupyterDs?e.consoleResult=n:e.consoleResult=n+"\n"+i:e.consoleResult="":e.consoleResult=i:e.consoleResult=ot.CodeEditorStore_EXECUTION_TIME_ERROR}}}),fe=Object(d.a)(h.prototype,"setAlert",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.alert={alert:!0,success:t}}}}),me=Object(d.a)(h.prototype,"closeAlert",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.alert={alert:!1,success:!1}}}}),he=Object(d.a)(h.prototype,"handleMouseMove",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=document.getElementsByClassName("CodeEditorTemplate")[0],r=t.touches?t.touches[0].pageY:t.clientY,i=(n.clientHeight-r+125)/n.clientHeight*100;i>=10&&100-i>30&&(e.consoleHeight=i)}}}),be=Object(d.a)(h.prototype,"handleMouseUp",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){setTimeout((function(){document.body.style.cursor="auto",document.body.removeEventListener("touchmove",e.handleMouseMove,!0),document.body.removeEventListener("mousemove",e.handleMouseMove,!0),window.removeEventListener("touchend",e.handleMouseUp,!0),window.removeEventListener("mouseup",e.handleMouseUp,!0)}),50)}}}),Ee=Object(d.a)(h.prototype,"handleMouseDown",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.target.className.includes("NewEditorConsole__header")&&(document.body.style.cursor="grab",document.body.addEventListener("touchmove",e.handleMouseMove,!0),document.body.addEventListener("mousemove",e.handleMouseMove,!0),window.addEventListener("touchend",e.handleMouseUp,!0),window.addEventListener("mouseup",e.handleMouseUp,!0))}}}),ge=Object(d.a)(h.prototype,"setScreenBeforeRun",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;e.setConsoleHeight(t)}}}),_e=Object(d.a)(h.prototype,"setConsoleHeight",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.consoleHeight=t}}}),ve=Object(d.a)(h.prototype,"changeExplorerOpen",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.explorerOpen=!e.explorerOpen}}}),Oe=Object(d.a)(h.prototype,"closeExplorer",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.explorerOpen=!1}}}),ye=Object(d.a)(h.prototype,"setModal",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){Be.a.getInstance().closePopup(),e.modalState[t]=n}}}),Ce=Object(d.a)(h.prototype,"addFileInFileExplorer",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r){var i=e.convertRootPathToEmptyString(e.currentFolderPathInFileExplorer)+"/"+n,o={id:t,name:n,filePath:i,type:r,content:""},a=e.items.find((function(t){return t.itemData.filePath===e.currentFolderPathInFileExplorer})),l=new f.b(o,(null===a||void 0===a?void 0:a.itemData.id)||"/",void 0!==a?a.level+1:0);void 0!==a&&a instanceof f.d&&a.childrenIds.push(t),e.items.push(l),e.setCurrentFileExplorerItemFilePath(i)}}}),Ie=Object(d.a)(h.prototype,"addFolderInFileExplorer",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r={id:t,name:n,filePath:e.convertRootPathToEmptyString(e.currentFolderPathInFileExplorer)+"/"+n,type:"FOLDER",children:[]},i=e.items.find((function(t){return t.itemData.filePath===e.currentFolderPathInFileExplorer})),o=new f.d(r,(null===i||void 0===i?void 0:i.itemData.id)||"/",void 0!==i?i.level+1:0,!0);i&&i instanceof f.d&&i.childrenIds.push(t),e.items.push(o),e.openParentFolders(o)}}}),Se=Object(d.a)(h.prototype,"addAssets",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){t.map(function(){var t=Object(l.a)(a.a.mark((function t(r){var i,o,l,s,u,c,d,h,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(m.v)(8),o=e.items.find((function(t){return t.itemData.filePath===e.currentFolderPathInFileExplorer})),!(l=Object(Xe.g)(r.fileName))&&!n){t.next=11;break}s={id:i,name:r.fileName,filePath:r.url,assetId:r.id,type:l?"IMAGE":"DOWNLOADABLE"},u=new f.a(s,null===o||void 0===o?void 0:o.itemData.id,void 0!==o?o.level+1:0),e.setOpenedEditorItemFilePath(u.itemData.filePath),e.items.push(u),void 0!==o&&o instanceof f.d&&o.childrenIds.push(i),t.next=16;break;case 11:return t.next=13,He.a.requestGraphql('\n          mutation {\n            bakeyTextFileToLessonFile(\n              fileDirectory: "'+r.fileName+'"\n              lessonSeqId: '+e.currentLesson.seqId+'\n              lessonFilePath: "'+e.convertRootPathToEmptyString(e.currentFolderPathInFileExplorer)+"/"+r.fileName+'"\n            ) {\n              id name filePath assetId type content\n            }\n          }\n        ');case 13:d=t.sent,(h=null===(c=d.data)||void 0===c?void 0:c.bakeyTextFileToLessonFile)&&(b=new f.b(h,e.currentFolderPathInFileExplorer,void 0!==o?o.level+1:0),Object(p.p)((function(){e.setOpenedEditorItemFilePath(null===b||void 0===b?void 0:b.itemData.filePath),e.items.push(b),void 0!==parent&&parent instanceof f.d&&parent.childrenIds.push(i)})));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),Fe=Object(d.a)(h.prototype,"isValidNameOnChange",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){return!e.items.some((function(e){return e.itemData.name===t&&e.parentId===n.parentId&&e.itemData.type===n.itemData.type}))}}}),Te=Object(d.a)(h.prototype,"updateFilePath",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.items.sort((function(e,t){return e.level-t.level})).map((function(t){var n=Object(Xe.e)(t.itemData.filePath);n&&(t.itemData.filePath=e.convertRootPathToEmptyString(n)+"/"+t.itemData.name)}))}}}),we=Object(d.a)(h.prototype,"useTool",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){Object.assign(e,t)}}}),xe=Object(d.a)(h.prototype,"removeTool",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.forEach((function(t){Object.assign(e,Object(r.a)({},t,void 0))})),e.rawTerminalFilePathList=[]}}}),je=Object(d.a)(h.prototype,"setEditorItemListByFilePathList",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["/","/error"],n=function(e){return Object(Xe.f)(e)?"FOLDER":Object(Xe.h)(e)?"EDITABLE":Object(Xe.g)(e)?"IMAGE":"INVISIBLE"};e.items=[],t.forEach((function(t){var r,i,o,a,l={data:{id:t,name:Object(Xe.d)(t),filePath:t,type:n(t)},parentFolderPath:Object(Xe.e)(t),level:Object(Xe.c)(t)};switch(n(t)){case"FOLDER":var s=t.slice(0,-1),u=null===(r=s.match(nt.a.FILE_NAME_WITHOUT_SLASH))||void 0===r?void 0:r[0],c=Object(Xe.e)(s)||"",d=Object(Xe.c)(s);null===(i=e.items.find((function(e){return e.itemData.filePath===c})))||void 0===i||i.childrenIds.push(s),e.items.push(new f.d({id:s||"/",name:u||e.rootFolderName,filePath:s||"/",type:"FOLDER"},c,d,!1));break;case"IMAGE":null===(o=e.items.find((function(e){return e.itemData.filePath===l.parentFolderPath})))||void 0===o||o.childrenIds.push(l.data.filePath),e.items.push(new f.a(l.data,l.parentFolderPath,l.level));break;default:null===(a=e.items.find((function(e){return e.itemData.filePath===l.parentFolderPath})))||void 0===a||a.childrenIds.push(l.data.filePath),e.items.push(new f.b(l.data,l.parentFolderPath,l.level))}}))}}}),Re=Object(d.a)(h.prototype,"deleteFileOrDirectory",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(l.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.terminalFileManager&&n)){t.next=6;break}return t.next=4,null===(r=e.terminalFileManager)||void 0===r?void 0:r.deleteFileOrDirectory(n);case 4:t.sent||alert(ot.CodeEditorStore_DELETE_FILE_ERROR);case 6:if(i=e.getItemByFilePath(n)){t.next=9;break}return t.abrupt("return");case 9:Object(p.p)((function(){i instanceof f.d?function t(n){n.childrenIds.map((function(n){var r=e.getItemByFilePath(n);r instanceof f.d&&t(r),e.items=e.filterItemsToFilePath(e.items,n)})),e.items=e.filterItemsToFilePath(e.items,n.itemData.filePath)}(i):e.items=e.filterItemsToFilePath(e.items,n)}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Le=Object(d.a)(h.prototype,"uploadFileOrDirectory",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(l.a)(a.a.mark((function t(n){var r,i,o,l,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.target.files?n.target.files:null){t.next=3;break}return t.abrupt("return");case 3:for(e.uploadFile=r,i=[],o=0;o<e.uploadFile.length;o++)i.push({name:e.uploadFile[o].name,progress:0});e.fileUploadProgressStore&&e.fileUploadProgressStore.setUploadFileList(i),Be.a.getInstance().setCurrentPopup("fileUploadProgress"),l=0;case 9:if(!(l<e.uploadFile.length)){t.next=17;break}return t.next=12,null===(s=e.terminalFileManager)||void 0===s?void 0:s.uploadFileOrDirectory(e.currentFolderPathInFileExplorer,e.uploadFile[l],l);case 12:t.sent&&alert(ot.CodeEditorStore_ERROR_IN_UPLOAD_FILE);case 14:l++,t.next=9;break;case 17:return t.next=19,e.readTerminalFileTree();case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Ne=Object(d.a)(h.prototype,"setTerminalExecutionLink",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.terminalExecutionLink=t}}}),Pe=Object(d.a)(h.prototype,"openFileAdderPopup",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isTerminalRequired?Be.a.getInstance().setCurrentPopup("createFile"):(e.setModal("file",!0),Be.a.getInstance().closePopup())}}}),De=Object(d.a)(h.prototype,"openFolderAdderPopup",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isTerminalRequired?Be.a.getInstance().setCurrentPopup("createFolder"):(e.setModal("folder",!0),Be.a.getInstance().closePopup())}}}),ke=Object(d.a)(h.prototype,"createFileRequest",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){if(!Object(Xe.h)(t.name))return Be.a.getInstance().setShortPopupSecond(ot.CodeEditorStore_EXTENTION_REQUIRED);var r=e.convertRootPathToEmptyString(e.currentFolderPathInFileExplorer)+"/"+t.name;if(e.hasDuplicatedFilePath(r))return Be.a.getInstance().setShortPopupSecond(ot.CodeEditorStore_DUPLICATED);e.isTerminalRequired?e.createFileInTerminal(t.name):e.addFileInFileExplorer(t.id,t.name,t.type),n&&n()}}}),Me=Object(d.a)(h.prototype,"createFolderRequest",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=e.convertRootPathToEmptyString(e.currentFolderPathInFileExplorer)+"/"+t.name;if(e.hasDuplicatedFilePath(r))return Be.a.getInstance().setShortPopupSecond(ot.CodeEditorStore_DUPLICATED_DIRECTORY);e.isTerminalRequired?e.createDirectoryInTerminal(t.name):e.addFolderInFileExplorer(t.id,t.name),n&&n()}}}),h);t.a=at},xXMI:function(e,t,n){},xpQ0:function(e,t,n){},xxJ7:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=(n("WW0X"),n("vJKn")),a=n.n(o),l=n("rg98"),s=n("xvhg"),u=(n("FA8J"),n("+f9f")),c=n("TyAF"),d=(n("jiin"),r.createElement);function p(e){var t=e.isSelected,n=e.darkMode,i=e.item,o=r.useMemo((function(){return n?"dark":"light"}),[n]),a=r.useMemo((function(){return t?"open":"close"}),[t]),l=r.useMemo((function(){return i instanceof u.d&&i.isOpen?"open":"close"}),[i instanceof u.d&&i.isOpen]);return d("div",{className:"ExplorerItemIcon"},i instanceof u.d?d(r.Fragment,null,d("img",{className:"ExplorerItemIcon__angle",alt:"angle",src:"/static/images/icons/angle--"+l+"--"+o+".png"}),d("img",{className:"ExplorerItemIcon__item",alt:"folder",src:"/static/images/icons/folder--"+a+"--"+o+".png"})):d("img",{className:"ExplorerItemIcon__item",alt:"file",src:"/static/images/icons/file--"+a+"--"+o+".png"}))}p.defaultProps={darkMode:!0};var f=Object(c.c)(p),m=n("m/Gp"),h=n("JcDS"),b=(n("aEeg"),n("cpGi")),E=r.createElement;function g(e){var t=e.className,n=void 0===t?"":t,r=e.img,i=e.darkMode,o=e.title,a=e.tooltip,l=e.tooltipPlace,s=e.onClick;return E("div",{className:"NewEditorBtn "+(i?"Dark":"")+" "+n,onClick:function(e){e.stopPropagation(),s()}},E("img",{src:r,alt:o,"data-tip":!0,"data-for":"newEditorBtn-tooltip--"+o}),E(b.a,{id:"newEditorBtn-tooltip--"+o,className:"NewEditorBtn__reactToolTip",effect:"solid",place:l,arrowColor:"#8F00FF"},E("span",null,a)))}var _=n("Mpw+"),v=n("rzrn"),O=n("Z/8h"),y=n("l+d7"),C=n("jKG3"),I=n("4dgq"),S=r.createElement,F=Object(c.c)((function e(t){var n=_.a.intlStringFactory(["ExplorerItem_SET_FILE_OPENED","ExplorerItem_SET_RUN_FILE","ExplorerItem_NEW_FILE","ExplorerItem_NEW_FOLDER","ExplorerItem_RENAME","ExplorerItem_MOVE","ExplorerItem_DELETE","ExplorerItem_DOWNLOAD","ExplorerItem_PROJECT_DOWNLOAD","ExplorerItem_OPEN","ExplorerItem_RUN","ExplorerItem_WILL_YOU_DELETE","ExplorerItem_DO_DELETE","ExplorerItem_CANCEL","ExplorerItem_ERROR_IN_DOWNLOAD"]),i=t.className,o=void 0===i?"":i,d=t.isRootItem,p=t.item,b=t.darkMode,E=t.getChildItems,F=t.codeEditorStore,T=F.isEditorMode,w=F.renameFileOrDirectory,x=F.deleteFileOrDirectory,j=F.setDefaultOpenFilePath,R=F.setDefaultRunFilePath,L=F.changeExplorerOpen,N=F.getDownloadUrl,P=F.isFileStructureEditable,D=F.openFileAdderPopup,k=F.openFolderAdderPopup,M=F.save,A=F.defaultOpenFilePath,z=F.defaultRunFilePath,U=F.currentLesson,B=F.classroomStore,W=F.currentFileExplorerItemFilePath,q=F.setCurrentFileExplorerItemFilePath,V=t.sizeStore.isTabletOrMobileSize,H=r.useState(!1),G=Object(s.a)(H,2),J=G[0],Q=G[1],K=r.useState(p.itemData.name),X=Object(s.a)(K,2),Y=X[0],$=X[1],Z=r.useMemo((function(){var e,t,n=Boolean(null===(e=U.topic)||void 0===e||null===(t=e.enrollment)||void 0===t?void 0:t.id);return d&&(n||T)}),[d,U,B,T]),ee=function(){var e=Object(l.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)?y.a.downloadFileFromUrl(t,"project.zip"):v.a.getInstance().setAlertPopup(n.ExplorerItem_ERROR_IN_DOWNLOAD,"alert",!0,Object(C.a)(I.a.getInstance().currentUser.theme));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=Object(c.c)((function(t){var n=t.item;return S(r.Fragment,null,n instanceof u.d&&n.isOpen&&E(n.itemData.id).map((function(n){return S(e,{item:n,key:n.itemData.id,darkMode:b,getChildItems:E,codeEditorStore:t.codeEditorStore,sizeStore:t.sizeStore})})))})),ne=r.useMemo((function(){return p.itemData.filePath===W}),[p,W]),re=r.useCallback((function(e){switch(e){case n.ExplorerItem_SET_FILE_OPENED:p instanceof u.d||j(p.itemData.filePath);break;case n.ExplorerItem_SET_RUN_FILE:p instanceof u.d||R(p.itemData.filePath);break;case n.ExplorerItem_RENAME:Q(!0);break;case n.ExplorerItem_NEW_FILE:D();break;case n.ExplorerItem_NEW_FOLDER:k(),Q(!0);break;case n.ExplorerItem_DELETE:v.a.getInstance().setCurrentPopup("removeFile--"+p.itemData.id);break;case n.ExplorerItem_MOVE:v.a.getInstance().setCurrentPopup("FOLDER"===p.itemData.type?"moveFolder":"moveFile")}}),[p,R]),ie=r.useMemo((function(){if("/"===p.itemData.id)return 0;var e=0!==p.level?15*(p.level+1):15;return p instanceof u.d||(e+=15),e}),[p.level]),oe=r.useMemo((function(){var e=[n.ExplorerItem_RENAME,n.ExplorerItem_DELETE],t=[];return"FOLDER"===p.itemData.type?t=[n.ExplorerItem_NEW_FILE,n.ExplorerItem_NEW_FOLDER]:T&&(t=[n.ExplorerItem_SET_FILE_OPENED,n.ExplorerItem_SET_RUN_FILE]),t.concat(e)}),[p.itemData.type]),ae=r.useCallback((function(e){if(!T||!e)return"";var t="";return e===A&&(t+=n.ExplorerItem_OPEN),e===z&&(t+=n.ExplorerItem_RUN),t}),[A,z]),le=r.useCallback((function(){$(p.itemData.name),Q(!1)}),[Y,J]),se=r.useCallback((function(){q(p.itemData.filePath),p instanceof u.d?p.changeOpen():!P&&V&&L()}),[p,q]),ue=r.useCallback(function(){var e=Object(l.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(Y,p,"Enter"===t.key);case 2:if(!e.sent){e.next=7;break}return le(),e.next=7,M();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Y,J]),ce=r.useCallback((function(e){$(e.target.value)}),[Y,J]),de=r.useCallback((function(e){e.stopPropagation()}),[]),pe=r.useCallback((function(e){"Enter"===e.key||13===e.keyCode?ue(e):"Escape"!==e.key&&27!==e.keyCode||le()}),[Y,J]);return S(r.Fragment,null,S("div",{className:"ExplorerItem\n          "+(d?"ExplorerItem--rootRightPadding":"")+"\n          "+(p instanceof u.d&&p.isOpen?"ExplorerItem--isFolderOpened":"")+"\n          "+(ne?"ExplorerItem--isSelected":"")+"\n          "+(b?"dark":"")+"\n          "+o+"\n        ",style:{marginLeft:ie},onClick:se},Z&&S("div",{className:"ExplorerItem__download"},S(g,{className:"ExplorerItem__download--btn",onClick:ee,img:"/static/images/classroom/download"+(b?"-dark":"")+".png",darkMode:b,title:n.ExplorerItem_DOWNLOAD,tooltip:n.ExplorerItem_PROJECT_DOWNLOAD,tooltipPlace:"left"})),S(f,{item:p,darkMode:b,isSelected:ne}),P&&J?S("input",{autoComplete:"off",className:"ExplorerItem__edit",value:Y,autoFocus:!0,onChange:ce,onClick:de,onKeyDown:pe,onBlur:le}):S("span",{className:"ExplorerItem__name"},ae(p.itemData.filePath),p.itemData.name||""),P&&!d&&S(m.a,{className:"ExplorerItem__optionWrapper",trigger:S("button",{className:"ExplorerItem__option"},S("span",{className:"ExplorerItem__option__dot"}),S("span",{className:"ExplorerItem__option__dot"}),S("span",{className:"ExplorerItem__option__dot"})),content:S(h.a,{textList:oe,onSelect:re}),closeAfterClick:!0,onClick:function(){return q(p.itemData.filePath)}})),S(te,{item:p,codeEditorStore:t.codeEditorStore,sizeStore:t.sizeStore}),S(O.a,{popupTitle:"removeFile--"+p.itemData.id,title:n.ExplorerItem_WILL_YOU_DELETE,className:"ExplorerItem__popupRemoveFile "+(b?"dark":""),hasBtn2:!0,hasIcon:!0,iconType:"trash",iconPosition:"top",btnFunc:Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(p.itemData.filePath);case 2:if(T){e.next=5;break}return e.next=5,M();case 5:case"end":return e.stop()}}),e)}))),btnText:n.ExplorerItem_DO_DELETE,btn2Text:n.ExplorerItem_CANCEL,btnType:"3d"}))})),T=(n("EzZl"),n("Fz3V")),w=(n("HSPy"),n("Rhuy")),x=i.a.createElement,j=function(e){var t=e.popupTitle,n=e.title,r=e.description,o=e.placeholderText,a=e.onClick,l=e.buttonText,u=e.isMovePopup,c=void 0!==u&&u,d=e.currentLessonTitle,p=i.a.useState(""),f=Object(s.a)(p,2),m=f[0],h=f[1];return x(T.a,{title:n,popupTitle:t,className:"PopupFileManager "+(Object(C.a)(I.a.getInstance().currentUser.theme)?"Dark":""),content:"",component:x(i.a.Fragment,null,r&&x("p",null,r),c?x("div",{className:"PopupFileManager__InputWrapper"},x("span",null,d),"/",x("input",{value:m,onChange:function(e){return h(e.target.value)},placeholder:o})):x("input",{value:m,onChange:function(e){return h(e.target.value)},placeholder:o}),x(w.a,{text:l,onClickBtn:function(){a(m),h("")}}))})},R=n("9rZX"),L=n.n(R),N=n("cBaE"),P=(n("P7DB"),n("PKug"),r.createElement);function D(e){var t=e.item,n=e.isCheck,r=e.handleItemCheck;return P("div",{className:"AttachItem"},P("button",{className:"AttachItem__check"+(n?" Checked":""),onClick:function(){r(t)}},n&&P("img",{alt:"selected icon",src:"/static/images/admin/selected.svg",width:11,height:11})),P("span",{className:"AttachItem__fileName"},t.fileName),P("span",{className:"AttachItem__id"},t.id),P("span",{className:"AttachItem__size"},Object(N.r)(t.fileSize)))}var k=r.createElement;var M=function(e){var t=_.a.intlStringFactory(["ExplorerModalAttachList_FILE_NAME","ExplorerModalAttachList_ID","ExplorerModalAttachList_CAPACITY"]),n=e.attachList,r=e.checkList,i=e.isAllCheck,o=e.handleAllCheck,a=e.handleItemCheck;return k("div",{className:"AttachList"},k("div",{className:"AttachList__header"},k("button",{className:"AttachList__header__check"+(i?" Checked":""),onClick:o},i&&k("img",{alt:"selected icon",src:"/static/images/admin/selected.svg",width:11,height:11})),k("span",{className:"AttachList__header__fileName"},t.ExplorerModalAttachList_FILE_NAME),k("span",{className:"AttachList__header__id"},t.ExplorerModalAttachList_ID),k("span",{className:"AttachList__header__size"},t.ExplorerModalAttachList_CAPACITY)),k("div",{className:"AttachList__body"},n.map((function(e){return k(D,{key:e.url,isCheck:!!r.find((function(t){return t.url===e.url})),handleItemCheck:a,item:e})}))))},A=(n("gh8m"),n("WJ1q")),z=r.createElement;var U=Object(c.b)("codeEditorStore")(Object(c.c)((function(e){var t,n=_.a.intlHTMLFactory(["CodeEditorFileExplorerEditorModal_encode_unable"]),i=_.a.intlStringFactory(["CodeEditorFileExplorerEditorModal_INPUT_NAME","CodeEditorFileExplorerEditorModal_duplicated","CodeEditorFileExplorerEditorModal_UPLOAD_FILE","CodeEditorFileExplorerEditorModal_CREATE_NEW_FILE","CodeEditorFileExplorerEditorModal_CREATE_NEW_FOLDER","CodeEditorFileExplorerEditorModal_INPUT_FILE_NAME","CodeEditorFileExplorerEditorModal_EDIT","CodeEditorFileExplorerEditorModal_POSSIBLE","CodeEditorFileExplorerEditorModal_IMPOSSIBLE","CodeEditorFileExplorerEditorModal_CREATE","CodeEditorFileExplorerEditorModal_original_file"]),o=e.type,a=e.codeEditorStore,l=a.modalState,u=a.setModal,c=a.save,d=a.createFileRequest,p=a.createFolderRequest,f=a.addAssets,m=a.isEditorMode,h=a.currentLesson,E=r.useState(Object(N.v)(8)),g=Object(s.a)(E,2),v=g[0],O=g[1],y=r.useState(""),C=Object(s.a)(y,2),I=C[0],S=C[1],F=r.useState(!1),T=Object(s.a)(F,2),w=T[0],x=T[1],j=r.useState(!1),R=Object(s.a)(j,2),P=R[0],D=R[1],k=r.useState([]),U=Object(s.a)(k,2),B=U[0],W=U[1],q=r.useCallback((function(e){S(e.target.value)}),[]),V=r.useMemo((function(){return"file"===o?w?"READONLY":"EDITABLE":"attach"===o?"DOWNLOADABLE":"FOLDER"}),[o,w]),H=r.useCallback((function(e){if(e.preventDefault(),"attach"===o)return f(B,P),void J();I?"folder"===o?p({id:v,name:I},G):d({id:v,name:I,type:V},G):alert(i.CodeEditorFileExplorerEditorModal_INPUT_NAME)}),[I,B,o,V,P]),G=function(){c(),J()},J=r.useCallback((function(){S(""),O(Object(N.v)(8)),"folder"===o?u("folder",!1):"file"===o?u("file",!1):(u("attach",!1),W([]))}),[o]),Q=r.useMemo((function(){return"attach"===o?l.attach:"file"===o?l.file:l.folder}),[o,l.attach,l.file,l.folder]),K=r.useMemo((function(){return"attach"===o?i.CodeEditorFileExplorerEditorModal_UPLOAD_FILE:"file"===o?i.CodeEditorFileExplorerEditorModal_CREATE_NEW_FILE:i.CodeEditorFileExplorerEditorModal_CREATE_NEW_FOLDER}),[o]),X=r.useCallback((function(){x(!w)}),[w]),Y=r.useMemo((function(){var e;return!(!h.assets||(null===(e=h.assets)||void 0===e?void 0:e.length)!==B.length)}),[null===(t=h.assets)||void 0===t?void 0:t.length,B.length]),$=r.useCallback((function(){W(Y?[]:h.assets||[])}),[B]),Z=r.useCallback((function(e){var t=B.find((function(t){return t.url===e.url}));W(void 0!==t?B.filter((function(e){return e.url!==t.url})):B.concat([e]))}),[B]);return z(L.a,{isOpen:Q,onRequestClose:J,overlayClassName:"CodeEditorFileExplorerEditorModal__overlay",className:"CodeEditorFileExplorerEditorModal",shouldCloseOnOverlayClick:!0,ariaHideApp:!1},z("div",{className:"CodeEditorFileExplorerEditorModal__content"},z("h1",{className:"CodeEditorFileExplorerEditorModal__content__title"},K),"attach"===o||z("input",{value:I,onChange:q,className:"CodeEditorFileExplorerEditorModal__content__input",placeholder:i.CodeEditorFileExplorerEditorModal_INPUT_FILE_NAME}),"attach"===o&&z(M,{attachList:h.assets||[],isAllCheck:Y,checkList:B,handleAllCheck:$,handleItemCheck:Z}),m&&z(r.Fragment,null,"file"===o&&z("div",{className:"CodeEditorFileExplorerEditorModal__toggles"},z("span",null,i.CodeEditorFileExplorerEditorModal_EDIT," :\xa0"),z("label",{className:"CodeEditorFileExplorerEditorModal__toggleBtn"},z("button",{className:"CodeEditorFileExplorerEditorModal__toggleBtn__btn"+(w?"":" Clicked"),onClick:X},z("span",{className:"CodeEditorFileExplorerEditorModal__toggleBtn__btn__symbol"})),z("span",null,i.CodeEditorFileExplorerEditorModal_POSSIBLE)),z("label",{className:"CodeEditorFileExplorerEditorModal__toggleBtn"},z("button",{className:"CodeEditorFileExplorerEditorModal__toggleBtn__btn"+(w?" Clicked":""),onClick:X},z("span",{className:"CodeEditorFileExplorerEditorModal__toggleBtn__btn__symbol"})),z("span",null,i.CodeEditorFileExplorerEditorModal_IMPOSSIBLE))),z("div",{"data-tip":!0,"data-for":"uploadResourceFile"},z(A.a,{state:P,updateCheckboxValue:function(){return D(!P)},message:i.CodeEditorFileExplorerEditorModal_original_file,isDark:!0})),z(b.a,{id:"uploadResourceFile",effect:"solid",arrowColor:"black"},z("span",{dangerouslySetInnerHTML:n.CodeEditorFileExplorerEditorModal_encode_unable}))),z("button",{className:"CodeEditorFileExplorerEditorModal__content__btn",onClick:H},i.CodeEditorFileExplorerEditorModal_CREATE)))}))),B=r.createElement;var W=Object(c.b)("codeEditorStore")(Object(c.c)((function(e){var t=_.a.intlStringFactory(["CodeEditorFileExplorerEditor_MANAGE_FILE","CodeEditorFileExplorerEditor_NEW_FILE","CodeEditorFileExplorerEditor_NEW_FOLDER","CodeEditorFileExplorerEditor_ATTACH_FILE","CodeEditorFileExplorerEditor_ATTACH_FOLDER","CodeEditorFileExplorerEditor_CREATE_FILE","CodeEditorFileExplorerEditor_CREATE_FOLDER","CodeEditorFileExplorerEditor_CREATE_FILE_PLACEHOLDER","CodeEditorFileExplorerEditor_CREATE_FOLDER_PLACEHOLDER","CodeEditorFileExplorerEditor_CREATE","CodeEditorFileExplorerEditor_MOVE_FILE","CodeEditorFileExplorerEditor_EDIT_FILE_PATH","CodeEditorFileExplorerEditor_APPLY","CodeEditorFileExplorerEditor_MOVE_FOLDER","CodeEditorFileExplorerEditor_EDIT_FOLDER_PATH"]),n=e.codeEditorStore,i=n.setModal,o=n.currentLesson,a=n.uploadFileOrDirectory,l=n.createFileRequest,s=n.createFolderRequest,u=n.moveFileOrDirectoryInTerminal,c=n.openFileAdderPopup,d=n.openFolderAdderPopup,p=n.isTerminalRequired,f=n.isEditorMode;return r.useEffect((function(){var e,t;"manageFiles"===v.a.getInstance().currentPopup&&(null===(e=document.getElementById("uploadFolder"))||void 0===e||e.setAttribute("webkitdirectory",""),null===(t=document.getElementById("uploadFolder"))||void 0===t||t.setAttribute("directory",""))}),["manageFiles"===v.a.getInstance().currentPopup]),B("div",{className:"CodeEditorFileExplorerEditor "+("DARK"===I.a.getInstance().currentUser.theme?"Dark":"")},B("button",{className:"CodeEditorFileExplorerEditor__openManageFilesButton",onClick:function(){return v.a.getInstance().setCurrentPopup("manageFiles")}},t.CodeEditorFileExplorerEditor_MANAGE_FILE),B(U,{type:"folder"}),B(U,{type:"file"}),B(U,{type:"attach"}),B(T.a,{title:"",popupTitle:"manageFiles",className:"CodeEditorFileExplorerEditor "+("DARK"===I.a.getInstance().currentUser.theme?"Dark":""),component:B("div",null,B("button",{className:"CodeEditorFileExplorerEditor__manageFilesButton",onClick:function(){return c()}},t.CodeEditorFileExplorerEditor_NEW_FILE),B("button",{className:"CodeEditorFileExplorerEditor__manageFilesButton",onClick:function(){return d()}},t.CodeEditorFileExplorerEditor_NEW_FOLDER),p&&B(r.Fragment,null,B("button",{className:"CodeEditorFileExplorerEditor__manageFilesButton"},B("label",{htmlFor:"uploadFiles"},t.CodeEditorFileExplorerEditor_ATTACH_FILE,B("input",{id:"uploadFiles",style:{display:"none"},type:"file",multiple:!0,onChange:function(e){return a(e)}}))),B("button",{className:"CodeEditorFileExplorerEditor__manageFilesButton"},B("label",{htmlFor:"uploadFolder"},t.CodeEditorFileExplorerEditor_ATTACH_FOLDER,B("input",{id:"uploadFolder",style:{display:"none"},type:"file",onChange:function(e){return a(e)}})))),f&&B("button",{className:"CodeEditorFileExplorerEditor__manageFilesButton",onClick:function(){return i("attach",!0)}},"\uc5d0\uc14b \ucca8\ubd80\ud558\uae30"))}),B(j,{popupTitle:"createFile",title:t.CodeEditorFileExplorerEditor_CREATE_FILE,placeholderText:t.CodeEditorFileExplorerEditor_CREATE_FILE_PLACEHOLDER,onClick:function(e){return l({id:"",name:e,type:"EDITABLE"})},buttonText:t.CodeEditorFileExplorerEditor_CREATE}),B(j,{popupTitle:"createFolder",placeholderText:t.CodeEditorFileExplorerEditor_CREATE_FOLDER_PLACEHOLDER,title:t.CodeEditorFileExplorerEditor_CREATE_FOLDER,onClick:function(e){return s({id:"",name:e})},buttonText:t.CodeEditorFileExplorerEditor_CREATE}),B(j,{popupTitle:"moveFile",title:t.CodeEditorFileExplorerEditor_MOVE_FILE,description:t.CodeEditorFileExplorerEditor_EDIT_FILE_PATH,placeholderText:"",onClick:u,buttonText:t.CodeEditorFileExplorerEditor_APPLY,isMovePopup:!0,currentLessonTitle:o.title}),B(j,{popupTitle:"moveFolder",title:t.CodeEditorFileExplorerEditor_MOVE_FOLDER,description:t.CodeEditorFileExplorerEditor_EDIT_FOLDER_PATH,placeholderText:"",onClick:u,buttonText:t.CodeEditorFileExplorerEditor_APPLY,isMovePopup:!0,currentLessonTitle:o.title}))}))),q=r.createElement;var V=Object(c.b)("sizeStore","codeEditorStore")(Object(c.c)((function(e){var t=e.darkMode,n=e.codeEditorStore,i=n.items,o=n.explorerOpen,a=n.changeExplorerOpen,l=n.isFileStructureEditable,s=r.useCallback((function(e,t){var n=e.itemData.name.toUpperCase(),r=t.itemData.name.toUpperCase();return n<r?-1:n>r?1:0}),[]),u=r.useCallback((function(e){var t=i.filter((function(t){return t.parentId===e}));return c(t)}),[i]),c=function(e){var t={FOLDER:0,EDITABLE:1,READONLY:2,IMAGE:3,DOWNLOADABLE:4,INVISIBLE:5};return e.sort((function(e,n){return e.itemData.type===n.itemData.type?s(e,n):t[e.itemData.type]-t[n.itemData.type]})),e};return q(r.Fragment,null,o&&q("div",{className:"CodeEditorFileExplorer__background CR__hidden--L",onClick:a}),q("div",{className:"CodeEditorFileExplorer"},l?q(W,null):q("div",{className:"CodeEditorFileExplorer__paddingBox"}),q("div",{className:"CodeEditorFileExplorer__files"},i.length?q(F,{isRootItem:!0,item:i.find((function(e){return"/"===e.itemData.id})),darkMode:t,getChildItems:u,sizeStore:e.sizeStore,codeEditorStore:e.codeEditorStore}):q("span",null))))}))),H=(n("pSBW"),n("ulKH"),r.createElement);function G(e){var t=e.item,n=e.darkMode,r=e.changeExplorerOpen,i=e.explorerOpen;return H("div",{className:"NewEditorHeader "+(n?"Dark":"")},H("div",{className:"NewEditorHeader__explorerBtn",onClick:r},H("img",{src:"/static/images/icons/folder--"+(i?"close":"open")+"--"+(n?"black":"light")+".png"})),H("div",{className:"NewEditorHeader__currentFile"},H("span",{className:"NewEditorHeader__currentFile--symbol"+(n?" Dark":"")}),H("span",{className:"NewEditorHeader__currentFile--title"+(n?" Dark":"")},(null===t||void 0===t?void 0:t.itemData.name)||"")))}var J=n("Vvt1"),Q=n.n(J),K=(n("feAP"),n("rvTz"),n("UIfX")),X=n("LvDl"),Y=r.createElement,$=Object(c.c)((function(e){var t=_.a.intlStringFactory(["NewEditorConsoleBtns_EXECUTE","NewEditorConsoleBtns_OPEN_WEB_PAGE","NewEditorConsoleBtns_NOT_SUPPORTING","NewEditorConsoleBtns_SELF_SCORING","NewEditorConsoleBtns_SCORING","NewEditorConsoleBtns_NON_EXECUTABLE"]),n=e.className,r=void 0===n?"":n,i=e.darkMode,o=e.runnable,a=e.preview,l=e.lessonType,s=e.onSubmit,u=e.onGrade,c=e.language,d=e.gradingType;return Y("div",{className:"NewEditorConsoleBtns "+(i?"NewEditorConsoleBtns__isDark":"")+" "+r},Y("button",{"data-tip":!0,"data-for":"newEditorBtnNonExecutableTooltip",className:"NewEditorConsoleBtns__btn Submit "+(o?"":"NonRun"),onClick:Object(X.throttle)((function(){o&&s()}),1e3)},Y("span",{className:"NewEditorConsoleBtns__btn__name"},Object(K.c)(c)?t.NewEditorConsoleBtns_OPEN_WEB_PAGE:t.NewEditorConsoleBtns_EXECUTE,!o&&Y(b.a,{id:"newEditorBtnNonExecutableTooltip",className:"NewEditorBtn__reactToolTip--nonExecutable",effect:"solid",place:"bottom",arrowColor:i?"#2a2c3d":"#ffffff"},Y("span",null,t.NewEditorConsoleBtns_NON_EXECUTABLE))),!o&&Y("div",{className:"NewEditorConsoleBtns__nonrun"},Y("div",{className:"NewEditorConsoleBtns__nonrun--content"},t.NewEditorConsoleBtns_NOT_SUPPORTING))),"EXERCISE"===l&&!a&&Y("button",{className:"NewEditorConsoleBtns__btn Grade",onClick:u},Y("span",{className:"NewEditorConsoleBtns__btn__name"},"SELF"===d?t.NewEditorConsoleBtns_SELF_SCORING:t.NewEditorConsoleBtns_SCORING)))})),Z=(n("xXMI"),n("E4Z0")),ee=n.n(Z),te=(n("sztL"),r.createElement);function ne(e){var t=_.a.intlStringFactory(["JupyterOutput_error"]),n=new ee.a,i=r.useCallback((function(e){var t=Object.keys(e)[0],n=e[t];switch(t){case"text/html":return o(n);case"text/plain":return a(n);case"image/png":return l(t,n);default:return a(n)}}),[]),o=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+t}));return te("div",{className:"jupyter_output jupyter_output-display"},te("div",{className:"jupyter_output-display__html",dangerouslySetInnerHTML:{__html:t.trim()}}))}),[]),a=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+t}));return te("div",{className:"jupyter_output jupyter_output-display"},te("div",{className:"jupyter_output-display__text"},t.trim()))}),[]),l=r.useCallback((function(e,t){return te("div",{className:"jupyter_output jupyter_output-display"},te("img",{className:"jupyter_output-display__img",src:"data:"+e+";base64,"+t.replace("\n","")}))}),[]),s=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+"\n"+t})),r=n.ansi_to_html(t);return te("div",{className:"jupyter_output jupyter_output-error"},te("div",{className:"jupyter_output-error__html",dangerouslySetInnerHTML:{__html:r}}))}),[]),u=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+t}));return te("div",{className:"jupyter_output-stream"},te("div",{className:"jupyter_output-stream__text"},t))}),[]);switch(e.output.output_type){case"display_data":case"execute_result":return i(e.output.data);case"stream":return u(e.output.text);case"error":return s(e.output.traceback);default:return te("p",null,"'",t.JupyterOutput_error,".'")}}n("IEBa");var re=r.createElement;var ie=function(e){return re("div",{dangerouslySetInnerHTML:{__html:e.tableCode},className:"SqlTable"})},oe=(n("jxvJ"),function(e){return"int"===e?"INTEGER":e.toUpperCase()}),ae=(n("JNvJ"),r.createElement);function le(e){var t=e.schema;return ae("table",{className:"SchemaTableContent"},ae("thead",null,ae("tr",null,ae("th",{colSpan:2},t.name))),ae("tbody",null,t.data.map((function(e,t){return ae("tr",{key:t},ae("th",null,e.column_name,e.isPk?ae("span",{className:"SchemaTableContent__pk"},"(PK)"):""),ae("th",null,e.column_type))}))))}var se=r.createElement;function ue(e){var t=_.a.intlStringFactory(["SchemaTable_null"]),n=e.schemaList,r=function(e){var t=[];return e.map((function(n){if(!t.find((function(e){return e.name===n.table_name}))){var r={name:n.table_name,data:[]};e.filter((function(e){return e.table_name===n.table_name})).map((function(e){r.data.push({column_name:e.column_name,column_type:oe(e.column_type),isPk:"PRI"===e.column_key})})),t.push(r)}})),t}(n);return n.length?se("div",{className:"SchemaTable"},r.map((function(e){return se(le,{key:e.name,schema:e})}))):se("div",{className:"SchemaTable"},t.SchemaTable_null)}n("hON/");var ce=i.a.createElement,de=Object(c.b)("codeEditorStore")(Object(c.c)((function(e){var t=e.className,n=e.isCodeEditorOpen,o=e.codeEditorStore,s=o.readTerminalFileTree,u=o.webTerminalSrc,c=o.setTerminalExecutionLink,d=o.isReadyToRenderWebTerminal,p=Object(r.useMemo)((function(){return d&&n}),[d,n]),f=Object(X.throttle)(Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)}))),5e3),m=Object(r.useCallback)((function(){window.addEventListener("message",(function(e){"enterKey"===e.data&&f(),e.data.instanceIp&&c(e.data.instanceIp),e.stopPropagation()}))}),[]);return p?ce("div",{className:"CodeEditorWebTerminal "+t},ce("iframe",{id:"web-terminal",src:u,onLoad:m})):ce(i.a.Fragment,null)}))),pe=i.a.createElement,fe=function(e){var t=_.a.intlStringFactory(["Console_LOADING_SCHEMA","Console_LOADING_SCHEMA_ERROR"]),n=e.hasMultipleTab,i=e.hasTerminalTab,o=e.consoleType,a=e.executedConsoleResult,l=e.schema,s=e.isCodeEditorOpen,u=Object(r.useMemo)((function(){var e;return"jupyter"===o&&""!==a&&"[]"!==a&&"["===a[0]?null===(e=JSON.parse(a))||void 0===e?void 0:e.map((function(e,t){return pe(ne,{output:e,key:t})})):a}),[o,a]),c=Object(r.useMemo)((function(){return null!==l&&void 0!==l&&l.isLoading?t.Console_LOADING_SCHEMA:null!==l&&void 0!==l&&l.isLoading||null===l||void 0===l||!l.isError?(null===l||void 0===l?void 0:l.tableResult)&&pe(ue,{schemaList:l.tableResult}):t.Console_LOADING_SCHEMA_ERROR}),[l]),d=Object(r.useMemo)((function(){return n?"CodeEditorConsoleContent--multipleTab":""}),[n]),p=Object(r.useMemo)((function(){return"terminal"===o?"CodeEditorConsoleContent--terminal":""}),[o]),f=Object(r.useMemo)((function(){switch(o){case"executionResult":return a;case"jupyter":return u;case"sqlTable":return pe(ie,{tableCode:a});case"schema":return c;case"terminal":return""}}),[o,a,u,c,s]);return pe("div",{className:"\n      CodeEditorConsoleContent\n      "+d+"\n      "+p+"\n    "},pe("pre",{className:"CodeEditorConsoleContent__pre"},f,i&&pe(de,{className:"terminal"===o?"open":"closed",isCodeEditorOpen:s})))},me=(n("elDu"),i.a.createElement),he=function(e){var t=_.a.intlStringFactory(["Console_RESULT","Console_SCHEMA","Console_RESULT_WITH_SIGN","Console_WEB_TERMINAL"]),n=e.consoleList,r=e.currentTab,o=e.handleSetTab,a=(null===n||void 0===n?void 0:n.length)>1,l=function(e){switch(e){case"executionResult":case"jupyter":case"sqlTable":return a?t.Console_RESULT:t.Console_RESULT_WITH_SIGN;case"schema":return t.Console_SCHEMA;case"terminal":return t.Console_WEB_TERMINAL;default:return a?t.Console_RESULT:t.Console_RESULT_WITH_SIGN}};return me(a?function(){return me("div",{className:"CodeEditorConsoleTab"},n.map((function(e,t){return me(i.a.Fragment,null,t>0&&me("div",{className:"CodeEditorConsoleTab__divider CR__hidden--L"}),me("button",{key:t+"tab-"+e,className:"\n                CodeEditorConsoleTab__button\n                "+(r===e?"CodeEditorConsoleTab__button--active":"CodeEditorConsoleTab__button--inactive")+"\n              ",onClick:o,id:""+e},l(e)))})))}:function(){return me("span",{className:"CodeEditorConsoleTab__singleTab"},l(null===n||void 0===n?void 0:n[0]))},null)},be=r.createElement,Ee=Object(c.b)("classroomStore")(Object(c.c)((function(e){var t=e.onGrade,n=e.result,i=e.language,o=e.darkMode,a=e.onMouseDown,l=e.height,s=e.onSubmit,u=e.lessonType,c=e.runnable,d=e.isPreview,p=e.schemaError,f=void 0!==p&&p,m=e.schemaLoading,h=void 0!==m&&m,b=e.schemaResult,E=void 0===b?[]:b,g=e.currentTab,_=e.handleSetTab,v=e.classroomStore,O=e.consoleList,y=(null===O||void 0===O?void 0:O.length)>1,C=O.includes("terminal"),I=r.useMemo((function(){return void 0!==d&&d}),[d]);return be("div",{className:(o?"Dark":"")+" NewEditorConsole",style:{height:l+"%"}},be("div",{className:"NewEditorConsole__header "+(y?"NewEditorConsole__header--multipleTab":""),onMouseDown:a,onTouchStart:a},be(he,{consoleList:O,currentTab:g,handleSetTab:_}),be($,{className:"NewEditorConsole__header--btns CR__hidden--L",darkMode:o,runnable:c,preview:I,lessonType:u,onSubmit:s,onGrade:t,language:i})),be(fe,{hasMultipleTab:y,hasTerminalTab:C,consoleType:g,executedConsoleResult:n,schema:{isLoading:h,isError:f,tableResult:E},isCodeEditorOpen:!(null!==v&&void 0!==v&&v.splitViewStore.isRightClosed)}))}))),ge=n("rig7"),_e=(n("J/A8"),r.createElement);var ve=Object(c.c)((function(e){var t=e.item;return _e("div",{className:"ImageViewer"},_e("div",{className:"ImageViewer__content"},_e("img",{alt:t.link,src:t.link}),_e("span",null,t.itemData.name)))})),Oe=n("qyWI"),ye=r.createElement,Ce=Q()((function(){return Promise.all([n.e(52),n.e(56)]).then(n.bind(null,"I+mY"))}),{ssr:!1,loading:function(){return ye(Oe.a,null)},loadableGenerated:{webpack:function(){return["I+mY"]},modules:["../components/CodeEditor/Editor/Template/EditorTemplate.tsx -> components/common/AceEditor"]}});var Ie=Object(c.b)("codeEditorStore","sizeStore")(Object(c.c)((function(e){var t,n,i,o=_.a.intlStringFactory(["EditorTemplate_SAVE","EditorTemplate_RESET","EditorTemplate_POPUP_RESET_TITLE","EditorTemplate_WILL_DELETE","EditorTemplate_WILL_RESET","EditorTemplate_YES","EditorTemplate_NO","EditorTemplate_INVISIBLE_FILE"]),c=e.darkMode,d=e.isPreview,p=e.codeEditorStore,f=p.language,m=p.submit,h=p.grade,b=p.consoleResult,E=p.currentLesson,y=p.alert,S=p.handleMouseDown,F=p.consoleHeight,T=p.save,w=p.reset,x=p.closeAlert,j=p.explorerOpen,R=p.schemaError,L=p.schemaLoading,P=p.schemaResult,D=p.changeExplorerOpen,k=p.writeTerminalTextFile,M=p.resetProject,A=p.setScreenBeforeRun,z=p.isEditorMode,U=p.loadingStore,B=p.openedEditorItem,W=p.updateOpenEditorItemFilePath,q=p.initByLesson,V=p.setIsReadyToRenderWebTerminal,H=p.isTerminalRequired;r.useEffect((function(){U.isLoading||W()}),[B,U.isLoading]);var J=e.sizeStore.numberedWindowSizes,Q=(null===(t=K.b[f])||void 0===t?void 0:t.initialConsoleType)||"executionResult",X=r.useState(Q),Y=Object(s.a)(X,2),Z=Y[0],ee=Y[1],te=r.useCallback((function(e){ee(e.target.id)}),[]),ne=(null===(n=K.b[f])||void 0===n?void 0:n.afterExecutionConsoleType)||"executionResult",re=r.useCallback((function(){"NOT_RUNNABLE"!==E.runnableType&&(Z!==ne&&ee(ne),m())}),[ne,E.runnableType,Z]),ie=r.useCallback((function(){Z!==ne&&ee(ne),h()}),[ne,Z]),oe=r.useMemo((function(){return"INVISIBLE"===(null===B||void 0===B?void 0:B.itemData.type)?ye("p",{className:"invisibleFile"},o.EditorTemplate_INVISIBLE_FILE):B instanceof u.b?ye(Ce,{item:B,darkMode:c,isAdmin:Object(N.eb)(),onSave:T}):B instanceof u.a?ye(ve,{item:B}):ye("p",{className:"invisibleFile"},"\ud30c\uc77c\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}),[B,c]);return ye("div",{className:"EditorTemplate "+(j?"ExplorerOpened":"")+" "+(c?"Dark":"")},ye("div",{className:"EditorTemplate__body"},ye("div",{className:"EditorTemplate__body__left"},ye(G,{item:B,darkMode:c,changeExplorerOpen:D,explorerOpen:j}),ye("div",{className:"EditorTemplate__body__left__editor "+(Object(K.d)(f)?"EditorTemplate__body__left__editor--webTerminal":""),onBlur:function(){var e,t,n=Boolean((null===(e=E.topic)||void 0===e||null===(t=e.enrollment)||void 0===t?void 0:t.id)&&"READONLY"!==(null===B||void 0===B?void 0:B.itemData.type)||Object(N.hb)());Object(K.d)(f)&&n&&k()}},ye("div",{className:"EditorTemplate__body__left__editor--display "+(z||H?"EditorTemplate__body__left__editor--display--full":""),onFocus:function(){return J<3?A(47):{}}},oe),z||ye("div",{className:"EditorTemplate__body__left__editor--btns CR__hidden--SM"},ye($,{darkMode:c,runnable:"NOT_RUNNABLE"!==E.runnableType,preview:!!d,lessonType:E.type,onGrade:ie,onSubmit:re,language:f,gradingType:E.gradingType}),ye("div",{className:"EditorTemplate__body__left__editor--btns--right"},ye(g,{className:"NewEditorBtn__save",onClick:T,img:"/static/images/classroom/save"+(c?"-dark":"")+".png",darkMode:c,title:o.EditorTemplate_SAVE,tooltip:o.EditorTemplate_SAVE,tooltipPlace:"left"}),ye(g,{className:"NewEditorBtn__reset",onClick:w,img:"/static/images/classroom/reset"+(c?"-dark":"")+".png",darkMode:c,title:o.EditorTemplate_RESET,tooltip:o.EditorTemplate_RESET,tooltipPlace:"left"})))),z||ye(Ee,{runnable:"NOT_RUNNABLE"!==E.runnableType,onGrade:ie,onSubmit:re,result:b,language:f,lessonType:E.type,darkMode:c,onMouseDown:S,height:F,isPreview:d,schemaResult:P,schemaLoading:L,schemaError:R,currentTab:Z,handleSetTab:te,consoleList:null===(i=K.b[f])||void 0===i?void 0:i.consoleList}))),ye(O.a,{className:"EditorTemplate__PopupResetFiles",isDark:Object(C.a)(I.a.getInstance().currentUser.theme),popupTitle:"resetFiles",title:o.EditorTemplate_POPUP_RESET_TITLE,content:ye("p",null,o.EditorTemplate_WILL_DELETE,ye("br",null),o.EditorTemplate_WILL_RESET),hasBtn2:!0,btnType:"3d",btnText:o.EditorTemplate_YES,btnFunc:Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U.setIsLoading(!0),e.next=3,M();case 3:return V(!1),e.next=6,q(E);case 6:case"end":return e.stop()}}),e)}))),btn2Text:o.EditorTemplate_NO,btn2Func:function(){return v.a.getInstance().closePopup()}}),y.alert&&ye(ge.a,{isPass:y.success,setOff:x,darkMode:c}))}))),Se=(n("xpQ0"),n("ZicW")),Fe=r.createElement;t.a=Object(c.b)("codeEditorStore","sizeStore")(Object(c.c)((function(e){var t=e.codeEditorStore,n=t.items,i=t.language,o=t.currentLesson,a=t.explorerOpen,l=t.classroomStore,s=t.closeExplorer,u=t.initSchema,c=t.isEditorMode,d=t.loadingStore,p=e.sizeStore,f=e.isPreview,m=e.isDark;if(!p)return Fe(r.Fragment,null);var h=p.numberedWindowSizes,b=r.useMemo((function(){return m||(!!c||!f&&Object(C.a)(I.a.getInstance().currentUser.theme))}),[I.a.getInstance().currentUser.theme,f]);return r.useEffect((function(){p.numberedWindowSizes>3&&1===n.length&&s()}),[o]),r.useEffect((function(){"SQL"===i&&u()}),[i]),r.useEffect((function(){if(l){var e=l.splitViewStore.getLeftSizeInPercentage();100!==e&&e>60&&a&&s()}}),[l&&l.splitViewStore.getLeftSizeInPercentage()]),r.useEffect((function(){l&&a&&p.isTabletOrMobileSize&&s()}),[null===l||void 0===l?void 0:l.splitViewStore.getIsRightClosed(),h]),Fe("div",{className:"CodeEditorTemplate "+(a?"CodeEditorTemplate--withExplorer":"")},a&&Fe("div",{className:"CodeEditorTemplate__explorerContainer"},Fe(V,{darkMode:b})),Fe(Ie,{darkMode:b,isPreview:f}),d.isLoading&&Fe(Se.a,{title:d.loadingMsg,darkMode:b}))})))},xyGi:function(e,t,n){"use strict";var r,i,o,a,l,s,u,c,d,p,f,m,h,b,E,g,_,v=n("4nv/"),O=n("H+61"),y=n("UlJF"),C=n("EaFg"),I=(n("ACih"),n("2vnA")),S=n("cBaE"),F=(r=function(){function e(){var t=this;Object(O.a)(this,e),Object(v.a)(this,"timeoutTimer",i,this),Object(v.a)(this,"isSplitMode",o,this),Object(v.a)(this,"isDragging",a,this),Object(v.a)(this,"isRightClosed",l,this),Object(v.a)(this,"leftSizeInPercentage",s,this),this.getTimeoutTimer=function(){return t.timeoutTimer},Object(v.a)(this,"setTimeoutTimer",u,this),this.getIsSplitMode=function(){return t.isSplitMode},Object(v.a)(this,"setIsSplitMode",c,this),this.getIsDragging=function(){return t.isDragging},Object(v.a)(this,"setIsDragging",d,this),this.getIsRightClosed=function(){return t.isRightClosed},Object(v.a)(this,"setIsRightClosed",p,this),this.getLeftSizeInPercentage=function(){return t.leftSizeInPercentage},this.setLeftSizeInPercentage=function(e){e<0||e>100||(t.leftSizeInPercentage=e)},Object(v.a)(this,"setDefault",f,this),Object(v.a)(this,"setSplitModeByWidth",m,this),this.checkIsBothViewOpened=function(){return t.getIsSplitMode()&&!t.isRightClosed},Object(v.a)(this,"toggleIsRightClosed",h,this),Object(v.a)(this,"pressDragButton",b,this),Object(v.a)(this,"releaseDragButton",E,this),Object(v.a)(this,"handleMouseMove",g,this),Object(v.a)(this,"handleMouseUp",_,this),this.handleMouseDown=function(){document.body.addEventListener("mousemove",t.handleMouseMove),document.body.addEventListener("touchmove",t.handleMouseMove),window.addEventListener("mouseup",t.handleMouseUp),window.addEventListener("touchend",t.handleMouseUp)},this.setSplitModeByWidth()}return Object(y.a)(e,[{key:"computedLeftWidth",get:function(){return this.getIsRightClosed()?100:this.getIsSplitMode()?this.getLeftSizeInPercentage():0}},{key:"leftStyle",get:function(){return{width:(this.getIsRightClosed()?"100":this.getLeftSizeInPercentage().toString())+"%",visibility:this.getIsSplitMode()||this.getIsRightClosed()?"visible":"hidden"}}},{key:"rightStyle",get:function(){return{width:(this.getIsRightClosed()?"0":(100-this.getLeftSizeInPercentage()).toString())+"%",visibility:this.getIsRightClosed()?"hidden":"visible"}}}]),e}(),i=Object(C.a)(r.prototype,"timeoutTimer",[I.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),o=Object(C.a)(r.prototype,"isSplitMode",[I.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=Object(C.a)(r.prototype,"isDragging",[I.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=Object(C.a)(r.prototype,"isRightClosed",[I.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=Object(C.a)(r.prototype,"leftSizeInPercentage",[I.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),u=Object(C.a)(r.prototype,"setTimeoutTimer",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.timeoutTimer=t}}}),c=Object(C.a)(r.prototype,"setIsSplitMode",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.getIsSplitMode();e.isSplitMode=t,!n&&t?e.setIsRightClosed(!1):n&&!t&&e.setIsRightClosed(!0)}}}),d=Object(C.a)(r.prototype,"setIsDragging",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isDragging=t}}}),p=Object(C.a)(r.prototype,"setIsRightClosed",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.getIsRightClosed();e.isRightClosed=t,!t&&n?e.setLeftSizeInPercentage(e.getIsSplitMode()?50:0):t&&e.setLeftSizeInPercentage(100)}}}),f=Object(C.a)(r.prototype,"setDefault",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setTimeoutTimer(void 0),e.setIsSplitMode(!1),e.setIsDragging(!1),e.setIsRightClosed(!1),e.setLeftSizeInPercentage(50)}}}),m=Object(C.a)(r.prototype,"setSplitModeByWidth",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:994;S.F&&e.setIsSplitMode(window.innerWidth>=t)}}}),h=Object(C.a)(r.prototype,"toggleIsRightClosed",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setIsRightClosed(!e.getIsRightClosed())}}}),b=Object(C.a)(r.prototype,"pressDragButton",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.timeoutTimer=setTimeout((function(){e.handleMouseDown(),e.getIsRightClosed()||e.setIsDragging(!0)}),150)}}}),E=Object(C.a)(r.prototype,"releaseDragButton",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.timeoutTimer&&(clearTimeout(e.timeoutTimer),e.getIsDragging()?e.setIsDragging(!1):e.getIsRightClosed()?(e.setIsRightClosed(!1),e.setLeftSizeInPercentage(50)):(e.setIsRightClosed(!0),e.setLeftSizeInPercentage(100)),e.setTimeoutTimer(void 0))}}}),g=Object(C.a)(r.prototype,"handleMouseMove",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(!e.getIsRightClosed()){var n=(t.touches?t.touches[0].pagewidth:t.clientX)/window.innerWidth*100;n>=30&&100-n>30&&e.setLeftSizeInPercentage(n)}}}}),_=Object(C.a)(r.prototype,"handleMouseUp",[I.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setIsDragging(!1),document.body.removeEventListener("mousemove",e.handleMouseMove),document.body.removeEventListener("touchmove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp),window.removeEventListener("touchend",e.handleMouseUp)}}}),Object(C.a)(r.prototype,"computedLeftWidth",[I.g],Object.getOwnPropertyDescriptor(r.prototype,"computedLeftWidth"),r.prototype),Object(C.a)(r.prototype,"leftStyle",[I.g],Object.getOwnPropertyDescriptor(r.prototype,"leftStyle"),r.prototype),Object(C.a)(r.prototype,"rightStyle",[I.g],Object.getOwnPropertyDescriptor(r.prototype,"rightStyle"),r.prototype),r);t.a=F},yO8D:function(e,t,n){"use strict";var r=n("EXd0");n.d(t,"a",(function(){return r.a}))},"z2w+":function(e,t,n){}}]);